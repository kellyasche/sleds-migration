<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Analysis - local employment CART</title>

<script src="site_libs/header-attrs-2.22/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-6.4.0/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.0/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#section-TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#section-TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="section-TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">CTE impacts on migration trends in SW Minnesota</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Summary of results</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-gear"></span>
     
    Data prep and summaries
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="k12enrollment.html">K12Enrollment</a>
    </li>
    <li>
      <a href="k12orgs.html">K12Orgs</a>
    </li>
    <li>
      <a href="act.html">ACT</a>
    </li>
    <li>
      <a href="ap.html">AP</a>
    </li>
    <li>
      <a href="cteenrollment.html">CTEEnrollment</a>
    </li>
    <li>
      <a href="ctedemographics.html">CTEDemographics</a>
    </li>
    <li>
      <a href="cteintensity.html">CTEIntensity</a>
    </li>
    <li>
      <a href="assessments.html">Assessments</a>
    </li>
    <li>
      <a href="sat.html">SAT</a>
    </li>
    <li>
      <a href="nscenrollment.html">National Student Clearinghouse - enrollment</a>
    </li>
    <li>
      <a href="nsccompletions.html">National Student Clearinghouse - completions</a>
    </li>
    <li>
      <a href="employment.html">Employment</a>
    </li>
    <li>
      <a href="emp_states_each_year.html">Employment states each year</a>
    </li>
    <li>
      <a href="unemployment.html">Unemployment</a>
    </li>
    <li>
      <a href="avgwages.html">Average wages</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-gear"></span>
     
    Analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="analysis_multiple_correspondence.html">Analysis - multiple correspondence analysis</a>
    </li>
    <li>
      <a href="analysis_dep_var_states.html">Dependent variable states</a>
    </li>
    <li>
      <a href="analysis_local_employment_ct.html">Local employment cross tabs</a>
    </li>
    <li>
      <a href="the_story.html">The story</a>
    </li>
    <li>
      <a href="analysis_local_employment_cart.html">Local employment CART analysis</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="section-header">



<h1 class="title toc-ignore">Analysis - local employment CART</h1>

</div>


<p><br></p>
<p>We will use a tree-based method for classification - CART analysis.
This type of analysis involves stratifying and/or segmenting the
predictor space into a number of simple regions. Essentially, it’s
another way to see which independent variables play a role in if an
individual has meaningful employment in the local region X. We will be
using the independent variables that were identified as being important
in the multiple correspondence analysis.</p>
<p>There are a number of states at which we categorize individuals in
the dataset;</p>
<ol style="list-style-type: decimal">
<li>Has meaningful employment in the same county as their high
school.</li>
<li>Has meaningful employment in the same EDR as their high school, but
not county.</li>
<li>Has meaningful employment in Southwest Minnesota, but not in the
same EDR as their high school.</li>
<li>Has meaningful employment in Minnesota, but not in Southwest
Minnesota.</li>
<li>Is attending post-secondary.</li>
<li>Has a MN employment record but it’s not meaningful, and not
attending post-secondary.</li>
<li>Does not have a MN employment record and is not attending
post-secondary.</li>
</ol>
<p>There are three “times” in which we checked to see if the individual
had meaningful employment within these geographies;</p>
<ol style="list-style-type: decimal">
<li>one year after graduating high school</li>
<li>five years after graduation, and</li>
<li>ten years after graduation.</li>
</ol>
<p>Meaningful employment is determined by whether an individual worked
1,000 hours for an employer during time X. In addition, if the
individual is working for an employer but not meaningful at time X but
worked 1,000 hours for that employer during another year it’s still
considered “meaningful”.</p>
<p>Due to time x potentially being passed the date of the latest data
(2019) for some individuals, the analysis below will filter out all
individuals where time x is after 2019.</p>
<p>The primary independent variables that the cross tables indicated as
important are;</p>
<pre><code>## $Gender
## [1] &quot;factor&quot;
## 
## $LimitedEnglishProficiencyIndicator
## [1] &quot;factor&quot;
## 
## $economic.status
## [1] &quot;factor&quot;
## 
## $pseo.participant
## [1] &quot;factor&quot;
## 
## $SpecialEdStatus
## [1] &quot;factor&quot;
## 
## $RaceEthnicity
## [1] &quot;factor&quot;
## 
## $edr
## [1] &quot;factor&quot;
## 
## $took.ACT
## [1] &quot;factor&quot;
## 
## $cte.achievement
## [1] &quot;factor&quot;
## 
## $ps.grad.InstitutionSector
## [1] &quot;factor&quot;
## 
## $highest.cred.level
## [1] &quot;factor&quot;
## 
## $total.cte.courses.taken
## [1] &quot;numeric&quot;
## 
## $avg.cte.intensity
## [1] &quot;numeric&quot;
## 
## $MCA.M
## [1] &quot;numeric&quot;
## 
## $MCA.R
## [1] &quot;numeric&quot;
## 
## $MCA.S
## [1] &quot;numeric&quot;
## 
## $avg.unemp.rate
## [1] &quot;numeric&quot;
## 
## $avg.wages.pct.state
## [1] &quot;numeric&quot;</code></pre>
<p>In addition to eliminating those variables, we will also simplify the
ps.grad.InstitutionSector to the following codes;</p>
<ul>
<li>1 = graduated from the following insitutions
<ul>
<li>Public, 4-year (1)</li>
<li>Private, not for profit 4-year (2)</li>
<li>Private, for profit 4-year (3)</li>
</ul></li>
<li>2 = graduated from the following institutions
<ul>
<li>Private, not for profit 2-year (5, 11)</li>
<li>Private, for profit 2-year (6, 11)</li>
<li>Public, less than 2-year (7, 11)</li>
<li>Private, not for profit less than 2-year (8, 11)</li>
<li>Private for-profit, less-than 2-year (9, 11)</li>
</ul></li>
<li>3 = graduated from multiple institution sectors (10)</li>
<li>4 = graduated from a public, 2-year institution (4,4)</li>
<li>5 = Did not graduate or attend a post-secondary institution</li>
</ul>
<pre><code>##  [1] &quot;PersonID&quot;                           &quot;Gender&quot;                            
##  [3] &quot;LimitedEnglishProficiencyIndicator&quot; &quot;economic.status&quot;                   
##  [5] &quot;pseo.participant&quot;                   &quot;SpecialEdStatus&quot;                   
##  [7] &quot;RaceEthnicity&quot;                      &quot;edr&quot;                               
##  [9] &quot;took.ACT&quot;                           &quot;cte.achievement&quot;                   
## [11] &quot;ps.grad.InstitutionSector&quot;          &quot;highest.cred.level&quot;                
## [13] &quot;total.cte.courses.taken&quot;            &quot;avg.cte.intensity&quot;                 
## [15] &quot;MCA.M&quot;                              &quot;MCA.R&quot;                             
## [17] &quot;MCA.S&quot;                              &quot;avg.unemp.rate&quot;                    
## [19] &quot;avg.wages.pct.state&quot;                &quot;grad.year.1&quot;                       
## [21] &quot;grad.year.5&quot;                        &quot;grad.year.10&quot;</code></pre>
<p><br></p>
<div id="section-methodology" class="section level1">
<h1>Methodology</h1>
<p>We are going to use CART/Decision Trees to see which independent
variables are important. One limitation of this method is that the
dependent variable must be binary. So, we will need to force our 7
states into 2 states. We will begin by doing the following;</p>
<ol style="list-style-type: decimal">
<li>Meaningful emp in SW: this will include the following categories for
each time.x;</li>
</ol>
<ul>
<li>Meaningful emp County</li>
<li>Meaningful emp EDR</li>
<li>Meaningful emp SW</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>No meaningful emp in SW: this will include the following categories
for each time.x:</li>
</ol>
<ul>
<li>Meaningful emp MN</li>
<li>Attending ps</li>
<li>Not meaningful, not attending ps</li>
<li>No MN emp record, not attending ps</li>
</ul>
<p>Once we look at this analysis, we can determine if we want to split
the binary differently for further analysis.</p>
</div>
<div id="section-meaningful-emp-in-sw" class="section level1">
<h1>Meaningful emp in SW</h1>
<p>First, let’s re-categorize the dependent variables so that they are
binary.</p>
<p><br></p>
<pre class="r"><code>meaningful.emp.sw &lt;- updated.master %&gt;%
  mutate(grad.year.1 = ifelse(grad.year.1 %in% c(&quot;Meaningful emp County&quot;, &quot;Meaningful emp EDR&quot;, &quot;Meaningful emp SW&quot;), &quot;Meaningful emp SW&quot;, 
                              ifelse(grad.year.1 %in% c(&quot;Meaningful emp MN&quot;, &quot;Attending ps&quot;, &quot;Not meaningful, not attending ps&quot;, &quot;No MN emp record, not attending ps&quot;), &quot;No meaningful emp SW&quot;,
                                     ifelse(grad.year.1 == &quot;After 2019&quot;, &quot;After 2019&quot;, as.character(grad.year.1)))),
         grad.year.5 = as.factor(grad.year.1),
         grad.year.5 = ifelse(grad.year.5 %in% c(&quot;Meaningful emp County&quot;, &quot;Meaningful emp EDR&quot;, &quot;Meaningful emp SW&quot;), &quot;Meaningful emp SW&quot;, 
                              ifelse(grad.year.5 %in% c(&quot;Meaningful emp MN&quot;, &quot;Attending ps&quot;, &quot;Not meaningful, not attending ps&quot;, &quot;No MN emp record, not attending ps&quot;), &quot;No meaningful emp SW&quot;,
                                     ifelse(grad.year.5 == &quot;After 2019&quot;, &quot;After 2019&quot;, as.character(grad.year.5)))),
         grad.year.5 = as.factor(grad.year.5),
         grad.year.10 = ifelse(grad.year.10 %in% c(&quot;Meaningful emp County&quot;, &quot;Meaningful emp EDR&quot;, &quot;Meaningful emp SW&quot;), &quot;Meaningful emp SW&quot;, 
                              ifelse(grad.year.10 %in% c(&quot;Meaningful emp MN&quot;, &quot;Attending ps&quot;, &quot;Not meaningful, not attending ps&quot;, &quot;No MN emp record, not attending ps&quot;), &quot;No meaningful emp SW&quot;,
                                     ifelse(grad.year.10 == &quot;After 2019&quot;, &quot;After 2019&quot;, as.character(grad.year.10)))),
         grad.year.10 = as.factor(grad.year.10),
         grad.year.1 = fct_relevel(grad.year.1, &quot;Meaningful emp SW&quot;, &quot;No meaningful emp SW&quot;, &quot;After 2019&quot;),
         grad.year.5 = fct_relevel(grad.year.5, &quot;Meaningful emp SW&quot;, &quot;No meaningful emp SW&quot;, &quot;After 2019&quot;),
         grad.year.10 = fct_relevel(grad.year.10, &quot;Meaningful emp SW&quot;, &quot;No meaningful emp SW&quot;, &quot;After 2019&quot;))</code></pre>
<p><br></p>
<div id="section-one-year-after-graduation" class="section level2">
<h2>One year after graduation</h2>
<p>Since our dependent variable includes a state in which someone is
attending post-secondary and the post-secondary variables are related to
an individual finishing post-secondary, we will remove
“ps.grad.InstitutionSector” and the “highest.cred.level” variable from
the analysis.</p>
<pre><code>##  [1] &quot;Gender&quot;                             &quot;LimitedEnglishProficiencyIndicator&quot;
##  [3] &quot;economic.status&quot;                    &quot;pseo.participant&quot;                  
##  [5] &quot;SpecialEdStatus&quot;                    &quot;RaceEthnicity&quot;                     
##  [7] &quot;edr&quot;                                &quot;took.ACT&quot;                          
##  [9] &quot;cte.achievement&quot;                    &quot;total.cte.courses.taken&quot;           
## [11] &quot;avg.cte.intensity&quot;                  &quot;MCA.M&quot;                             
## [13] &quot;MCA.R&quot;                              &quot;MCA.S&quot;                             
## [15] &quot;avg.unemp.rate&quot;                     &quot;avg.wages.pct.state&quot;               
## [17] &quot;grad.year.1&quot;</code></pre>
<div id="section-base-model" class="section level3">
<h3>Base model</h3>
<p>First we will split the data into two sets, Train and Test, in a
70:30 ratio. The Train set is used for training and creating the model.
The Test set is considered to be a dummy production environment to test
predictions and evaluate the accuracy of the model.</p>
<p><br></p>
<pre class="r"><code>set.seed(1234)

sample_ind &lt;- sample(nrow(meaningful.emp.sw.grad.year.1), nrow(meaningful.emp.sw.grad.year.1) *.7)

train &lt;- meaningful.emp.sw.grad.year.1[sample_ind,]

test &lt;- meaningful.emp.sw.grad.year.1[-sample_ind,]</code></pre>
<p>Next, we create a decision tree model by calling the rpart function.
Let’s first create a base model with default parameters and value. The
CP (complexity parameter) is used to control tree growth. If the cost of
adding a variable is higher then the value of CP, then tree growth
stops.</p>
<p><br></p>
<p><img src="analysis_local_employment_cart_files/figure-html/decision%20tree%20plot%20meaningful%20emp%20SW%20grad%20year%201-1.png" width="672" /></p>
<pre><code>## 
## Classification tree:
## rpart(formula = grad.year.1 ~ ., data = train, method = &quot;class&quot;, 
##     control = rpart.control(cp = 0))
## 
## Variables actually used in tree construction:
##  [1] avg.cte.intensity                  avg.unemp.rate                    
##  [3] avg.wages.pct.state                cte.achievement                   
##  [5] economic.status                    edr                               
##  [7] Gender                             LimitedEnglishProficiencyIndicator
##  [9] MCA.M                              MCA.R                             
## [11] MCA.S                              pseo.participant                  
## [13] RaceEthnicity                      SpecialEdStatus                   
## [15] took.ACT                           total.cte.courses.taken           
## 
## Root node error: 2834/24494 = 0.1157
## 
## n= 24494 
## 
##            CP nsplit rel error xerror     xstd
## 1  6.1750e-04      0   1.00000 1.0000 0.017664
## 2  5.2929e-04     10   0.99330 1.0025 0.017683
## 3  3.7246e-04     20   0.98800 1.0212 0.017826
## 4  3.5286e-04     75   0.95519 1.0550 0.018079
## 5  3.1757e-04    105   0.94143 1.0639 0.018143
## 6  2.8870e-04    125   0.93366 1.0826 0.018280
## 7  2.8229e-04    136   0.93049 1.0949 0.018369
## 8  2.6464e-04    141   0.92908 1.0949 0.018369
## 9  2.3524e-04    145   0.92802 1.1129 0.018497
## 10 2.2054e-04    188   0.91426 1.1214 0.018557
## 11 2.1171e-04    207   0.90861 1.1288 0.018609
## 12 1.7643e-04    222   0.90543 1.1598 0.018824
## 13 1.3232e-04    250   0.90049 1.1803 0.018963
## 14 1.1762e-04    258   0.89944 1.1951 0.019063
## 15 1.0857e-04    267   0.89838 1.1951 0.019063
## 16 8.8215e-05    280   0.89697 1.2149 0.019194
## 17 7.0572e-05    296   0.89555 1.2152 0.019197
## 18 5.8810e-05    316   0.89414 1.2357 0.019331
## 19 0.0000e+00    340   0.89273 1.2466 0.019402</code></pre>
<p><img src="analysis_local_employment_cart_files/figure-html/decision%20tree%20plot%20meaningful%20emp%20SW%20grad%20year%201-2.png" width="672" /></p>
<p><br></p>
<p>The resulting model produced a VERY complex tree with too many nodes
that it isn’t interpretable. However, examining the complexity
parameters shows that I have an increasing cross-validated error which
provides evidence of a decision tree with too much complexity.</p>
<p>Below are the values in variable important and it shows that average
wages, average CTE intensity, the average unemployment rate, and total
CTE courses taken play a pretty big role.</p>
<p><br></p>
<pre class="r"><code>meaningful.emp.sw.grad.year.1.model$variable.importance</code></pre>
<pre><code>##                avg.wages.pct.state                  avg.cte.intensity 
##                          187.99408                          183.05978 
##                     avg.unemp.rate            total.cte.courses.taken 
##                          148.96849                          143.51225 
##                           took.ACT                              MCA.R 
##                          125.05834                           89.92941 
##                      RaceEthnicity                              MCA.M 
##                           56.22203                           55.77658 
##                                edr                    economic.status 
##                           47.19513                           42.54620 
##                    cte.achievement                    SpecialEdStatus 
##                           42.13352                           36.53211 
##                   pseo.participant                             Gender 
##                           19.60134                           18.60475 
##                              MCA.S LimitedEnglishProficiencyIndicator 
##                           14.03610                           11.48469</code></pre>
<p>Next, the accuracy of the model is computed and stored in a variable
base_accuracy so we can compare it to our pruned trees later.</p>
<p><br></p>
<pre class="r"><code>test$pred &lt;- predict(meaningful.emp.sw.grad.year.1.model, test, type = &quot;class&quot;)

base_accuracy &lt;- mean(test$pred == test$grad.year.1)

base_accuracy</code></pre>
<pre><code>## [1] 0.8545437</code></pre>
</div>
<div id="section-pre-pruning" class="section level3">
<h3>Pre-pruning</h3>
<p>Next, we need to prune. We can either pre-prune or post-prune. We
will start with pre-pruning and use each method - max depth, min depth,
and min bucket.</p>
<p><br></p>
<pre class="r"><code># Grow a tree with minsplit of 40 and max depth of 10
meaningful.emp.sw.grad.year.1.model.preprune &lt;- rpart(grad.year.1 ~ ., data = train, method = &quot;class&quot;, 
                   control = rpart.control(cp = 0, maxdepth = 5, minsplit = 10))</code></pre>
<pre class="r"><code>#Plot tree
rpart.plot(meaningful.emp.sw.grad.year.1.model.preprune)</code></pre>
<p><img src="analysis_local_employment_cart_files/figure-html/pre%20pruning%20plot%20meaningful%20emp%20SW%20grad%20year%201-1.png" width="672" /></p>
<pre class="r"><code># Examine the complexity plot
printcp(meaningful.emp.sw.grad.year.1.model.preprune)</code></pre>
<pre><code>## 
## Classification tree:
## rpart(formula = grad.year.1 ~ ., data = train, method = &quot;class&quot;, 
##     control = rpart.control(cp = 0, maxdepth = 5, minsplit = 10))
## 
## Variables actually used in tree construction:
## [1] avg.unemp.rate          avg.wages.pct.state     Gender                 
## [4] MCA.R                   took.ACT                total.cte.courses.taken
## 
## Root node error: 2834/24494 = 0.1157
## 
## n= 24494 
## 
##           CP nsplit rel error xerror     xstd
## 1 2.8229e-04      0   1.00000 1.0000 0.017664
## 2 8.8215e-05      5   0.99859 1.0021 0.017681
## 3 0.0000e+00      9   0.99824 1.0039 0.017694</code></pre>
<pre class="r"><code>plotcp(meaningful.emp.sw.grad.year.1.model.preprune)</code></pre>
<p><img src="analysis_local_employment_cart_files/figure-html/pre%20pruning%20plot%20meaningful%20emp%20SW%20grad%20year%201-2.png" width="672" /></p>
<pre class="r"><code># Compute the accuracy of the pruned tree

test$pred &lt;- predict(meaningful.emp.sw.grad.year.1.model.preprune, test, type = &quot;class&quot;)

accuracy_preprun &lt;- mean(test$pred == test$grad.year.1)

accuracy_preprun</code></pre>
<pre><code>## [1] 0.8770242</code></pre>
<p>The pre-pruning resulted in a significantly less complex tree with a
.877442 accuracy. Let’s see what variables are important in this
model.</p>
<p>This model does indicate a difference in importance when pruned.
Average wages are no longer as important, instead taking the ACT, MCA -
reading scores, are important. The total number of cte courses increases
as well while avg.cte.intensity is significantly lower.</p>
<p><br></p>
<pre class="r"><code>meaningful.emp.sw.grad.year.1.model.preprune$variable.importance</code></pre>
<pre><code>##                           took.ACT                              MCA.R 
##                        125.0583395                         44.0848395 
##            total.cte.courses.taken                    SpecialEdStatus 
##                         25.6735998                         22.8944206 
##                avg.wages.pct.state                              MCA.M 
##                         12.4675976                         10.3915814 
##                    cte.achievement                      RaceEthnicity 
##                          9.1619316                          6.0258647 
## LimitedEnglishProficiencyIndicator                             Gender 
##                          6.0020104                          3.3530932 
##                     avg.unemp.rate                  avg.cte.intensity 
##                          1.1317791                          0.3720528 
##                   pseo.participant 
##                          0.3258761</code></pre>
</div>
<div id="section-post-pruning" class="section level3">
<h3>Post-pruning</h3>
<p>Next, let’s try postpruning. The idea here is to allow the decision
tree to grow fully and observe the CP value. Next, we prune/cut the tree
with the optimal CP value as the parameter as shown in below code:</p>
<p><br></p>
<pre class="r"><code># Prune the hr_base_model based on the optimal cp value
meaningful.emp.sw.grad.year.1.model.postprune &lt;- prune(meaningful.emp.sw.grad.year.1.model, cp = .00052929)

#Summary
summary(meaningful.emp.sw.grad.year.1.model.postprune)</code></pre>
<pre><code>## Call:
## rpart(formula = grad.year.1 ~ ., data = train, method = &quot;class&quot;, 
##     control = rpart.control(cp = 0))
##   n= 24494 
## 
##             CP nsplit rel error  xerror       xstd
## 1 0.0006175018      0 1.0000000 1.00000 0.01766442
## 2 0.0005292900     10 0.9932957 1.00247 0.01768337
## 
## Variable importance
##                           took.ACT                              MCA.R 
##                                 48                                 17 
##                    SpecialEdStatus                avg.wages.pct.state 
##                                  9                                  6 
##                              MCA.M                      RaceEthnicity 
##                                  4                                  3 
##                  avg.cte.intensity LimitedEnglishProficiencyIndicator 
##                                  3                                  2 
##                    economic.status                     avg.unemp.rate 
##                                  2                                  2 
##                             Gender                                edr 
##                                  1                                  1 
##            total.cte.courses.taken 
##                                  1 
## 
## Node number 1: 24494 observations,    complexity param=0.0006175018
##   predicted class=No meaningful emp SW  expected loss=0.1157018  P(node) =1
##     class counts:  2834 21660
##    probabilities: 0.116 0.884 
##   left son=2 (8352 obs) right son=3 (16142 obs)
##   Primary splits:
##       took.ACT         splits as  LR, improve=125.05830, (0 missing)
##       MCA.M            &lt; 2.5        to the left,  improve= 92.18226, (1821 missing)
##       MCA.R            &lt; 2.5        to the left,  improve= 82.74517, (1855 missing)
##       pseo.participant splits as  LR, improve= 68.87861, (0 missing)
##       MCA.S            &lt; 2.5        to the left,  improve= 61.32227, (6439 missing)
##   Surrogate splits:
##       SpecialEdStatus                    splits as  RL, agree=0.721, adj=0.183, (0 split)
##       MCA.M                              &lt; 1.5        to the left,  agree=0.687, adj=0.083, (0 split)
##       RaceEthnicity                      splits as  RRRL-R, agree=0.675, adj=0.048, (0 split)
##       MCA.R                              &lt; 1.5        to the left,  agree=0.674, adj=0.044, (0 split)
##       LimitedEnglishProficiencyIndicator splits as  RL, agree=0.668, adj=0.028, (0 split)
## 
## Node number 2: 8352 observations
##   predicted class=No meaningful emp SW  expected loss=0.1859435  P(node) =0.3409815
##     class counts:  1553  6799
##    probabilities: 0.186 0.814 
## 
## Node number 3: 16142 observations,    complexity param=0.0006175018
##   predicted class=No meaningful emp SW  expected loss=0.0793582  P(node) =0.6590185
##     class counts:  1281 14861
##    probabilities: 0.079 0.921 
##   left son=6 (985 obs) right son=7 (15157 obs)
##   Primary splits:
##       MCA.R            &lt; 1.5        to the left,  improve=38.57461, (381 missing)
##       economic.status  splits as  RL, improve=32.20124, (0 missing)
##       MCA.M            &lt; 2.5        to the left,  improve=30.11536, (331 missing)
##       pseo.participant splits as  LR, improve=22.72163, (0 missing)
##       MCA.S            &lt; 2.5        to the left,  improve=20.40640, (3209 missing)
##   Surrogate splits:
##       LimitedEnglishProficiencyIndicator splits as  RL, agree=0.942, adj=0.064, (381 split)
## 
## Node number 6: 985 observations,    complexity param=0.0006175018
##   predicted class=No meaningful emp SW  expected loss=0.2142132  P(node) =0.04021393
##     class counts:   211   774
##    probabilities: 0.214 0.786 
##   left son=12 (885 obs) right son=13 (100 obs)
##   Primary splits:
##       avg.wages.pct.state     &lt; 0.6552996  to the right, improve=4.629488, (0 missing)
##       RaceEthnicity           splits as  RRLL-R, improve=4.016497, (0 missing)
##       total.cte.courses.taken &lt; 22.5       to the right, improve=3.334673, (0 missing)
##       avg.unemp.rate          &lt; 4.2        to the left,  improve=3.324383, (0 missing)
##       Gender                  splits as  RL, improve=2.612657, (0 missing)
## 
## Node number 7: 15157 observations
##   predicted class=No meaningful emp SW  expected loss=0.07059444  P(node) =0.6188046
##     class counts:  1070 14087
##    probabilities: 0.071 0.929 
## 
## Node number 12: 885 observations,    complexity param=0.0006175018
##   predicted class=No meaningful emp SW  expected loss=0.2305085  P(node) =0.0361313
##     class counts:   204   681
##    probabilities: 0.231 0.769 
##   left son=24 (494 obs) right son=25 (391 obs)
##   Primary splits:
##       Gender                  splits as  RL, improve=3.353093, (0 missing)
##       RaceEthnicity           splits as  RRLL-R, improve=3.132368, (0 missing)
##       total.cte.courses.taken &lt; 22.5       to the right, improve=2.972196, (0 missing)
##       MCA.M                   &lt; 1.5        to the left,  improve=2.340732, (42 missing)
##       pseo.participant        splits as  LR, improve=2.004855, (0 missing)
##   Surrogate splits:
##       pseo.participant                   splits as  LR, agree=0.601, adj=0.097, (0 split)
##       avg.cte.intensity                  &lt; 2.499536   to the left,  agree=0.571, adj=0.028, (0 split)
##       avg.wages.pct.state                &lt; 0.6617403  to the right, agree=0.567, adj=0.020, (0 split)
##       LimitedEnglishProficiencyIndicator splits as  LR, agree=0.566, adj=0.018, (0 split)
##       RaceEthnicity                      splits as  LRLR-L, agree=0.565, adj=0.015, (0 split)
## 
## Node number 13: 100 observations
##   predicted class=No meaningful emp SW  expected loss=0.07  P(node) =0.004082632
##     class counts:     7    93
##    probabilities: 0.070 0.930 
## 
## Node number 24: 494 observations,    complexity param=0.0006175018
##   predicted class=No meaningful emp SW  expected loss=0.2692308  P(node) =0.0201682
##     class counts:   133   361
##    probabilities: 0.269 0.731 
##   left son=48 (330 obs) right son=49 (164 obs)
##   Primary splits:
##       avg.wages.pct.state                &lt; 0.7251631  to the left,  improve=3.158673, (0 missing)
##       edr                                splits as  LRR, improve=2.438783, (0 missing)
##       RaceEthnicity                      splits as  RRLR-R, improve=2.159040, (0 missing)
##       total.cte.courses.taken            &lt; 3.5        to the right, improve=2.103256, (0 missing)
##       LimitedEnglishProficiencyIndicator splits as  RL, improve=2.101833, (0 missing)
##   Surrogate splits:
##       avg.unemp.rate    &lt; 3.633333   to the right, agree=0.761, adj=0.280, (0 split)
##       avg.cte.intensity &lt; -1.900389  to the right, agree=0.759, adj=0.274, (0 split)
##       edr               splits as  LLR, agree=0.713, adj=0.134, (0 split)
##       RaceEthnicity     splits as  LRLL-L, agree=0.692, adj=0.073, (0 split)
## 
## Node number 25: 391 observations
##   predicted class=No meaningful emp SW  expected loss=0.1815857  P(node) =0.01596309
##     class counts:    71   320
##    probabilities: 0.182 0.818 
## 
## Node number 48: 330 observations,    complexity param=0.0006175018
##   predicted class=No meaningful emp SW  expected loss=0.3090909  P(node) =0.01347269
##     class counts:   102   228
##    probabilities: 0.309 0.691 
##   left son=96 (114 obs) right son=97 (216 obs)
##   Primary splits:
##       avg.wages.pct.state                &lt; 0.7053225  to the right, improve=5.077521, (0 missing)
##       LimitedEnglishProficiencyIndicator splits as  RL, improve=3.744156, (0 missing)
##       avg.unemp.rate                     &lt; 4.016667   to the left,  improve=3.531700, (0 missing)
##       MCA.M                              &lt; 1.5        to the left,  improve=2.706295, (9 missing)
##       RaceEthnicity                      splits as  RLLL-R, improve=2.503794, (0 missing)
##   Surrogate splits:
##       edr                                splits as  LRR, agree=0.824, adj=0.491, (0 split)
##       avg.unemp.rate                     &lt; 3.666667   to the left,  agree=0.706, adj=0.149, (0 split)
##       RaceEthnicity                      splits as  RRLL-R, agree=0.688, adj=0.096, (0 split)
##       avg.cte.intensity                  &lt; 1.227778   to the right, agree=0.679, adj=0.070, (0 split)
##       LimitedEnglishProficiencyIndicator splits as  RL, agree=0.667, adj=0.035, (0 split)
## 
## Node number 49: 164 observations
##   predicted class=No meaningful emp SW  expected loss=0.1890244  P(node) =0.006695517
##     class counts:    31   133
##    probabilities: 0.189 0.811 
## 
## Node number 96: 114 observations,    complexity param=0.0006175018
##   predicted class=No meaningful emp SW  expected loss=0.4298246  P(node) =0.004654201
##     class counts:    49    65
##    probabilities: 0.430 0.570 
##   left son=192 (70 obs) right son=193 (44 obs)
##   Primary splits:
##       economic.status                    splits as  RL, improve=4.634336, (0 missing)
##       avg.unemp.rate                     &lt; 4.416667   to the left,  improve=4.535313, (0 missing)
##       avg.cte.intensity                  &lt; -1.080099  to the right, improve=2.755698, (0 missing)
##       LimitedEnglishProficiencyIndicator splits as  RL, improve=2.021900, (0 missing)
##       avg.wages.pct.state                &lt; 0.7161511  to the left,  improve=1.768475, (0 missing)
##   Surrogate splits:
##       avg.cte.intensity       &lt; 1.367115   to the left,  agree=0.719, adj=0.273, (0 split)
##       avg.unemp.rate          &lt; 3.95       to the left,  agree=0.684, adj=0.182, (0 split)
##       RaceEthnicity           splits as  LLLL-R, agree=0.675, adj=0.159, (0 split)
##       avg.wages.pct.state     &lt; 0.7057458  to the right, agree=0.675, adj=0.159, (0 split)
##       total.cte.courses.taken &lt; 9.5        to the left,  agree=0.640, adj=0.068, (0 split)
## 
## Node number 97: 216 observations
##   predicted class=No meaningful emp SW  expected loss=0.2453704  P(node) =0.008818486
##     class counts:    53   163
##    probabilities: 0.245 0.755 
## 
## Node number 192: 70 observations,    complexity param=0.0006175018
##   predicted class=Meaningful emp SW     expected loss=0.4571429  P(node) =0.002857843
##     class counts:    38    32
##    probabilities: 0.543 0.457 
##   left son=384 (24 obs) right son=385 (46 obs)
##   Primary splits:
##       avg.cte.intensity                  &lt; 1.225938   to the right, improve=4.5218430, (0 missing)
##       avg.wages.pct.state                &lt; 0.7086805  to the left,  improve=2.2742960, (0 missing)
##       avg.unemp.rate                     &lt; 4.5        to the left,  improve=2.1274730, (0 missing)
##       total.cte.courses.taken            &lt; 2.5        to the right, improve=0.9067916, (0 missing)
##       LimitedEnglishProficiencyIndicator splits as  RL, improve=0.7131675, (0 missing)
##   Surrogate splits:
##       avg.wages.pct.state     &lt; 0.7086805  to the left,  agree=0.729, adj=0.208, (0 split)
##       total.cte.courses.taken &lt; 17.5       to the right, agree=0.700, adj=0.125, (0 split)
##       pseo.participant        splits as  RL, agree=0.686, adj=0.083, (0 split)
## 
## Node number 193: 44 observations
##   predicted class=No meaningful emp SW  expected loss=0.25  P(node) =0.001796358
##     class counts:    11    33
##    probabilities: 0.250 0.750 
## 
## Node number 384: 24 observations
##   predicted class=Meaningful emp SW     expected loss=0.2083333  P(node) =0.0009798318
##     class counts:    19     5
##    probabilities: 0.792 0.208 
## 
## Node number 385: 46 observations,    complexity param=0.0006175018
##   predicted class=No meaningful emp SW  expected loss=0.4130435  P(node) =0.001878011
##     class counts:    19    27
##    probabilities: 0.413 0.587 
##   left son=770 (34 obs) right son=771 (12 obs)
##   Primary splits:
##       avg.unemp.rate                     &lt; 4.283333   to the left,  improve=1.9710140, (0 missing)
##       LimitedEnglishProficiencyIndicator splits as  RL, improve=1.4394830, (0 missing)
##       avg.cte.intensity                  &lt; -0.7508699 to the right, improve=0.8148583, (0 missing)
##       avg.wages.pct.state                &lt; 0.7182331  to the left,  improve=0.6525621, (0 missing)
##       total.cte.courses.taken            &lt; 2.5        to the right, improve=0.5148741, (0 missing)
##   Surrogate splits:
##       avg.wages.pct.state     &lt; 0.7197537  to the left,  agree=0.826, adj=0.333, (0 split)
##       edr                     splits as  LLR, agree=0.761, adj=0.083, (0 split)
##       total.cte.courses.taken &lt; 1.5        to the right, agree=0.761, adj=0.083, (0 split)
##       avg.cte.intensity       &lt; -1.368425  to the right, agree=0.761, adj=0.083, (0 split)
## 
## Node number 770: 34 observations,    complexity param=0.0006175018
##   predicted class=Meaningful emp SW     expected loss=0.5  P(node) =0.001388095
##     class counts:    17    17
##    probabilities: 0.500 0.500 
##   left son=1540 (21 obs) right son=1541 (13 obs)
##   Primary splits:
##       total.cte.courses.taken            &lt; 7.5        to the left,  improve=1.5567770, (0 missing)
##       avg.cte.intensity                  &lt; 1.170931   to the left,  improve=1.3076920, (0 missing)
##       LimitedEnglishProficiencyIndicator splits as  RL, improve=0.6800000, (0 missing)
##       avg.unemp.rate                     &lt; 3.783333   to the right, improve=0.6800000, (0 missing)
##       RaceEthnicity                      splits as  RLRR-L, improve=0.5368421, (0 missing)
##   Surrogate splits:
##       cte.achievement   splits as  RLL, agree=0.912, adj=0.769, (0 split)
##       RaceEthnicity     splits as  RLLL-R, agree=0.765, adj=0.385, (0 split)
##       MCA.M             &lt; 2.5        to the left,  agree=0.706, adj=0.231, (0 split)
##       pseo.participant  splits as  LR, agree=0.676, adj=0.154, (0 split)
##       avg.cte.intensity &lt; -0.673003  to the right, agree=0.676, adj=0.154, (0 split)
## 
## Node number 771: 12 observations
##   predicted class=No meaningful emp SW  expected loss=0.1666667  P(node) =0.0004899159
##     class counts:     2    10
##    probabilities: 0.167 0.833 
## 
## Node number 1540: 21 observations
##   predicted class=Meaningful emp SW     expected loss=0.3809524  P(node) =0.0008573528
##     class counts:    13     8
##    probabilities: 0.619 0.381 
## 
## Node number 1541: 13 observations
##   predicted class=No meaningful emp SW  expected loss=0.3076923  P(node) =0.0005307422
##     class counts:     4     9
##    probabilities: 0.308 0.692</code></pre>
<pre class="r"><code>#Plot tree
rpart.plot(meaningful.emp.sw.grad.year.1.model.postprune)</code></pre>
<p><img src="analysis_local_employment_cart_files/figure-html/postpruning%20meaningful%20emp%20SW%20grad%20year%201-1.png" width="672" /></p>
<pre class="r"><code># Examine the complexity plot
printcp(meaningful.emp.sw.grad.year.1.model.postprune)</code></pre>
<pre><code>## 
## Classification tree:
## rpart(formula = grad.year.1 ~ ., data = train, method = &quot;class&quot;, 
##     control = rpart.control(cp = 0))
## 
## Variables actually used in tree construction:
## [1] avg.cte.intensity       avg.unemp.rate          avg.wages.pct.state    
## [4] economic.status         Gender                  MCA.R                  
## [7] took.ACT                total.cte.courses.taken
## 
## Root node error: 2834/24494 = 0.1157
## 
## n= 24494 
## 
##           CP nsplit rel error xerror     xstd
## 1 0.00061750      0    1.0000 1.0000 0.017664
## 2 0.00052929     10    0.9933 1.0025 0.017683</code></pre>
<pre class="r"><code>plotcp(meaningful.emp.sw.grad.year.1.model.postprune)</code></pre>
<p><img src="analysis_local_employment_cart_files/figure-html/postpruning%20meaningful%20emp%20SW%20grad%20year%201-2.png" width="672" /></p>
<pre class="r"><code># Compute the accuracy of the pruned tree

test$pred &lt;- predict(meaningful.emp.sw.grad.year.1.model.postprune, test, type = &quot;class&quot;)

accuracy_postprun &lt;- mean(test$pred == test$grad.year.1)

accuracy_postprun</code></pre>
<pre><code>## [1] 0.8755001</code></pre>
<p><br></p>
<p>We still end up with a highly complex tree that is difficult to
interpret. Let’s check to see what variables are considered
important.</p>
<p>And it tells me that none of the variables are important?????</p>
<p><br></p>
<pre class="r"><code>meaningful.emp.sw.grad.year.1.model.postprune$variable.importance</code></pre>
<pre><code>##                           took.ACT                              MCA.R 
##                        125.0583395                         44.0848395 
##                    SpecialEdStatus                avg.wages.pct.state 
##                         22.8944206                         15.2706235 
##                              MCA.M                      RaceEthnicity 
##                         10.7508375                          8.0829643 
##                  avg.cte.intensity LimitedEnglishProficiencyIndicator 
##                          7.5068666                          6.1801690 
##                    economic.status                     avg.unemp.rate 
##                          4.6343358                          4.4567644 
##                             Gender                                edr 
##                          3.3530932                          3.0821964 
##            total.cte.courses.taken                    cte.achievement 
##                          2.6022355                          1.1975204 
##                   pseo.participant 
##                          0.9422004</code></pre>
<p><br></p>
<p>Now let’s compare the accuracy.</p>
<pre class="r"><code>data.frame(base_accuracy, accuracy_preprun, accuracy_postprun)</code></pre>
<pre><code>##   base_accuracy accuracy_preprun accuracy_postprun
## 1     0.8545437        0.8770242         0.8755001</code></pre>
</div>
<div id="section-summary" class="section level3">
<h3>Summary</h3>
<p>The variable importance across the models do vary quite a bit. The
most consistent variables that were high in the importance values
were;</p>
<ul>
<li>took the ACT</li>
<li>CTE coursework</li>
<li>special education status</li>
<li>MCA - reading score</li>
<li>average wages as a percent of the state average.</li>
</ul>
<p><br></p>
</div>
</div>
<div id="section-five-years-after-graduation" class="section level2">
<h2>Five years after graduation</h2>
<p>Next we will look at the variables importance at five years after
graduation. At this point we will bring back the post-secondary
variables.</p>
<pre><code>##  [1] &quot;Gender&quot;                             &quot;LimitedEnglishProficiencyIndicator&quot;
##  [3] &quot;economic.status&quot;                    &quot;pseo.participant&quot;                  
##  [5] &quot;SpecialEdStatus&quot;                    &quot;RaceEthnicity&quot;                     
##  [7] &quot;edr&quot;                                &quot;took.ACT&quot;                          
##  [9] &quot;cte.achievement&quot;                    &quot;ps.grad.InstitutionSector&quot;         
## [11] &quot;highest.cred.level&quot;                 &quot;total.cte.courses.taken&quot;           
## [13] &quot;avg.cte.intensity&quot;                  &quot;MCA.M&quot;                             
## [15] &quot;MCA.R&quot;                              &quot;MCA.S&quot;                             
## [17] &quot;avg.unemp.rate&quot;                     &quot;avg.wages.pct.state&quot;               
## [19] &quot;grad.year.5&quot;</code></pre>
<div id="section-base-model-1" class="section level3">
<h3>Base model</h3>
<p>First we will split the data into two sets, Train and Test, in a
70:30 ratio. The Train set is used for training and creating the model.
The Test set is considered to be a dummy production environment to test
predictions and evaluate the accuracy of the model.</p>
<p><br></p>
<pre class="r"><code>set.seed(1234)

sample_ind &lt;- sample(nrow(meaningful.emp.sw.grad.year.5), nrow(meaningful.emp.sw.grad.year.5) *.7)

train &lt;- meaningful.emp.sw.grad.year.5[sample_ind,]

test &lt;- meaningful.emp.sw.grad.year.5[-sample_ind,]</code></pre>
<p>Next, we create a decision tree model by calling the rpart function.
Let’s first create a base model with default parameters and value. The
CP (complexity parameter) is used to control tree growth. If the cost of
adding a variable is higher then the value of CP, then tree growth
stops.</p>
<p><br></p>
<p><img src="analysis_local_employment_cart_files/figure-html/decision%20tree%20plot%20meaningful%20emp%20SW%20grad%20year%205-1.png" width="672" /></p>
<pre><code>## 
## Classification tree:
## rpart(formula = grad.year.5 ~ ., data = train, method = &quot;class&quot;, 
##     cp = 0)
## 
## Variables actually used in tree construction:
##  [1] avg.cte.intensity                  avg.unemp.rate                    
##  [3] avg.wages.pct.state                cte.achievement                   
##  [5] economic.status                    edr                               
##  [7] Gender                             highest.cred.level                
##  [9] LimitedEnglishProficiencyIndicator MCA.M                             
## [11] MCA.R                              MCA.S                             
## [13] ps.grad.InstitutionSector          pseo.participant                  
## [15] RaceEthnicity                      SpecialEdStatus                   
## [17] took.ACT                           total.cte.courses.taken           
## 
## Root node error: 2834/24494 = 0.1157
## 
## n= 24494 
## 
##            CP nsplit rel error xerror     xstd
## 1  3.3752e-04      0   1.00000 1.0000 0.017664
## 2  3.0875e-04    114   0.94248 1.0797 0.018259
## 3  2.6464e-04    122   0.94001 1.1059 0.018447
## 4  2.5204e-04    147   0.93190 1.1253 0.018584
## 5  2.3524e-04    168   0.92449 1.1260 0.018589
## 6  2.1171e-04    186   0.92025 1.1284 0.018606
## 7  2.0583e-04    195   0.91673 1.1327 0.018636
## 8  1.7643e-04    211   0.91320 1.1553 0.018792
## 9  1.5122e-04    267   0.90191 1.1627 0.018843
## 10 1.4702e-04    283   0.89838 1.1736 0.018918
## 11 1.4114e-04    297   0.89626 1.1785 0.018951
## 12 1.1762e-04    302   0.89555 1.2004 0.019098
## 13 1.0082e-04    327   0.89238 1.2057 0.019134
## 14 7.0572e-05    340   0.89097 1.2209 0.019234
## 15 5.8810e-05    355   0.88991 1.2361 0.019333
## 16 5.0408e-05    367   0.88920 1.2424 0.019375
## 17 4.4107e-05    381   0.88850 1.2470 0.019404
## 18 3.2078e-05    389   0.88814 1.2488 0.019416
## 19 0.0000e+00    400   0.88779 1.2505 0.019427</code></pre>
<p><img src="analysis_local_employment_cart_files/figure-html/decision%20tree%20plot%20meaningful%20emp%20SW%20grad%20year%205-2.png" width="672" /></p>
<p><br></p>
<p>The resulting model produced a VERY complex tree with too many nodes
that it isn’t interpretable. However, examining the complexity
parameters shows that I have an increasing cross-validated error which
provides evidence of a decision tree with too much complexity.</p>
<p>Below are the values in variable important and it shows that the
variables related to post-secondary institutions, CTE courses, and the
economics of their county are all pretty high.</p>
<p><br></p>
<pre class="r"><code>meaningful.emp.sw.grad.year.5.model$variable.importance</code></pre>
<pre><code>##          ps.grad.InstitutionSector                  avg.cte.intensity 
##                         201.978022                         199.200477 
##                avg.wages.pct.state                 highest.cred.level 
##                         186.098415                         182.066235 
##                     avg.unemp.rate            total.cte.courses.taken 
##                         162.452687                         149.053977 
##                    cte.achievement                              MCA.R 
##                          56.862075                          55.260983 
##                              MCA.M                      RaceEthnicity 
##                          50.204392                          42.507690 
##                                edr                    economic.status 
##                          41.984054                          39.426206 
##                   pseo.participant                           took.ACT 
##                          38.750836                          35.197655 
##                             Gender                              MCA.S 
##                          28.858066                          27.215773 
##                    SpecialEdStatus LimitedEnglishProficiencyIndicator 
##                          19.310295                           7.958387</code></pre>
<p>Next, the accuracy of the model is computed and stored in a variable
base_accuracy so we can compare it to our pruned trees later.</p>
<p><br></p>
<pre class="r"><code>test$pred &lt;- predict(meaningful.emp.sw.grad.year.5.model, test, type = &quot;class&quot;)

base_accuracy &lt;- mean(test$pred == test$grad.year.5)

base_accuracy</code></pre>
<pre><code>## [1] 0.8541627</code></pre>
</div>
<div id="section-pre-pruning-1" class="section level3">
<h3>Pre-pruning</h3>
<p>Next, we need to prune. We can either pre-prune or post-prune. We
will start with pre-pruning and use each method - max depth, min depth,
and min bucket.</p>
<p><br></p>
<pre class="r"><code># Grow a tree with minsplit of 40 and max depth of 10
meaningful.emp.sw.grad.year.5.model.preprune &lt;- rpart(grad.year.5 ~ ., data = train, method = &quot;class&quot;, 
                   control = rpart.control(cp = 0, maxdepth = 10, minsplit = 40))</code></pre>
<pre class="r"><code>#Plot tree
rpart.plot(meaningful.emp.sw.grad.year.5.model.preprune)</code></pre>
<p><img src="analysis_local_employment_cart_files/figure-html/pre%20pruning%20plot%20meaningful%20emp%20SW%20grad%20year%205-1.png" width="672" /></p>
<pre class="r"><code># Examine the complexity plot
printcp(meaningful.emp.sw.grad.year.5.model.preprune)</code></pre>
<pre><code>## 
## Classification tree:
## rpart(formula = grad.year.5 ~ ., data = train, method = &quot;class&quot;, 
##     control = rpart.control(cp = 0, maxdepth = 10, minsplit = 40))
## 
## Variables actually used in tree construction:
##  [1] avg.cte.intensity                  avg.unemp.rate                    
##  [3] avg.wages.pct.state                cte.achievement                   
##  [5] edr                                Gender                            
##  [7] LimitedEnglishProficiencyIndicator MCA.R                             
##  [9] ps.grad.InstitutionSector          took.ACT                          
## [11] total.cte.courses.taken           
## 
## Root node error: 2834/24494 = 0.1157
## 
## n= 24494 
## 
##           CP nsplit rel error xerror     xstd
## 1 0.00035286      0   1.00000 1.0000 0.017664
## 2 0.00000000     13   0.99541 1.0279 0.017876</code></pre>
<pre class="r"><code>plotcp(meaningful.emp.sw.grad.year.5.model.preprune)</code></pre>
<p><img src="analysis_local_employment_cart_files/figure-html/pre%20pruning%20plot%20meaningful%20emp%20SW%20grad%20year%205-2.png" width="672" /></p>
<pre class="r"><code># Compute the accuracy of the pruned tree

test$pred &lt;- predict(meaningful.emp.sw.grad.year.5.model.preprune, test, type = &quot;class&quot;)

accuracy_preprun &lt;- mean(test$pred == test$grad.year.5)

accuracy_preprun</code></pre>
<pre><code>## [1] 0.8745475</code></pre>
<p>The pre-pruning resulted in a significantly less complex tree with a
.88 accuracy. Let’s see what variables are important in this model.</p>
<p>This model does indicate a difference in importance when pruned. The
post-secondary stuff is still extremely important, but the prep work in
school take the place of county economics and CTE courses.</p>
<p><br></p>
<pre class="r"><code>meaningful.emp.sw.grad.year.5.model.preprune$variable.importance</code></pre>
<pre><code>##          ps.grad.InstitutionSector                 highest.cred.level 
##                         184.952049                         150.948720 
##                           took.ACT                   pseo.participant 
##                          35.197655                          20.934051 
##                              MCA.R                     avg.unemp.rate 
##                          20.321166                          11.808537 
##                avg.wages.pct.state                    SpecialEdStatus 
##                           9.745116                           7.304833 
##                              MCA.M            total.cte.courses.taken 
##                           6.587435                           6.226088 
##                    economic.status                  avg.cte.intensity 
##                           4.971105                           4.311466 
##                                edr                             Gender 
##                           3.681869                           3.363529 
## LimitedEnglishProficiencyIndicator                      RaceEthnicity 
##                           3.056210                           2.295469 
##                    cte.achievement 
##                           2.223011</code></pre>
</div>
<div id="section-post-pruning-1" class="section level3">
<h3>Post-pruning</h3>
<p>Next, let’s try postpruning. The idea here is to allow the decision
tree to grow fully and observe the CP value. Next, we prune/cut the tree
with the optimal CP value as the parameter as shown in below code:</p>
<p><br></p>
<pre class="r"><code># Prune the hr_base_model based on the optimal cp value
meaningful.emp.sw.grad.year.5.model.postprune &lt;- prune(meaningful.emp.sw.grad.year.5.model, cp = .00030875)

#Summary
summary(meaningful.emp.sw.grad.year.5.model.postprune)</code></pre>
<pre><code>## Call:
## rpart(formula = grad.year.5 ~ ., data = train, method = &quot;class&quot;, 
##     cp = 0)
##   n= 24494 
## 
##             CP nsplit rel error   xerror       xstd
## 1 0.0003375165      0 1.0000000 1.000000 0.01766442
## 2 0.0003087509    114 0.9424841 1.079746 0.01825924
## 3 0.0003087500    122 0.9400141 1.105857 0.01844677
## 
## Variable importance
## ps.grad.InstitutionSector        highest.cred.level       avg.wages.pct.state 
##                        22                        18                         9 
##         avg.cte.intensity            avg.unemp.rate   total.cte.courses.taken 
##                         9                         8                         7 
##                  took.ACT                     MCA.R           cte.achievement 
##                         4                         3                         3 
##          pseo.participant           economic.status                     MCA.M 
##                         3                         3                         2 
##             RaceEthnicity                     MCA.S                       edr 
##                         2                         2                         2 
##           SpecialEdStatus                    Gender 
##                         2                         1 
## 
## Node number 1: 24494 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.1157018  P(node) =1
##     class counts:  2834 21660
##    probabilities: 0.116 0.884 
##   left son=2 (16342 obs) right son=3 (8152 obs)
##   Primary splits:
##       ps.grad.InstitutionSector &lt; 3.5        to the right, improve=184.95200, (0 missing)
##       highest.cred.level        splits as  LRLR, improve=178.35260, (0 missing)
##       took.ACT                  splits as  LR, improve=125.05830, (0 missing)
##       MCA.M                     &lt; 2.5        to the left,  improve= 92.18226, (1821 missing)
##       MCA.R                     &lt; 2.5        to the left,  improve= 82.74517, (1855 missing)
##   Surrogate splits:
##       highest.cred.level splits as  LRLR, agree=0.938, adj=0.815, (0 split)
##       pseo.participant   splits as  LR,   agree=0.689, adj=0.066, (0 split)
## 
## Node number 2: 16342 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.1590993  P(node) =0.6671838
##     class counts:  2600 13742
##    probabilities: 0.159 0.841 
##   left son=4 (7801 obs) right son=5 (8541 obs)
##   Primary splits:
##       took.ACT                splits as  LR, improve=35.19766, (0 missing)
##       total.cte.courses.taken &lt; 3.5        to the right, improve=28.67996, (0 missing)
##       MCA.M                   &lt; 2.5        to the left,  improve=26.33843, (1658 missing)
##       MCA.R                   &lt; 2.5        to the left,  improve=22.66714, (1680 missing)
##       pseo.participant        splits as  LR, improve=22.64198, (0 missing)
##   Surrogate splits:
##       pseo.participant splits as  LR, agree=0.638, adj=0.242, (0 split)
##       SpecialEdStatus  splits as  RL, agree=0.622, adj=0.208, (0 split)
##       MCA.M            &lt; 1.5        to the left,  agree=0.612, adj=0.187, (0 split)
##       avg.unemp.rate   &lt; 4.6        to the right, agree=0.601, adj=0.164, (0 split)
##       economic.status  splits as  RL, agree=0.589, adj=0.139, (0 split)
## 
## Node number 3: 8152 observations
##   predicted class=No meaningful emp SW  expected loss=0.02870461  P(node) =0.3328162
##     class counts:   234  7918
##    probabilities: 0.029 0.971 
## 
## Node number 4: 7801 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.1934367  P(node) =0.3184862
##     class counts:  1509  6292
##    probabilities: 0.193 0.807 
##   left son=8 (5342 obs) right son=9 (2459 obs)
##   Primary splits:
##       total.cte.courses.taken &lt; 3.5        to the right, improve=17.292240, (0 missing)
##       cte.achievement         splits as  LLR, improve=11.729630, (0 missing)
##       avg.wages.pct.state     &lt; 0.6487133  to the right, improve= 6.349023, (0 missing)
##       highest.cred.level      splits as  RRL-, improve= 5.428328, (0 missing)
##       RaceEthnicity           splits as  RRRL-L, improve= 4.442781, (0 missing)
##   Surrogate splits:
##       cte.achievement     splits as  LLR, agree=0.825, adj=0.446, (0 split)
##       avg.wages.pct.state &lt; 0.8085253  to the left,  agree=0.692, adj=0.024, (0 split)
##       avg.cte.intensity   &lt; -2.690171  to the right, agree=0.686, adj=0.004, (0 split)
##       highest.cred.level  splits as  LRL-, agree=0.685, adj=0.002, (0 split)
## 
## Node number 5: 8541 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.1277368  P(node) =0.3486976
##     class counts:  1091  7450
##    probabilities: 0.128 0.872 
##   left son=10 (879 obs) right son=11 (7662 obs)
##   Primary splits:
##       MCA.R                   &lt; 1.5        to the left,  improve=20.32117, (294 missing)
##       economic.status         splits as  RL, improve=14.79835, (0 missing)
##       pseo.participant        splits as  LR, improve=12.84625, (0 missing)
##       MCA.M                   &lt; 2.5        to the left,  improve=11.25440, (252 missing)
##       total.cte.courses.taken &lt; 8.5        to the right, improve=10.03979, (0 missing)
##   Surrogate splits:
##       LimitedEnglishProficiencyIndicator splits as  RL, agree=0.902, adj=0.068, (294 split)
## 
## Node number 8: 5342 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.216024  P(node) =0.2180942
##     class counts:  1154  4188
##    probabilities: 0.216 0.784 
##   left son=16 (4937 obs) right son=17 (405 obs)
##   Primary splits:
##       highest.cred.level        splits as  R-L-, improve=5.992918, (0 missing)
##       avg.wages.pct.state       &lt; 0.6451117  to the right, improve=5.855193, (0 missing)
##       SpecialEdStatus           splits as  LR, improve=4.877377, (0 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the right, improve=4.540797, (0 missing)
##       edr                       splits as  LRR, improve=4.352542, (0 missing)
## 
## Node number 9: 2459 observations
##   predicted class=No meaningful emp SW  expected loss=0.1443676  P(node) =0.1003919
##     class counts:   355  2104
##    probabilities: 0.144 0.856 
## 
## Node number 10: 879 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2275313  P(node) =0.03588634
##     class counts:   200   679
##    probabilities: 0.228 0.772 
##   left son=20 (794 obs) right son=21 (85 obs)
##   Primary splits:
##       avg.wages.pct.state     &lt; 0.654882   to the right, improve=4.635552, (0 missing)
##       total.cte.courses.taken &lt; 19.5       to the right, improve=4.088664, (0 missing)
##       edr                     splits as  LRR, improve=2.690054, (0 missing)
##       Gender                  splits as  RL, improve=2.580756, (0 missing)
##       avg.unemp.rate          &lt; 5.766667   to the right, improve=2.337023, (0 missing)
## 
## Node number 11: 7662 observations
##   predicted class=No meaningful emp SW  expected loss=0.1162882  P(node) =0.3128113
##     class counts:   891  6771
##    probabilities: 0.116 0.884 
## 
## Node number 16: 4937 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2228074  P(node) =0.2015596
##     class counts:  1100  3837
##    probabilities: 0.223 0.777 
##   left son=32 (3304 obs) right son=33 (1633 obs)
##   Primary splits:
##       SpecialEdStatus     splits as  LR, improve=6.554122, (0 missing)
##       avg.wages.pct.state &lt; 0.6440348  to the right, improve=4.535882, (0 missing)
##       RaceEthnicity       splits as  RRRL-L, improve=3.550782, (0 missing)
##       avg.cte.intensity   &lt; 2.337748   to the left,  improve=3.414622, (22 missing)
##       edr                 splits as  LRR, improve=3.087798, (0 missing)
##   Surrogate splits:
##       total.cte.courses.taken &lt; 39         to the left,  agree=0.67, adj=0.002, (0 split)
##       avg.unemp.rate          &lt; 2.516667   to the right, agree=0.67, adj=0.001, (0 split)
## 
## Node number 17: 405 observations
##   predicted class=No meaningful emp SW  expected loss=0.1333333  P(node) =0.01653466
##     class counts:    54   351
##    probabilities: 0.133 0.867 
## 
## Node number 20: 794 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2443325  P(node) =0.0324161
##     class counts:   194   600
##    probabilities: 0.244 0.756 
##   left son=40 (23 obs) right son=41 (771 obs)
##   Primary splits:
##       total.cte.courses.taken &lt; 19.5       to the right, improve=3.645505, (0 missing)
##       Gender                  splits as  RL, improve=3.168252, (0 missing)
##       avg.unemp.rate          &lt; 5.766667   to the right, improve=2.749788, (0 missing)
##       RaceEthnicity           splits as  RRLL-R, improve=1.495547, (0 missing)
##       edr                     splits as  LRR, improve=1.420906, (0 missing)
## 
## Node number 21: 85 observations
##   predicted class=No meaningful emp SW  expected loss=0.07058824  P(node) =0.003470238
##     class counts:     6    79
##    probabilities: 0.071 0.929 
## 
## Node number 32: 3304 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2409201  P(node) =0.1348902
##     class counts:   796  2508
##    probabilities: 0.241 0.759 
##   left son=64 (3027 obs) right son=65 (277 obs)
##   Primary splits:
##       avg.wages.pct.state &lt; 0.6451117  to the right, improve=5.219413, (0 missing)
##       avg.unemp.rate      &lt; 7.616667   to the left,  improve=3.894247, (0 missing)
##       avg.cte.intensity   &lt; 2.259058   to the left,  improve=3.768319, (13 missing)
##       edr                 splits as  LRR, improve=3.584140, (0 missing)
##       RaceEthnicity       splits as  LRRL-L, improve=2.649252, (0 missing)
## 
## Node number 33: 1633 observations
##   predicted class=No meaningful emp SW  expected loss=0.1861604  P(node) =0.06666939
##     class counts:   304  1329
##    probabilities: 0.186 0.814 
## 
## Node number 40: 23 observations,    complexity param=0.0003375165
##   predicted class=Meaningful emp SW     expected loss=0.4782609  P(node) =0.0009390055
##     class counts:    12    11
##    probabilities: 0.522 0.478 
##   left son=80 (9 obs) right son=81 (14 obs)
##   Primary splits:
##       avg.wages.pct.state &lt; 0.6990059  to the right, improve=1.9385780, (0 missing)
##       edr                 splits as  RLL, improve=1.1211180, (0 missing)
##       avg.cte.intensity   &lt; 1.129175   to the right, improve=1.1211180, (0 missing)
##       avg.unemp.rate      &lt; 4.35       to the right, improve=0.5282609, (0 missing)
##       Gender              splits as  LR, improve=0.2615942, (0 missing)
##   Surrogate splits:
##       avg.cte.intensity       &lt; 2.07833    to the right, agree=0.783, adj=0.444, (0 split)
##       avg.unemp.rate          &lt; 5.016667   to the left,  agree=0.783, adj=0.444, (0 split)
##       edr                     splits as  RLR, agree=0.739, adj=0.333, (0 split)
##       MCA.S                   &lt; 2.5        to the right, agree=0.696, adj=0.222, (0 split)
##       total.cte.courses.taken &lt; 25.5       to the left,  agree=0.652, adj=0.111, (0 split)
## 
## Node number 41: 771 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2360571  P(node) =0.0314771
##     class counts:   182   589
##    probabilities: 0.236 0.764 
##   left son=82 (437 obs) right son=83 (334 obs)
##   Primary splits:
##       Gender            splits as  RL, improve=3.363529, (0 missing)
##       avg.unemp.rate    &lt; 5.766667   to the right, improve=2.012830, (0 missing)
##       edr               splits as  LRR, improve=2.005722, (0 missing)
##       RaceEthnicity     splits as  RRLL-R, improve=1.795709, (0 missing)
##       avg.cte.intensity &lt; 1.918004   to the left,  improve=1.485493, (3 missing)
##   Surrogate splits:
##       pseo.participant                   splits as  LR, agree=0.603, adj=0.084, (0 split)
##       avg.cte.intensity                  &lt; 2.499536   to the left,  agree=0.581, adj=0.033, (0 split)
##       avg.wages.pct.state                &lt; 0.6617403  to the right, agree=0.577, adj=0.024, (0 split)
##       RaceEthnicity                      splits as  LRLR-L, agree=0.576, adj=0.021, (0 split)
##       LimitedEnglishProficiencyIndicator splits as  LR, agree=0.575, adj=0.018, (0 split)
## 
## Node number 64: 3027 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2494219  P(node) =0.1235813
##     class counts:   755  2272
##    probabilities: 0.249 0.751 
##   left son=128 (2792 obs) right son=129 (235 obs)
##   Primary splits:
##       avg.unemp.rate          &lt; 7.616667   to the left,  improve=4.718666, (0 missing)
##       avg.cte.intensity       &lt; 2.92518    to the left,  improve=3.117162, (12 missing)
##       total.cte.courses.taken &lt; 8.5        to the right, improve=2.955834, (0 missing)
##       RaceEthnicity           splits as  LRRL-L, improve=2.864433, (0 missing)
##       avg.wages.pct.state     &lt; 0.7226119  to the left,  improve=2.289009, (0 missing)
## 
## Node number 65: 277 observations
##   predicted class=No meaningful emp SW  expected loss=0.1480144  P(node) =0.01130889
##     class counts:    41   236
##    probabilities: 0.148 0.852 
## 
## Node number 80: 9 observations
##   predicted class=Meaningful emp SW     expected loss=0.2222222  P(node) =0.0003674369
##     class counts:     7     2
##    probabilities: 0.778 0.222 
## 
## Node number 81: 14 observations
##   predicted class=No meaningful emp SW  expected loss=0.3571429  P(node) =0.0005715685
##     class counts:     5     9
##    probabilities: 0.357 0.643 
## 
## Node number 82: 437 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2768879  P(node) =0.0178411
##     class counts:   121   316
##    probabilities: 0.277 0.723 
##   left son=164 (150 obs) right son=165 (287 obs)
##   Primary splits:
##       edr                     splits as  LRR, improve=3.681869, (0 missing)
##       avg.wages.pct.state     &lt; 0.7251631  to the left,  improve=2.685504, (0 missing)
##       avg.unemp.rate          &lt; 5.766667   to the right, improve=2.306388, (0 missing)
##       total.cte.courses.taken &lt; 3.5        to the right, improve=2.209127, (0 missing)
##       avg.cte.intensity       &lt; 2.107461   to the left,  improve=2.020657, (1 missing)
##   Surrogate splits:
##       avg.wages.pct.state &lt; 0.7803078  to the right, agree=0.753, adj=0.280, (0 split)
##       RaceEthnicity       splits as  RRLR-R, agree=0.673, adj=0.047, (0 split)
##       avg.unemp.rate      &lt; 6.333333   to the right, agree=0.670, adj=0.040, (0 split)
## 
## Node number 83: 334 observations,    complexity param=0.0003087509
##   predicted class=No meaningful emp SW  expected loss=0.1826347  P(node) =0.01363599
##     class counts:    61   273
##    probabilities: 0.183 0.817 
##   left son=166 (18 obs) right son=167 (316 obs)
##   Primary splits:
##       avg.wages.pct.state     &lt; 0.6648532  to the left,  improve=1.6187040, (0 missing)
##       RaceEthnicity           splits as  RRLL-L, improve=1.3758570, (0 missing)
##       total.cte.courses.taken &lt; 9.5        to the right, improve=1.0329180, (0 missing)
##       avg.unemp.rate          &lt; 4.35       to the left,  improve=0.8421920, (0 missing)
##       avg.cte.intensity       &lt; 1.077386   to the left,  improve=0.6986237, (2 missing)
##   Surrogate splits:
##       avg.unemp.rate &lt; 6.183333   to the right, agree=0.949, adj=0.056, (0 split)
## 
## Node number 128: 2792 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2575215  P(node) =0.1139871
##     class counts:   719  2073
##    probabilities: 0.258 0.742 
##   left son=256 (1074 obs) right son=257 (1718 obs)
##   Primary splits:
##       edr                     splits as  LRR, improve=4.944835, (0 missing)
##       avg.cte.intensity       &lt; 2.92518    to the left,  improve=3.830569, (11 missing)
##       RaceEthnicity           splits as  LRRL-L, improve=3.374072, (0 missing)
##       total.cte.courses.taken &lt; 8.5        to the right, improve=2.597506, (0 missing)
##       avg.unemp.rate          &lt; 3.2        to the right, improve=2.124972, (0 missing)
##   Surrogate splits:
##       avg.wages.pct.state &lt; 0.7769473  to the right, agree=0.702, adj=0.224, (0 split)
##       avg.unemp.rate      &lt; 6.45       to the right, agree=0.652, adj=0.095, (0 split)
## 
## Node number 129: 235 observations
##   predicted class=No meaningful emp SW  expected loss=0.1531915  P(node) =0.009594186
##     class counts:    36   199
##    probabilities: 0.153 0.847 
## 
## Node number 164: 150 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.3666667  P(node) =0.006123949
##     class counts:    55    95
##    probabilities: 0.367 0.633 
##   left son=328 (63 obs) right son=329 (87 obs)
##   Primary splits:
##       avg.unemp.rate                     &lt; 4.016667   to the left,  improve=5.364532, (0 missing)
##       total.cte.courses.taken            &lt; 14.5       to the left,  improve=3.191847, (0 missing)
##       avg.wages.pct.state                &lt; 0.7182331  to the left,  improve=1.773204, (0 missing)
##       LimitedEnglishProficiencyIndicator splits as  RL, improve=1.459596, (0 missing)
##       avg.cte.intensity                  &lt; 0.6666427  to the right, improve=1.166667, (0 missing)
##   Surrogate splits:
##       avg.wages.pct.state                &lt; 0.7134858  to the left,  agree=0.767, adj=0.444, (0 split)
##       RaceEthnicity                      splits as  RRLL-R, agree=0.693, adj=0.270, (0 split)
##       avg.cte.intensity                  &lt; 0.2891757  to the left,  agree=0.640, adj=0.143, (0 split)
##       LimitedEnglishProficiencyIndicator splits as  RL, agree=0.633, adj=0.127, (0 split)
##       highest.cred.level                 splits as  L-R-, agree=0.600, adj=0.048, (0 split)
## 
## Node number 165: 287 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2299652  P(node) =0.01171716
##     class counts:    66   221
##    probabilities: 0.230 0.770 
##   left son=330 (128 obs) right son=331 (159 obs)
##   Primary splits:
##       avg.wages.pct.state     &lt; 0.6980358  to the left,  improve=1.613841, (0 missing)
##       avg.cte.intensity       &lt; -2.661867  to the left,  improve=1.494838, (1 missing)
##       avg.unemp.rate          &lt; 5.766667   to the right, improve=1.460433, (0 missing)
##       highest.cred.level      splits as  R-L-, improve=1.126222, (0 missing)
##       total.cte.courses.taken &lt; 2.5        to the right, improve=0.738039, (0 missing)
##   Surrogate splits:
##       avg.unemp.rate          &lt; 3.666667   to the right, agree=0.697, adj=0.320, (0 split)
##       total.cte.courses.taken &lt; 1.5        to the left,  agree=0.585, adj=0.070, (0 split)
##       avg.cte.intensity       &lt; -1.841923  to the right, agree=0.582, adj=0.062, (0 split)
##       economic.status         splits as  LR, agree=0.575, adj=0.047, (0 split)
##       RaceEthnicity           splits as  LRRR-R, agree=0.575, adj=0.047, (0 split)
## 
## Node number 166: 18 observations
##   predicted class=No meaningful emp SW  expected loss=0.3888889  P(node) =0.0007348738
##     class counts:     7    11
##    probabilities: 0.389 0.611 
## 
## Node number 167: 316 observations,    complexity param=0.0003087509
##   predicted class=No meaningful emp SW  expected loss=0.1708861  P(node) =0.01290112
##     class counts:    54   262
##    probabilities: 0.171 0.829 
##   left son=334 (210 obs) right son=335 (106 obs)
##   Primary splits:
##       avg.wages.pct.state       &lt; 0.7030726  to the right, improve=1.869191, (0 missing)
##       total.cte.courses.taken   &lt; 10.5       to the right, improve=1.526912, (0 missing)
##       avg.unemp.rate            &lt; 5.45       to the right, improve=1.369979, (0 missing)
##       RaceEthnicity             splits as  RRRL-R, improve=1.358887, (0 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the right, improve=1.076507, (0 missing)
##   Surrogate splits:
##       avg.unemp.rate          &lt; 4.083333   to the left,  agree=0.737, adj=0.217, (0 split)
##       edr                     splits as  LRL, agree=0.687, adj=0.066, (0 split)
##       total.cte.courses.taken &lt; 0.5        to the right, agree=0.668, adj=0.009, (0 split)
## 
## Node number 256: 1074 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2951583  P(node) =0.04384747
##     class counts:   317   757
##    probabilities: 0.295 0.705 
##   left son=512 (392 obs) right son=513 (682 obs)
##   Primary splits:
##       total.cte.courses.taken &lt; 9.5        to the right, improve=3.994788, (0 missing)
##       avg.wages.pct.state     &lt; 0.7998886  to the left,  improve=3.889568, (0 missing)
##       avg.unemp.rate          &lt; 7.383333   to the right, improve=2.321678, (0 missing)
##       MCA.S                   &lt; 2.5        to the left,  improve=1.860023, (320 missing)
##       avg.cte.intensity       &lt; 2.240185   to the left,  improve=1.427246, (3 missing)
##   Surrogate splits:
##       avg.cte.intensity &lt; 2.213003   to the right, agree=0.654, adj=0.051, (0 split)
##       RaceEthnicity     splits as  LRRR-R, agree=0.637, adj=0.005, (0 split)
##       avg.unemp.rate    &lt; 7.283333   to the right, agree=0.637, adj=0.005, (0 split)
## 
## Node number 257: 1718 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.233993  P(node) =0.07013963
##     class counts:   402  1316
##    probabilities: 0.234 0.766 
##   left son=514 (756 obs) right son=515 (962 obs)
##   Primary splits:
##       avg.cte.intensity         &lt; 0.1598473  to the left,  improve=3.568058, (8 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the right, improve=2.268199, (0 missing)
##       RaceEthnicity             splits as  LRRL-L, improve=2.150604, (0 missing)
##       avg.wages.pct.state       &lt; 0.6711616  to the left,  improve=1.826662, (0 missing)
##       avg.unemp.rate            &lt; 3.2        to the right, improve=1.692266, (0 missing)
##   Surrogate splits:
##       avg.wages.pct.state     &lt; 0.7442585  to the right, agree=0.629, adj=0.157, (8 split)
##       total.cte.courses.taken &lt; 5.5        to the left,  agree=0.612, adj=0.118, (0 split)
##       RaceEthnicity           splits as  LRRR-R, agree=0.568, adj=0.020, (0 split)
##       avg.unemp.rate          &lt; 4.733333   to the left,  agree=0.564, adj=0.011, (0 split)
##       cte.achievement         splits as  RRL, agree=0.563, adj=0.007, (0 split)
## 
## Node number 328: 63 observations,    complexity param=0.0003375165
##   predicted class=Meaningful emp SW     expected loss=0.4761905  P(node) =0.002572058
##     class counts:    33    30
##    probabilities: 0.524 0.476 
##   left son=656 (7 obs) right son=657 (56 obs)
##   Primary splits:
##       pseo.participant                   splits as  RL,   improve=1.7500000, (0 missing)
##       highest.cred.level                 splits as  L-R-, improve=0.9376623, (0 missing)
##       LimitedEnglishProficiencyIndicator splits as  RL,   improve=0.9301099, (0 missing)
##       cte.achievement                    splits as  LRL,  improve=0.8984259, (0 missing)
##       economic.status                    splits as  RL,   improve=0.8983389, (0 missing)
##   Surrogate splits:
##       MCA.M &lt; 2.5        to the right, agree=0.905, adj=0.143, (0 split)
## 
## Node number 329: 87 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2528736  P(node) =0.00355189
##     class counts:    22    65
##    probabilities: 0.253 0.747 
##   left son=658 (70 obs) right son=659 (17 obs)
##   Primary splits:
##       total.cte.courses.taken &lt; 4.5        to the right, improve=2.7021350, (0 missing)
##       avg.cte.intensity       &lt; 0.4957752  to the right, improve=1.9053090, (0 missing)
##       avg.unemp.rate          &lt; 5.8        to the right, improve=1.8393750, (0 missing)
##       cte.achievement         splits as  RLR, improve=0.9886426, (0 missing)
##       MCA.M                   &lt; 2.5        to the left,  improve=0.4584127, (3 missing)
##   Surrogate splits:
##       avg.cte.intensity   &lt; -0.3451541 to the right, agree=0.862, adj=0.294, (0 split)
##       avg.wages.pct.state &lt; 0.6780599  to the right, agree=0.828, adj=0.118, (0 split)
## 
## Node number 330: 128 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2890625  P(node) =0.00522577
##     class counts:    37    91
##    probabilities: 0.289 0.711 
##   left son=660 (93 obs) right son=661 (35 obs)
##   Primary splits:
##       total.cte.courses.taken &lt; 3.5        to the right, improve=2.059452, (0 missing)
##       avg.wages.pct.state     &lt; 0.6961203  to the right, improve=1.180804, (0 missing)
##       avg.unemp.rate          &lt; 5.75       to the right, improve=1.178341, (0 missing)
##       cte.achievement         splits as  LRR, improve=1.146704, (0 missing)
##       pseo.participant        splits as  RL, improve=0.860880, (0 missing)
##   Surrogate splits:
##       cte.achievement   splits as  LLR, agree=0.852, adj=0.457, (0 split)
##       avg.cte.intensity &lt; -1.732856  to the right, agree=0.797, adj=0.257, (0 split)
##       RaceEthnicity     splits as  RLLL-L, agree=0.750, adj=0.086, (0 split)
## 
## Node number 331: 159 observations
##   predicted class=No meaningful emp SW  expected loss=0.1823899  P(node) =0.006491386
##     class counts:    29   130
##    probabilities: 0.182 0.818 
## 
## Node number 334: 210 observations,    complexity param=0.0003087509
##   predicted class=No meaningful emp SW  expected loss=0.2095238  P(node) =0.008573528
##     class counts:    44   166
##    probabilities: 0.210 0.790 
##   left son=668 (42 obs) right son=669 (168 obs)
##   Primary splits:
##       total.cte.courses.taken &lt; 9.5        to the right, improve=1.6095240, (0 missing)
##       avg.wages.pct.state     &lt; 0.7056557  to the left,  improve=1.6040100, (0 missing)
##       RaceEthnicity           splits as  RRRL-R, improve=1.6019050, (0 missing)
##       MCA.M                   &lt; 2.5        to the right, improve=1.0716100, (11 missing)
##       avg.cte.intensity       &lt; 1.165472   to the left,  improve=0.9934293, (0 missing)
## 
## Node number 335: 106 observations
##   predicted class=No meaningful emp SW  expected loss=0.09433962  P(node) =0.00432759
##     class counts:    10    96
##    probabilities: 0.094 0.906 
## 
## Node number 512: 392 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.3520408  P(node) =0.01600392
##     class counts:   138   254
##    probabilities: 0.352 0.648 
##   left son=1024 (205 obs) right son=1025 (187 obs)
##   Primary splits:
##       avg.wages.pct.state     &lt; 0.7121308  to the left,  improve=1.5951540, (0 missing)
##       avg.cte.intensity       &lt; 2.511153   to the left,  improve=1.0955580, (0 missing)
##       total.cte.courses.taken &lt; 23.5       to the left,  improve=0.9032241, (0 missing)
##       avg.unemp.rate          &lt; 7.083333   to the right, improve=0.7572209, (0 missing)
##       Gender                  splits as  LR, improve=0.7226681, (0 missing)
##   Surrogate splits:
##       avg.cte.intensity         &lt; 0.8560295  to the left,  agree=0.663, adj=0.294, (0 split)
##       avg.unemp.rate            &lt; 5.683333   to the left,  agree=0.612, adj=0.187, (0 split)
##       ps.grad.InstitutionSector &lt; 4.5        to the right, agree=0.559, adj=0.075, (0 split)
##       MCA.R                     &lt; 1.5        to the right, agree=0.541, adj=0.037, (0 split)
##       RaceEthnicity             splits as  LRLL-L, agree=0.528, adj=0.011, (0 split)
## 
## Node number 513: 682 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2624633  P(node) =0.02784355
##     class counts:   179   503
##    probabilities: 0.262 0.738 
##   left son=1026 (413 obs) right son=1027 (269 obs)
##   Primary splits:
##       avg.unemp.rate      &lt; 5.8        to the left,  improve=3.384280, (0 missing)
##       MCA.R               &lt; 1.5        to the left,  improve=2.880288, (56 missing)
##       avg.wages.pct.state &lt; 0.8055193  to the left,  improve=2.439773, (0 missing)
##       avg.cte.intensity   &lt; 2.237827   to the left,  improve=2.368699, (3 missing)
##       MCA.S               &lt; 2.5        to the left,  improve=1.627403, (219 missing)
##   Surrogate splits:
##       avg.cte.intensity   &lt; 2.227736   to the left,  agree=0.650, adj=0.112, (0 split)
##       avg.wages.pct.state &lt; 0.8085253  to the left,  agree=0.607, adj=0.004, (0 split)
## 
## Node number 514: 756 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2698413  P(node) =0.0308647
##     class counts:   204   552
##    probabilities: 0.270 0.730 
##   left son=1028 (77 obs) right son=1029 (679 obs)
##   Primary splits:
##       avg.cte.intensity         &lt; -0.2768723 to the right, improve=2.974512, (3 missing)
##       avg.unemp.rate            &lt; 5.55       to the right, improve=1.895893, (0 missing)
##       MCA.M                     &lt; 1.5        to the left,  improve=1.778829, (71 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the right, improve=1.410095, (0 missing)
##       avg.wages.pct.state       &lt; 0.6683163  to the left,  improve=1.334167, (0 missing)
##   Surrogate splits:
##       avg.wages.pct.state     &lt; 0.6480973  to the left,  agree=0.903, adj=0.052, (3 split)
##       total.cte.courses.taken &lt; 19.5       to the right, agree=0.899, adj=0.013, (0 split)
## 
## Node number 515: 962 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2058212  P(node) =0.03927492
##     class counts:   198   764
##    probabilities: 0.206 0.794 
##   left son=1030 (855 obs) right son=1031 (107 obs)
##   Primary splits:
##       RaceEthnicity           splits as  RRRL-L, improve=3.5667160, (0 missing)
##       avg.cte.intensity       &lt; 3.957392   to the left,  improve=1.8196760, (5 missing)
##       total.cte.courses.taken &lt; 5.5        to the right, improve=1.1434510, (0 missing)
##       avg.unemp.rate          &lt; 4.05       to the left,  improve=1.0109260, (0 missing)
##       MCA.R                   &lt; 3.5        to the left,  improve=0.9613996, (59 missing)
## 
## Node number 656: 7 observations
##   predicted class=Meaningful emp SW     expected loss=0.1428571  P(node) =0.0002857843
##     class counts:     6     1
##    probabilities: 0.857 0.143 
## 
## Node number 657: 56 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.4821429  P(node) =0.002286274
##     class counts:    27    29
##    probabilities: 0.482 0.518 
##   left son=1314 (48 obs) right son=1315 (8 obs)
##   Primary splits:
##       total.cte.courses.taken            &lt; 10.5       to the left,  improve=2.3809520, (0 missing)
##       LimitedEnglishProficiencyIndicator splits as  RL, improve=1.4955920, (0 missing)
##       economic.status                    splits as  RL, improve=1.1748120, (0 missing)
##       cte.achievement                    splits as  RRL, improve=0.7302432, (0 missing)
##       avg.wages.pct.state                &lt; 0.760542   to the right, improve=0.3809524, (0 missing)
## 
## Node number 658: 70 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.3142857  P(node) =0.002857843
##     class counts:    22    48
##    probabilities: 0.314 0.686 
##   left son=1316 (18 obs) right son=1317 (52 obs)
##   Primary splits:
##       cte.achievement           splits as  RLR, improve=1.6714290, (0 missing)
##       total.cte.courses.taken   &lt; 14.5       to the left,  improve=1.5365080, (0 missing)
##       avg.unemp.rate            &lt; 5.55       to the right, improve=1.2023940, (0 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the right, improve=0.9197279, (0 missing)
##       avg.cte.intensity         &lt; 0.4957752  to the right, improve=0.6311987, (0 missing)
##   Surrogate splits:
##       RaceEthnicity splits as  LRRR-R, agree=0.757, adj=0.056, (0 split)
## 
## Node number 659: 17 observations
##   predicted class=No meaningful emp SW  expected loss=0  P(node) =0.0006940475
##     class counts:     0    17
##    probabilities: 0.000 1.000 
## 
## Node number 660: 93 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.344086  P(node) =0.003796848
##     class counts:    32    61
##    probabilities: 0.344 0.656 
##   left son=1320 (21 obs) right son=1321 (72 obs)
##   Primary splits:
##       avg.cte.intensity       &lt; -1.078075  to the left,  improve=2.8038910, (0 missing)
##       MCA.M                   &lt; 1.5        to the left,  improve=1.7700140, (4 missing)
##       avg.unemp.rate          &lt; 5.75       to the right, improve=1.0117540, (0 missing)
##       avg.wages.pct.state     &lt; 0.6961203  to the right, improve=0.7824813, (0 missing)
##       total.cte.courses.taken &lt; 12.5       to the left,  improve=0.7425972, (0 missing)
## 
## Node number 661: 35 observations
##   predicted class=No meaningful emp SW  expected loss=0.1428571  P(node) =0.001428921
##     class counts:     5    30
##    probabilities: 0.143 0.857 
## 
## Node number 668: 42 observations,    complexity param=0.0003087509
##   predicted class=No meaningful emp SW  expected loss=0.3333333  P(node) =0.001714706
##     class counts:    14    28
##    probabilities: 0.333 0.667 
##   left son=1336 (20 obs) right son=1337 (22 obs)
##   Primary splits:
##       edr                 splits as  LRR, improve=2.1212120, (0 missing)
##       avg.unemp.rate      &lt; 3.95       to the right, improve=1.7500000, (0 missing)
##       avg.wages.pct.state &lt; 0.7600749  to the right, improve=1.6813730, (0 missing)
##       avg.cte.intensity   &lt; 1.134445   to the left,  improve=1.5844390, (0 missing)
##       economic.status     splits as  LR, improve=0.6189213, (0 missing)
##   Surrogate splits:
##       avg.cte.intensity       &lt; 1.703702   to the left,  agree=0.881, adj=0.75, (0 split)
##       avg.unemp.rate          &lt; 3.95       to the right, agree=0.810, adj=0.60, (0 split)
##       avg.wages.pct.state     &lt; 0.7188729  to the left,  agree=0.810, adj=0.60, (0 split)
##       SpecialEdStatus         splits as  RL, agree=0.595, adj=0.15, (0 split)
##       total.cte.courses.taken &lt; 13.5       to the left,  agree=0.595, adj=0.15, (0 split)
## 
## Node number 669: 168 observations,    complexity param=0.0003087509
##   predicted class=No meaningful emp SW  expected loss=0.1785714  P(node) =0.006858823
##     class counts:    30   138
##    probabilities: 0.179 0.821 
##   left son=1338 (112 obs) right son=1339 (56 obs)
##   Primary splits:
##       avg.wages.pct.state     &lt; 0.7610821  to the left,  improve=2.6250000, (0 missing)
##       avg.cte.intensity       &lt; -1.65565   to the left,  improve=1.5482140, (0 missing)
##       RaceEthnicity           splits as  RRRL-R, improve=1.4776330, (0 missing)
##       total.cte.courses.taken &lt; 4.5        to the left,  improve=1.2591150, (0 missing)
##       avg.unemp.rate          &lt; 3.3        to the left,  improve=0.9868351, (0 missing)
##   Surrogate splits:
##       avg.unemp.rate          &lt; 3.233333   to the right, agree=0.708, adj=0.125, (0 split)
##       avg.cte.intensity       &lt; -2.649998  to the right, agree=0.702, adj=0.107, (0 split)
##       total.cte.courses.taken &lt; 0.5        to the right, agree=0.679, adj=0.036, (0 split)
## 
## Node number 1024: 205 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.395122  P(node) =0.008369397
##     class counts:    81   124
##    probabilities: 0.395 0.605 
##   left son=2048 (28 obs) right son=2049 (177 obs)
##   Primary splits:
##       avg.wages.pct.state &lt; 0.7063324  to the right, improve=2.016071, (0 missing)
##       MCA.S               &lt; 2.5        to the left,  improve=1.921123, (36 missing)
##       avg.unemp.rate      &lt; 4.016667   to the right, improve=1.518589, (0 missing)
##       MCA.M               &lt; 1.5        to the left,  improve=1.313629, (2 missing)
##       avg.cte.intensity   &lt; 1.802823   to the right, improve=1.162023, (0 missing)
##   Surrogate splits:
##       avg.cte.intensity &lt; 2.280577   to the right, agree=0.912, adj=0.357, (0 split)
##       avg.unemp.rate    &lt; 7.383333   to the right, agree=0.883, adj=0.143, (0 split)
## 
## Node number 1025: 187 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.3048128  P(node) =0.007634523
##     class counts:    57   130
##    probabilities: 0.305 0.695 
##   left son=2050 (139 obs) right son=2051 (48 obs)
##   Primary splits:
##       MCA.S                   &lt; 1.5        to the right, improve=2.3064720, (65 missing)
##       avg.cte.intensity       &lt; -0.290709  to the right, improve=1.7569550, (0 missing)
##       Gender                  splits as  LR, improve=1.2460400, (0 missing)
##       total.cte.courses.taken &lt; 10.5       to the left,  improve=1.0822070, (0 missing)
##       avg.wages.pct.state     &lt; 0.7184329  to the right, improve=0.8777737, (0 missing)
##   Surrogate splits:
##       MCA.R                              &lt; 1.5        to the right, agree=0.787, adj=0.161, (62 split)
##       LimitedEnglishProficiencyIndicator splits as  LR, agree=0.754, adj=0.032, (3 split)
##       RaceEthnicity                      splits as  -LRL-L, agree=0.754, adj=0.032, (0 split)
##       avg.unemp.rate                     &lt; 3.933333   to the right, agree=0.754, adj=0.032, (0 split)
##       avg.wages.pct.state                &lt; 0.807751   to the left,  agree=0.754, adj=0.032, (0 split)
## 
## Node number 1026: 413 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.3026634  P(node) =0.01686127
##     class counts:   125   288
##    probabilities: 0.303 0.697 
##   left son=2052 (319 obs) right son=2053 (94 obs)
##   Primary splits:
##       MCA.S               &lt; 2.5        to the left,  improve=3.900070, (144 missing)
##       avg.wages.pct.state &lt; 0.7998886  to the left,  improve=2.799235, (0 missing)
##       avg.cte.intensity   &lt; 1.874461   to the left,  improve=2.621391, (1 missing)
##       MCA.R               &lt; 1.5        to the left,  improve=2.327559, (34 missing)
##       MCA.M               &lt; 2.5        to the left,  improve=2.127501, (29 missing)
##   Surrogate splits:
##       MCA.R &lt; 3.5        to the left,  agree=0.751, adj=0.152, (117 split)
## 
## Node number 1027: 269 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2007435  P(node) =0.01098228
##     class counts:    54   215
##    probabilities: 0.201 0.799 
##   left son=2054 (12 obs) right son=2055 (257 obs)
##   Primary splits:
##       avg.unemp.rate      &lt; 7.383333   to the right, improve=3.6770310, (0 missing)
##       avg.wages.pct.state &lt; 0.7154559  to the left,  improve=1.6726110, (0 missing)
##       Gender              splits as  RL, improve=1.1028280, (0 missing)
##       avg.cte.intensity   &lt; -0.8110683 to the right, improve=0.9335271, (2 missing)
##       RaceEthnicity       splits as  -RRL-L, improve=0.8370771, (0 missing)
## 
## Node number 1028: 77 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.4025974  P(node) =0.003143627
##     class counts:    31    46
##    probabilities: 0.403 0.597 
##   left son=2056 (65 obs) right son=2057 (12 obs)
##   Primary splits:
##       avg.unemp.rate          &lt; 5.983333   to the left,  improve=2.897935, (0 missing)
##       RaceEthnicity           splits as  -LRR-L, improve=2.496104, (0 missing)
##       MCA.S                   &lt; 2.5        to the left,  improve=1.048893, (24 missing)
##       MCA.R                   &lt; 3.5        to the left,  improve=1.031355, (4 missing)
##       total.cte.courses.taken &lt; 13.5       to the left,  improve=0.663144, (0 missing)
##   Surrogate splits:
##       avg.wages.pct.state &lt; 0.6467342  to the right, agree=0.87, adj=0.167, (0 split)
## 
## Node number 1029: 679 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2547865  P(node) =0.02772107
##     class counts:   173   506
##    probabilities: 0.255 0.745 
##   left son=2058 (598 obs) right son=2059 (81 obs)
##   Primary splits:
##       avg.cte.intensity                  &lt; -0.5794826 to the left,  improve=2.655443, (3 missing)
##       avg.unemp.rate                     &lt; 5.55       to the right, improve=1.935338, (0 missing)
##       MCA.M                              &lt; 1.5        to the left,  improve=1.669266, (70 missing)
##       ps.grad.InstitutionSector          &lt; 4.5        to the right, improve=1.553898, (0 missing)
##       LimitedEnglishProficiencyIndicator splits as  RL, improve=1.303939, (0 missing)
## 
## Node number 1030: 855 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2210526  P(node) =0.03490651
##     class counts:   189   666
##    probabilities: 0.221 0.779 
##   left son=2060 (835 obs) right son=2061 (20 obs)
##   Primary splits:
##       avg.cte.intensity         &lt; 3.957392   to the left,  improve=2.003912, (5 missing)
##       avg.unemp.rate            &lt; 4.05       to the left,  improve=1.355310, (0 missing)
##       MCA.R                     &lt; 3.5        to the left,  improve=1.347854, (50 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the right, improve=1.254337, (0 missing)
##       total.cte.courses.taken   &lt; 20.5       to the right, improve=1.000960, (0 missing)
## 
## Node number 1031: 107 observations
##   predicted class=No meaningful emp SW  expected loss=0.08411215  P(node) =0.004368417
##     class counts:     9    98
##    probabilities: 0.084 0.916 
## 
## Node number 1314: 48 observations,    complexity param=0.0003375165
##   predicted class=Meaningful emp SW     expected loss=0.4583333  P(node) =0.001959664
##     class counts:    26    22
##    probabilities: 0.542 0.458 
##   left son=2628 (10 obs) right son=2629 (38 obs)
##   Primary splits:
##       avg.cte.intensity                  &lt; 1.185005   to the right, improve=1.6859650, (0 missing)
##       cte.achievement                    splits as  LRL, improve=1.5955710, (0 missing)
##       total.cte.courses.taken            &lt; 8.5        to the right, improve=1.2350430, (0 missing)
##       economic.status                    splits as  RL, improve=0.8757576, (0 missing)
##       LimitedEnglishProficiencyIndicator splits as  RL, improve=0.8091575, (0 missing)
## 
## Node number 1315: 8 observations
##   predicted class=No meaningful emp SW  expected loss=0.125  P(node) =0.0003266106
##     class counts:     1     7
##    probabilities: 0.125 0.875 
## 
## Node number 1316: 18 observations
##   predicted class=Meaningful emp SW     expected loss=0.5  P(node) =0.0007348738
##     class counts:     9     9
##    probabilities: 0.500 0.500 
## 
## Node number 1317: 52 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.25  P(node) =0.002122969
##     class counts:    13    39
##    probabilities: 0.250 0.750 
##   left son=2634 (7 obs) right son=2635 (45 obs)
##   Primary splits:
##       avg.unemp.rate          &lt; 5.55       to the right, improve=3.4873020, (0 missing)
##       total.cte.courses.taken &lt; 14.5       to the left,  improve=1.0111110, (0 missing)
##       MCA.S                   &lt; 1.5        to the left,  improve=0.9373200, (9 missing)
##       avg.wages.pct.state     &lt; 0.7095839  to the right, improve=0.7222222, (0 missing)
##       RaceEthnicity           splits as  -RRR-L, improve=0.5571429, (0 missing)
## 
## Node number 1320: 21 observations,    complexity param=0.0003375165
##   predicted class=Meaningful emp SW     expected loss=0.4285714  P(node) =0.0008573528
##     class counts:    12     9
##    probabilities: 0.571 0.429 
##   left son=2640 (7 obs) right son=2641 (14 obs)
##   Primary splits:
##       total.cte.courses.taken &lt; 7.5        to the right, improve=1.7142860, (0 missing)
##       avg.unemp.rate          &lt; 4.083333   to the right, improve=1.3412700, (0 missing)
##       SpecialEdStatus         splits as  RL, improve=0.6311688, (0 missing)
##       avg.cte.intensity       &lt; -1.532853  to the right, improve=0.6311688, (0 missing)
##       avg.wages.pct.state     &lt; 0.6714791  to the right, improve=0.6311688, (0 missing)
##   Surrogate splits:
##       avg.wages.pct.state                &lt; 0.6765802  to the right, agree=0.952, adj=0.857, (0 split)
##       avg.cte.intensity                  &lt; -1.248497  to the right, agree=0.810, adj=0.429, (0 split)
##       avg.unemp.rate                     &lt; 4.25       to the right, agree=0.810, adj=0.429, (0 split)
##       LimitedEnglishProficiencyIndicator splits as  RL, agree=0.714, adj=0.143, (0 split)
## 
## Node number 1321: 72 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2777778  P(node) =0.002939495
##     class counts:    20    52
##    probabilities: 0.278 0.722 
##   left son=2642 (7 obs) right son=2643 (65 obs)
##   Primary splits:
##       avg.wages.pct.state &lt; 0.6961203  to the right, improve=1.3372410, (0 missing)
##       MCA.M               &lt; 1.5        to the left,  improve=1.1769610, (4 missing)
##       pseo.participant    splits as  RL, improve=1.1469530, (0 missing)
##       avg.unemp.rate      &lt; 5.75       to the right, improve=1.1469530, (0 missing)
##       avg.cte.intensity   &lt; 1.738319   to the left,  improve=0.7340502, (0 missing)
## 
## Node number 1336: 20 observations,    complexity param=0.0003087509
##   predicted class=Meaningful emp SW     expected loss=0.5  P(node) =0.0008165265
##     class counts:    10    10
##    probabilities: 0.500 0.500 
##   left son=2672 (9 obs) right son=2673 (11 obs)
##   Primary splits:
##       avg.cte.intensity       &lt; 1.123218   to the left,  improve=0.9090909, (0 missing)
##       SpecialEdStatus         splits as  LR, improve=0.4166667, (0 missing)
##       economic.status         splits as  LR, improve=0.1098901, (0 missing)
##       total.cte.courses.taken &lt; 11.5       to the right, improve=0.1098901, (0 missing)
##       avg.wages.pct.state     &lt; 0.7071048  to the left,  improve=0.1098901, (0 missing)
##   Surrogate splits:
##       avg.wages.pct.state       &lt; 0.8055193  to the right, agree=0.80, adj=0.556, (0 split)
##       avg.unemp.rate            &lt; 3.883333   to the left,  agree=0.70, adj=0.333, (0 split)
##       ps.grad.InstitutionSector &lt; 4.5        to the left,  agree=0.65, adj=0.222, (0 split)
##       highest.cred.level        splits as  L-R-, agree=0.65, adj=0.222, (0 split)
##       total.cte.courses.taken   &lt; 13.5       to the right, agree=0.65, adj=0.222, (0 split)
## 
## Node number 1337: 22 observations
##   predicted class=No meaningful emp SW  expected loss=0.1818182  P(node) =0.0008981791
##     class counts:     4    18
##    probabilities: 0.182 0.818 
## 
## Node number 1338: 112 observations,    complexity param=0.0003087509
##   predicted class=No meaningful emp SW  expected loss=0.2410714  P(node) =0.004572548
##     class counts:    27    85
##    probabilities: 0.241 0.759 
##   left son=2676 (22 obs) right son=2677 (90 obs)
##   Primary splits:
##       avg.cte.intensity   &lt; -1.873315  to the left,  improve=2.4952740, (0 missing)
##       avg.unemp.rate      &lt; 4.366667   to the left,  improve=1.3392860, (0 missing)
##       avg.wages.pct.state &lt; 0.7500109  to the right, improve=1.1895500, (0 missing)
##       edr                 splits as  RLL, improve=1.0217970, (0 missing)
##       MCA.S               &lt; 1.5        to the right, improve=0.9678654, (19 missing)
##   Surrogate splits:
##       avg.unemp.rate      &lt; 3.3        to the left,  agree=0.920, adj=0.591, (0 split)
##       avg.wages.pct.state &lt; 0.7488636  to the right, agree=0.875, adj=0.364, (0 split)
## 
## Node number 1339: 56 observations
##   predicted class=No meaningful emp SW  expected loss=0.05357143  P(node) =0.002286274
##     class counts:     3    53
##    probabilities: 0.054 0.946 
## 
## Node number 2048: 28 observations,    complexity param=0.0003375165
##   predicted class=Meaningful emp SW     expected loss=0.4285714  P(node) =0.001143137
##     class counts:    16    12
##    probabilities: 0.571 0.429 
##   left son=4096 (17 obs) right son=4097 (11 obs)
##   Primary splits:
##       MCA.M                   &lt; 1.5        to the left,  improve=1.5645530, (0 missing)
##       avg.cte.intensity       &lt; 1.77715    to the right, improve=1.1428570, (0 missing)
##       total.cte.courses.taken &lt; 11.5       to the left,  improve=0.7091575, (0 missing)
##       MCA.R                   &lt; 3.5        to the right, improve=0.3809524, (0 missing)
##       economic.status         splits as  RL, improve=0.2857143, (0 missing)
##   Surrogate splits:
##       MCA.S               &lt; 2.5        to the left,  agree=0.786, adj=0.455, (0 split)
##       avg.unemp.rate      &lt; 6.716667   to the left,  agree=0.750, adj=0.364, (0 split)
##       avg.wages.pct.state &lt; 0.7100112  to the left,  agree=0.750, adj=0.364, (0 split)
##       avg.cte.intensity   &lt; 0.6865134  to the right, agree=0.714, adj=0.273, (0 split)
##       economic.status     splits as  RL, agree=0.679, adj=0.182, (0 split)
## 
## Node number 2049: 177 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.3672316  P(node) =0.007226259
##     class counts:    65   112
##    probabilities: 0.367 0.633 
##   left son=4098 (131 obs) right son=4099 (46 obs)
##   Primary splits:
##       MCA.S               &lt; 2.5        to the left,  improve=1.8432310, (36 missing)
##       economic.status     splits as  LR, improve=1.7483780, (0 missing)
##       avg.cte.intensity   &lt; -0.3983751 to the left,  improve=1.4213130, (0 missing)
##       avg.unemp.rate      &lt; 4.016667   to the right, improve=0.9832598, (0 missing)
##       avg.wages.pct.state &lt; 0.7056402  to the left,  improve=0.9832598, (0 missing)
##   Surrogate splits:
##       MCA.M                   &lt; 2.5        to the left,  agree=0.766, adj=0.233, (35 split)
##       MCA.R                   &lt; 3.5        to the left,  agree=0.759, adj=0.209, (0 split)
##       pseo.participant        splits as  LR, agree=0.702, adj=0.023, (1 split)
##       total.cte.courses.taken &lt; 21.5       to the left,  agree=0.702, adj=0.023, (0 split)
## 
## Node number 2050: 139 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.323741  P(node) =0.005674859
##     class counts:    45    94
##    probabilities: 0.324 0.676 
##   left son=4100 (17 obs) right son=4101 (122 obs)
##   Primary splits:
##       RaceEthnicity       splits as  -LRL-R, improve=1.6386230, (0 missing)
##       economic.status     splits as  RL, improve=1.4188170, (0 missing)
##       avg.cte.intensity   &lt; 0.1072261  to the right, improve=0.8701470, (0 missing)
##       avg.wages.pct.state &lt; 0.7998886  to the left,  improve=0.8279003, (0 missing)
##       Gender              splits as  LR, improve=0.7901626, (0 missing)
##   Surrogate splits:
##       avg.cte.intensity &lt; 2.540358   to the right, agree=0.885, adj=0.059, (0 split)
## 
## Node number 2051: 48 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.25  P(node) =0.001959664
##     class counts:    12    36
##    probabilities: 0.250 0.750 
##   left son=4102 (23 obs) right son=4103 (25 obs)
##   Primary splits:
##       avg.unemp.rate          &lt; 5.533333   to the left,  improve=3.0156520, (0 missing)
##       avg.wages.pct.state     &lt; 0.7183527  to the right, improve=1.7883600, (0 missing)
##       avg.cte.intensity       &lt; 0.8717167  to the right, improve=1.5789470, (0 missing)
##       total.cte.courses.taken &lt; 16.5       to the left,  improve=1.2000000, (0 missing)
##       MCA.R                   &lt; 1.5        to the left,  improve=0.6857143, (0 missing)
##   Surrogate splits:
##       avg.wages.pct.state     &lt; 0.7183527  to the right, agree=0.833, adj=0.652, (0 split)
##       avg.cte.intensity       &lt; 1.575184   to the left,  agree=0.688, adj=0.348, (0 split)
##       MCA.R                   &lt; 1.5        to the left,  agree=0.688, adj=0.348, (0 split)
##       total.cte.courses.taken &lt; 16.5       to the left,  agree=0.646, adj=0.261, (0 split)
##       RaceEthnicity           splits as  --LR-L, agree=0.583, adj=0.130, (0 split)
## 
## Node number 2052: 319 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.3291536  P(node) =0.0130236
##     class counts:   105   214
##    probabilities: 0.329 0.671 
##   left son=4104 (269 obs) right son=4105 (50 obs)
##   Primary splits:
##       avg.cte.intensity   &lt; 1.858845   to the left,  improve=4.292019, (1 missing)
##       avg.wages.pct.state &lt; 0.8055193  to the left,  improve=2.523770, (0 missing)
##       avg.unemp.rate      &lt; 4.333333   to the left,  improve=1.912268, (0 missing)
##       economic.status     splits as  LR, improve=1.106728, (0 missing)
##       MCA.R               &lt; 1.5        to the left,  improve=1.078333, (32 missing)
## 
## Node number 2053: 94 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.212766  P(node) =0.003837675
##     class counts:    20    74
##    probabilities: 0.213 0.787 
##   left son=4106 (7 obs) right son=4107 (87 obs)
##   Primary splits:
##       avg.cte.intensity         &lt; 1.988757   to the right, improve=1.9458480, (0 missing)
##       avg.wages.pct.state       &lt; 0.7025719  to the right, improve=1.8869810, (0 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the left,  improve=1.8673290, (0 missing)
##       avg.unemp.rate            &lt; 4.383333   to the right, improve=0.9639484, (0 missing)
##       MCA.R                     &lt; 3.5        to the right, improve=0.6891999, (2 missing)
## 
## Node number 2054: 12 observations
##   predicted class=Meaningful emp SW     expected loss=0.4166667  P(node) =0.0004899159
##     class counts:     7     5
##    probabilities: 0.583 0.417 
## 
## Node number 2055: 257 observations
##   predicted class=No meaningful emp SW  expected loss=0.1828794  P(node) =0.01049237
##     class counts:    47   210
##    probabilities: 0.183 0.817 
## 
## Node number 2056: 65 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.4615385  P(node) =0.002653711
##     class counts:    30    35
##    probabilities: 0.462 0.538 
##   left son=4112 (57 obs) right son=4113 (8 obs)
##   Primary splits:
##       RaceEthnicity           splits as  -RRR-L, improve=2.0664640, (0 missing)
##       MCA.R                   &lt; 3.5        to the left,  improve=0.9356635, (4 missing)
##       total.cte.courses.taken &lt; 13.5       to the left,  improve=0.8164642, (0 missing)
##       avg.unemp.rate          &lt; 5.25       to the right, improve=0.7652492, (0 missing)
##       avg.cte.intensity       &lt; 0.0679547  to the left,  improve=0.6410256, (0 missing)
##   Surrogate splits:
##       LimitedEnglishProficiencyIndicator splits as  LR, agree=0.908, adj=0.250, (0 split)
##       total.cte.courses.taken            &lt; 15.5       to the left,  agree=0.892, adj=0.125, (0 split)
## 
## Node number 2057: 12 observations
##   predicted class=No meaningful emp SW  expected loss=0.08333333  P(node) =0.0004899159
##     class counts:     1    11
##    probabilities: 0.083 0.917 
## 
## Node number 2058: 598 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.270903  P(node) =0.02441414
##     class counts:   162   436
##    probabilities: 0.271 0.729 
##   left son=4116 (244 obs) right son=4117 (354 obs)
##   Primary splits:
##       avg.unemp.rate                     &lt; 5.166667   to the right, improve=2.675142, (0 missing)
##       avg.cte.intensity                  &lt; -0.6304778 to the right, improve=2.314286, (3 missing)
##       LimitedEnglishProficiencyIndicator splits as  RL, improve=1.834423, (0 missing)
##       MCA.M                              &lt; 1.5        to the left,  improve=1.691370, (65 missing)
##       avg.wages.pct.state                &lt; 0.6683163  to the left,  improve=1.660316, (0 missing)
##   Surrogate splits:
##       avg.wages.pct.state &lt; 0.6644778  to the left,  agree=0.707, adj=0.283, (0 split)
##       avg.cte.intensity   &lt; -0.7243062 to the right, agree=0.634, adj=0.102, (0 split)
##       RaceEthnicity       splits as  LRRR-R, agree=0.605, adj=0.033, (0 split)
## 
## Node number 2059: 81 observations
##   predicted class=No meaningful emp SW  expected loss=0.1358025  P(node) =0.003306932
##     class counts:    11    70
##    probabilities: 0.136 0.864 
## 
## Node number 2060: 835 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2263473  P(node) =0.03408998
##     class counts:   189   646
##    probabilities: 0.226 0.774 
##   left son=4120 (709 obs) right son=4121 (126 obs)
##   Primary splits:
##       avg.cte.intensity         &lt; 0.5470755  to the right, improve=1.703098, (5 missing)
##       MCA.R                     &lt; 3.5        to the left,  improve=1.448884, (50 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the right, improve=1.375254, (0 missing)
##       avg.unemp.rate            &lt; 4.05       to the left,  improve=1.127155, (0 missing)
##       avg.wages.pct.state       &lt; 0.7016864  to the left,  improve=1.081101, (0 missing)
##   Surrogate splits:
##       avg.unemp.rate &lt; 2.433333   to the right, agree=0.852, adj=0.024, (5 split)
## 
## Node number 2061: 20 observations
##   predicted class=No meaningful emp SW  expected loss=0  P(node) =0.0008165265
##     class counts:     0    20
##    probabilities: 0.000 1.000 
## 
## Node number 2628: 10 observations
##   predicted class=Meaningful emp SW     expected loss=0.2  P(node) =0.0004082632
##     class counts:     8     2
##    probabilities: 0.800 0.200 
## 
## Node number 2629: 38 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.4736842  P(node) =0.0015514
##     class counts:    18    20
##    probabilities: 0.474 0.526 
##   left son=5258 (18 obs) right son=5259 (20 obs)
##   Primary splits:
##       cte.achievement                    splits as  LRL, improve=1.2918130, (0 missing)
##       RaceEthnicity                      splits as  -LLR-L, improve=1.2503990, (0 missing)
##       avg.unemp.rate                     &lt; 3.716667   to the right, improve=0.8194223, (0 missing)
##       LimitedEnglishProficiencyIndicator splits as  RL, improve=0.4640351, (0 missing)
##       avg.cte.intensity                  &lt; 0.07833926 to the left,  improve=0.4360048, (0 missing)
##   Surrogate splits:
##       avg.cte.intensity         &lt; 0.1353588  to the left,  agree=0.711, adj=0.389, (0 split)
##       avg.unemp.rate            &lt; 3.5        to the right, agree=0.711, adj=0.389, (0 split)
##       total.cte.courses.taken   &lt; 2.5        to the left,  agree=0.658, adj=0.278, (0 split)
##       avg.wages.pct.state       &lt; 0.7106848  to the left,  agree=0.658, adj=0.278, (0 split)
##       ps.grad.InstitutionSector &lt; 4.5        to the left,  agree=0.632, adj=0.222, (0 split)
## 
## Node number 2634: 7 observations
##   predicted class=Meaningful emp SW     expected loss=0.2857143  P(node) =0.0002857843
##     class counts:     5     2
##    probabilities: 0.714 0.286 
## 
## Node number 2635: 45 observations
##   predicted class=No meaningful emp SW  expected loss=0.1777778  P(node) =0.001837185
##     class counts:     8    37
##    probabilities: 0.178 0.822 
## 
## Node number 2640: 7 observations
##   predicted class=Meaningful emp SW     expected loss=0.1428571  P(node) =0.0002857843
##     class counts:     6     1
##    probabilities: 0.857 0.143 
## 
## Node number 2641: 14 observations
##   predicted class=No meaningful emp SW  expected loss=0.4285714  P(node) =0.0005715685
##     class counts:     6     8
##    probabilities: 0.429 0.571 
## 
## Node number 2642: 7 observations
##   predicted class=Meaningful emp SW     expected loss=0.4285714  P(node) =0.0002857843
##     class counts:     4     3
##    probabilities: 0.571 0.429 
## 
## Node number 2643: 65 observations
##   predicted class=No meaningful emp SW  expected loss=0.2461538  P(node) =0.002653711
##     class counts:    16    49
##    probabilities: 0.246 0.754 
## 
## Node number 2672: 9 observations
##   predicted class=Meaningful emp SW     expected loss=0.3333333  P(node) =0.0003674369
##     class counts:     6     3
##    probabilities: 0.667 0.333 
## 
## Node number 2673: 11 observations
##   predicted class=No meaningful emp SW  expected loss=0.3636364  P(node) =0.0004490896
##     class counts:     4     7
##    probabilities: 0.364 0.636 
## 
## Node number 2676: 22 observations,    complexity param=0.0003087509
##   predicted class=No meaningful emp SW  expected loss=0.4545455  P(node) =0.0008981791
##     class counts:    10    12
##    probabilities: 0.455 0.545 
##   left son=5352 (10 obs) right son=5353 (12 obs)
##   Primary splits:
##       avg.cte.intensity       &lt; -2.521252  to the right, improve=2.2090910, (0 missing)
##       RaceEthnicity           splits as  -RLR-L, improve=1.0519480, (0 missing)
##       economic.status         splits as  RL, improve=0.8757576, (0 missing)
##       cte.achievement         splits as  RRL, improve=0.7305195, (0 missing)
##       total.cte.courses.taken &lt; 4.5        to the left,  improve=0.4475524, (0 missing)
##   Surrogate splits:
##       RaceEthnicity       splits as  -RRR-L, agree=0.773, adj=0.5, (0 split)
##       avg.wages.pct.state &lt; 0.7500109  to the left,  agree=0.773, adj=0.5, (0 split)
##       avg.unemp.rate      &lt; 3.433333   to the right, agree=0.727, adj=0.4, (0 split)
##       edr                 splits as  L-R, agree=0.682, adj=0.3, (0 split)
##       cte.achievement     splits as  LRR, agree=0.682, adj=0.3, (0 split)
## 
## Node number 2677: 90 observations
##   predicted class=No meaningful emp SW  expected loss=0.1888889  P(node) =0.003674369
##     class counts:    17    73
##    probabilities: 0.189 0.811 
## 
## Node number 4096: 17 observations
##   predicted class=Meaningful emp SW     expected loss=0.2941176  P(node) =0.0006940475
##     class counts:    12     5
##    probabilities: 0.706 0.294 
## 
## Node number 4097: 11 observations
##   predicted class=No meaningful emp SW  expected loss=0.3636364  P(node) =0.0004490896
##     class counts:     4     7
##    probabilities: 0.364 0.636 
## 
## Node number 4098: 131 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.4122137  P(node) =0.005348249
##     class counts:    54    77
##    probabilities: 0.412 0.588 
##   left son=8196 (65 obs) right son=8197 (66 obs)
##   Primary splits:
##       economic.status         splits as  LR, improve=1.6552750, (0 missing)
##       avg.unemp.rate          &lt; 4.183333   to the right, improve=1.5257440, (0 missing)
##       total.cte.courses.taken &lt; 23.5       to the left,  improve=1.2748550, (0 missing)
##       avg.wages.pct.state     &lt; 0.7056402  to the left,  improve=1.0730820, (0 missing)
##       avg.cte.intensity       &lt; -0.3831735 to the left,  improve=0.8233073, (0 missing)
##   Surrogate splits:
##       RaceEthnicity             splits as  R-RR-L, agree=0.687, adj=0.369, (0 split)
##       avg.unemp.rate            &lt; 5.5        to the right, agree=0.603, adj=0.200, (0 split)
##       avg.wages.pct.state       &lt; 0.692071   to the left,  agree=0.580, adj=0.154, (0 split)
##       total.cte.courses.taken   &lt; 17.5       to the right, agree=0.573, adj=0.138, (0 split)
##       ps.grad.InstitutionSector &lt; 4.5        to the left,  agree=0.565, adj=0.123, (0 split)
## 
## Node number 4099: 46 observations
##   predicted class=No meaningful emp SW  expected loss=0.2391304  P(node) =0.001878011
##     class counts:    11    35
##    probabilities: 0.239 0.761 
## 
## Node number 4100: 17 observations
##   predicted class=Meaningful emp SW     expected loss=0.4705882  P(node) =0.0006940475
##     class counts:     9     8
##    probabilities: 0.529 0.471 
## 
## Node number 4101: 122 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.295082  P(node) =0.004980812
##     class counts:    36    86
##    probabilities: 0.295 0.705 
##   left son=8202 (115 obs) right son=8203 (7 obs)
##   Primary splits:
##       avg.cte.intensity   &lt; 0.1072261  to the right, improve=1.2932290, (0 missing)
##       MCA.M               &lt; 1.5        to the right, improve=1.1807530, (1 missing)
##       avg.unemp.rate      &lt; 6          to the right, improve=1.0108550, (0 missing)
##       avg.wages.pct.state &lt; 0.7174399  to the left,  improve=0.7369282, (0 missing)
##       economic.status     splits as  RL, improve=0.4933841, (0 missing)
## 
## Node number 4102: 23 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.4347826  P(node) =0.0009390055
##     class counts:    10    13
##    probabilities: 0.435 0.565 
##   left son=8204 (16 obs) right son=8205 (7 obs)
##   Primary splits:
##       avg.cte.intensity       &lt; 0.9437026  to the right, improve=1.7150620, (0 missing)
##       Gender                  splits as  LR, improve=0.4313320, (0 missing)
##       economic.status         splits as  LR, improve=0.2134387, (0 missing)
##       avg.wages.pct.state     &lt; 0.7579289  to the left,  improve=0.2134387, (0 missing)
##       total.cte.courses.taken &lt; 10.5       to the left,  improve=0.1043478, (0 missing)
##   Surrogate splits:
##       avg.unemp.rate                     &lt; 3.583333   to the right, agree=0.783, adj=0.286, (0 split)
##       avg.wages.pct.state                &lt; 0.7156785  to the right, agree=0.783, adj=0.286, (0 split)
##       LimitedEnglishProficiencyIndicator splits as  LR, agree=0.739, adj=0.143, (0 split)
##       RaceEthnicity                      splits as  --RL-L, agree=0.739, adj=0.143, (0 split)
## 
## Node number 4103: 25 observations
##   predicted class=No meaningful emp SW  expected loss=0.08  P(node) =0.001020658
##     class counts:     2    23
##    probabilities: 0.080 0.920 
## 
## Node number 4104: 269 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.3643123  P(node) =0.01098228
##     class counts:    98   171
##    probabilities: 0.364 0.636 
##   left son=8208 (236 obs) right son=8209 (33 obs)
##   Primary splits:
##       avg.wages.pct.state &lt; 0.8055193  to the left,  improve=3.4065570, (0 missing)
##       avg.unemp.rate      &lt; 5.316667   to the right, improve=2.6640080, (0 missing)
##       avg.cte.intensity   &lt; 1.786689   to the right, improve=2.3221570, (1 missing)
##       economic.status     splits as  LR, improve=1.4248390, (0 missing)
##       MCA.R               &lt; 1.5        to the left,  improve=0.7830085, (25 missing)
##   Surrogate splits:
##       avg.cte.intensity &lt; -1.789222  to the right, agree=0.881, adj=0.03, (0 split)
## 
## Node number 4105: 50 observations
##   predicted class=No meaningful emp SW  expected loss=0.14  P(node) =0.002041316
##     class counts:     7    43
##    probabilities: 0.140 0.860 
## 
## Node number 4106: 7 observations
##   predicted class=Meaningful emp SW     expected loss=0.4285714  P(node) =0.0002857843
##     class counts:     4     3
##    probabilities: 0.571 0.429 
## 
## Node number 4107: 87 observations
##   predicted class=No meaningful emp SW  expected loss=0.183908  P(node) =0.00355189
##     class counts:    16    71
##    probabilities: 0.184 0.816 
## 
## Node number 4112: 57 observations,    complexity param=0.0003375165
##   predicted class=Meaningful emp SW     expected loss=0.4912281  P(node) =0.002327101
##     class counts:    29    28
##    probabilities: 0.509 0.491 
##   left son=8224 (48 obs) right son=8225 (9 obs)
##   Primary splits:
##       MCA.R                     &lt; 3.5        to the left,  improve=1.3542670, (3 missing)
##       avg.unemp.rate            &lt; 5.583333   to the right, improve=1.0150380, (0 missing)
##       economic.status           splits as  RL, improve=0.7208577, (0 missing)
##       MCA.M                     &lt; 1.5        to the left,  improve=0.5475115, (1 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the right, improve=0.4385965, (0 missing)
##   Surrogate splits:
##       MCA.M &lt; 2.5        to the left,  agree=0.889, adj=0.25, (2 split)
## 
## Node number 4113: 8 observations
##   predicted class=No meaningful emp SW  expected loss=0.125  P(node) =0.0003266106
##     class counts:     1     7
##    probabilities: 0.125 0.875 
## 
## Node number 4116: 244 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.3278689  P(node) =0.009961623
##     class counts:    80   164
##    probabilities: 0.328 0.672 
##   left son=8232 (14 obs) right son=8233 (230 obs)
##   Primary splits:
##       avg.cte.intensity         &lt; -0.6304778 to the right, improve=2.9471950, (0 missing)
##       MCA.M                     &lt; 2.5        to the left,  improve=2.1721320, (23 missing)
##       MCA.R                     &lt; 1.5        to the left,  improve=1.1359370, (13 missing)
##       cte.achievement           splits as  LRR, improve=0.9820345, (0 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the right, improve=0.9426930, (0 missing)
## 
## Node number 4117: 354 observations
##   predicted class=No meaningful emp SW  expected loss=0.2316384  P(node) =0.01445252
##     class counts:    82   272
##    probabilities: 0.232 0.768 
## 
## Node number 4120: 709 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2397743  P(node) =0.02894586
##     class counts:   170   539
##    probabilities: 0.240 0.760 
##   left son=8240 (147 obs) right son=8241 (562 obs)
##   Primary splits:
##       avg.unemp.rate            &lt; 4.05       to the left,  improve=1.6327300, (0 missing)
##       MCA.R                     &lt; 3.5        to the left,  improve=1.5366580, (43 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the right, improve=1.2514590, (0 missing)
##       avg.wages.pct.state       &lt; 0.7610821  to the right, improve=1.0916350, (0 missing)
##       avg.cte.intensity         &lt; 3.681534   to the right, improve=0.8365162, (5 missing)
##   Surrogate splits:
##       avg.wages.pct.state &lt; 0.7187657  to the right, agree=0.893, adj=0.483, (0 split)
##       cte.achievement     splits as  RRL, agree=0.798, adj=0.027, (0 split)
##       avg.cte.intensity   &lt; 0.5591956  to the left,  agree=0.794, adj=0.007, (0 split)
## 
## Node number 4121: 126 observations
##   predicted class=No meaningful emp SW  expected loss=0.1507937  P(node) =0.005144117
##     class counts:    19   107
##    probabilities: 0.151 0.849 
## 
## Node number 5258: 18 observations
##   predicted class=Meaningful emp SW     expected loss=0.3888889  P(node) =0.0007348738
##     class counts:    11     7
##    probabilities: 0.611 0.389 
## 
## Node number 5259: 20 observations
##   predicted class=No meaningful emp SW  expected loss=0.35  P(node) =0.0008165265
##     class counts:     7    13
##    probabilities: 0.350 0.650 
## 
## Node number 5352: 10 observations
##   predicted class=Meaningful emp SW     expected loss=0.3  P(node) =0.0004082632
##     class counts:     7     3
##    probabilities: 0.700 0.300 
## 
## Node number 5353: 12 observations
##   predicted class=No meaningful emp SW  expected loss=0.25  P(node) =0.0004899159
##     class counts:     3     9
##    probabilities: 0.250 0.750 
## 
## Node number 8196: 65 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.4923077  P(node) =0.002653711
##     class counts:    32    33
##    probabilities: 0.492 0.508 
##   left son=16392 (35 obs) right son=16393 (30 obs)
##   Primary splits:
##       avg.unemp.rate          &lt; 5.5        to the left,  improve=2.8161170, (0 missing)
##       avg.wages.pct.state     &lt; 0.6835939  to the right, improve=2.4923080, (0 missing)
##       total.cte.courses.taken &lt; 23.5       to the left,  improve=2.4616060, (0 missing)
##       avg.cte.intensity       &lt; 1.700274   to the right, improve=1.3000000, (0 missing)
##       MCA.R                   &lt; 3.5        to the left,  improve=0.7218045, (1 missing)
##   Surrogate splits:
##       avg.wages.pct.state     &lt; 0.7053184  to the left,  agree=0.754, adj=0.467, (0 split)
##       total.cte.courses.taken &lt; 17.5       to the left,  agree=0.662, adj=0.267, (0 split)
##       avg.cte.intensity       &lt; 1.700274   to the right, agree=0.631, adj=0.200, (0 split)
##       MCA.R                   &lt; 3.5        to the left,  agree=0.554, adj=0.033, (0 split)
## 
## Node number 8197: 66 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.3333333  P(node) =0.002694537
##     class counts:    22    44
##    probabilities: 0.333 0.667 
##   left son=16394 (54 obs) right son=16395 (12 obs)
##   Primary splits:
##       avg.unemp.rate      &lt; 4.3        to the right, improve=1.8333330, (0 missing)
##       avg.cte.intensity   &lt; -0.3661741 to the left,  improve=1.6761900, (0 missing)
##       RaceEthnicity       splits as  L-RL-R, improve=1.4829790, (0 missing)
##       MCA.R               &lt; 1.5        to the right, improve=1.0430580, (0 missing)
##       avg.wages.pct.state &lt; 0.6827466  to the left,  improve=0.8878128, (0 missing)
##   Surrogate splits:
##       avg.wages.pct.state                &lt; 0.7056402  to the left,  agree=0.909, adj=0.500, (0 split)
##       LimitedEnglishProficiencyIndicator splits as  LR, agree=0.833, adj=0.083, (0 split)
##       cte.achievement                    splits as  LLR, agree=0.833, adj=0.083, (0 split)
##       MCA.R                              &lt; 1.5        to the right, agree=0.833, adj=0.083, (0 split)
## 
## Node number 8202: 115 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.3130435  P(node) =0.004695027
##     class counts:    36    79
##    probabilities: 0.313 0.687 
##   left son=16404 (23 obs) right son=16405 (92 obs)
##   Primary splits:
##       avg.cte.intensity       &lt; 0.9844549  to the left,  improve=1.5695650, (0 missing)
##       avg.unemp.rate          &lt; 6          to the right, improve=0.9391304, (0 missing)
##       MCA.M                   &lt; 1.5        to the right, improve=0.9063804, (1 missing)
##       economic.status         splits as  RL, improve=0.6045943, (0 missing)
##       total.cte.courses.taken &lt; 11.5       to the left,  improve=0.4657206, (0 missing)
##   Surrogate splits:
##       avg.unemp.rate &lt; 6.833333   to the right, agree=0.817, adj=0.087, (0 split)
## 
## Node number 8203: 7 observations
##   predicted class=No meaningful emp SW  expected loss=0  P(node) =0.0002857843
##     class counts:     0     7
##    probabilities: 0.000 1.000 
## 
## Node number 8204: 16 observations
##   predicted class=Meaningful emp SW     expected loss=0.4375  P(node) =0.0006532212
##     class counts:     9     7
##    probabilities: 0.562 0.438 
## 
## Node number 8205: 7 observations
##   predicted class=No meaningful emp SW  expected loss=0.1428571  P(node) =0.0002857843
##     class counts:     1     6
##    probabilities: 0.143 0.857 
## 
## Node number 8208: 236 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.3940678  P(node) =0.009635013
##     class counts:    93   143
##    probabilities: 0.394 0.606 
##   left son=16416 (196 obs) right son=16417 (40 obs)
##   Primary splits:
##       avg.wages.pct.state &lt; 0.6808064  to the right, improve=2.7533900, (0 missing)
##       avg.cte.intensity   &lt; 1.786689   to the right, improve=1.9337120, (1 missing)
##       economic.status     splits as  LR, improve=1.6070460, (0 missing)
##       avg.unemp.rate      &lt; 5.316667   to the right, improve=1.5899440, (0 missing)
##       MCA.M               &lt; 2.5        to the left,  improve=0.7726595, (22 missing)
## 
## Node number 8209: 33 observations
##   predicted class=No meaningful emp SW  expected loss=0.1515152  P(node) =0.001347269
##     class counts:     5    28
##    probabilities: 0.152 0.848 
## 
## Node number 8224: 48 observations,    complexity param=0.0003375165
##   predicted class=Meaningful emp SW     expected loss=0.4583333  P(node) =0.001959664
##     class counts:    26    22
##    probabilities: 0.542 0.458 
##   left son=16448 (25 obs) right son=16449 (23 obs)
##   Primary splits:
##       economic.status   splits as  RL, improve=1.0089860, (0 missing)
##       MCA.M             &lt; 1.5        to the left,  improve=0.6899813, (1 missing)
##       avg.cte.intensity &lt; 0.0679547  to the left,  improve=0.5333333, (0 missing)
##       avg.unemp.rate    &lt; 5.583333   to the right, improve=0.5000000, (0 missing)
##       cte.achievement   splits as  RLR, improve=0.3461538, (0 missing)
##   Surrogate splits:
##       ps.grad.InstitutionSector &lt; 4.5        to the right, agree=0.625, adj=0.217, (0 split)
##       avg.wages.pct.state       &lt; 0.7097774  to the left,  agree=0.625, adj=0.217, (0 split)
##       total.cte.courses.taken   &lt; 14.5       to the left,  agree=0.583, adj=0.130, (0 split)
##       Gender                    splits as  LR, agree=0.562, adj=0.087, (0 split)
##       avg.cte.intensity         &lt; -0.1878483 to the left,  agree=0.562, adj=0.087, (0 split)
## 
## Node number 8225: 9 observations
##   predicted class=No meaningful emp SW  expected loss=0.3333333  P(node) =0.0003674369
##     class counts:     3     6
##    probabilities: 0.333 0.667 
## 
## Node number 8232: 14 observations
##   predicted class=Meaningful emp SW     expected loss=0.3571429  P(node) =0.0005715685
##     class counts:     9     5
##    probabilities: 0.643 0.357 
## 
## Node number 8233: 230 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.3086957  P(node) =0.009390055
##     class counts:    71   159
##    probabilities: 0.309 0.691 
##   left son=16466 (201 obs) right son=16467 (29 obs)
##   Primary splits:
##       MCA.M                     &lt; 2.5        to the left,  improve=2.0911810, (23 missing)
##       cte.achievement           splits as  LRR, improve=1.1004160, (0 missing)
##       MCA.R                     &lt; 1.5        to the left,  improve=1.0370390, (11 missing)
##       avg.cte.intensity         &lt; -2.780223  to the right, improve=0.9869228, (0 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the right, improve=0.6382987, (0 missing)
## 
## Node number 8240: 147 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.3061224  P(node) =0.00600147
##     class counts:    45   102
##    probabilities: 0.306 0.694 
##   left son=16480 (27 obs) right son=16481 (120 obs)
##   Primary splits:
##       avg.wages.pct.state     &lt; 0.6770354  to the left,  improve=2.034165, (0 missing)
##       total.cte.courses.taken &lt; 6.5        to the right, improve=1.610762, (0 missing)
##       avg.cte.intensity       &lt; 2.730983   to the left,  improve=1.234694, (0 missing)
##       avg.unemp.rate          &lt; 3.533333   to the right, improve=1.166977, (0 missing)
##       cte.achievement         splits as  LRR, improve=1.115771, (0 missing)
## 
## Node number 8241: 562 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2224199  P(node) =0.02294439
##     class counts:   125   437
##    probabilities: 0.222 0.778 
##   left son=16482 (502 obs) right son=16483 (60 obs)
##   Primary splits:
##       MCA.R                     &lt; 3.5        to the left,  improve=1.607778, (26 missing)
##       avg.unemp.rate            &lt; 4.766667   to the right, improve=1.600448, (0 missing)
##       avg.wages.pct.state       &lt; 0.7016864  to the left,  improve=1.520356, (0 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the right, improve=1.450839, (0 missing)
##       avg.cte.intensity         &lt; 1.060473   to the left,  improve=1.135898, (5 missing)
## 
## Node number 16392: 35 observations,    complexity param=0.0003375165
##   predicted class=Meaningful emp SW     expected loss=0.3714286  P(node) =0.001428921
##     class counts:    22    13
##    probabilities: 0.629 0.371 
##   left son=32784 (28 obs) right son=32785 (7 obs)
##   Primary splits:
##       avg.wages.pct.state       &lt; 0.6802421  to the right, improve=2.0571430, (0 missing)
##       total.cte.courses.taken   &lt; 14         to the right, improve=1.6420020, (0 missing)
##       avg.cte.intensity         &lt; 0.4878806  to the right, improve=0.9744361, (0 missing)
##       avg.unemp.rate            &lt; 5.333333   to the right, improve=0.9142857, (0 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the right, improve=0.8214896, (0 missing)
##   Surrogate splits:
##       total.cte.courses.taken &lt; 10.5       to the right, agree=0.886, adj=0.429, (0 split)
##       avg.cte.intensity       &lt; -0.1197827 to the right, agree=0.857, adj=0.286, (0 split)
## 
## Node number 16393: 30 observations
##   predicted class=No meaningful emp SW  expected loss=0.3333333  P(node) =0.00122479
##     class counts:    10    20
##    probabilities: 0.333 0.667 
## 
## Node number 16394: 54 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.3888889  P(node) =0.002204622
##     class counts:    21    33
##    probabilities: 0.389 0.611 
##   left son=32788 (20 obs) right son=32789 (34 obs)
##   Primary splits:
##       RaceEthnicity     splits as  L-RL-R, improve=1.649020, (0 missing)
##       MCA.R             &lt; 2.5        to the left,  improve=1.313230, (0 missing)
##       MCA.M             &lt; 1.5        to the left,  improve=1.184637, (0 missing)
##       avg.cte.intensity &lt; 0.2264033  to the left,  improve=1.166667, (0 missing)
##       Gender            splits as  LR, improve=1.107268, (0 missing)
##   Surrogate splits:
##       cte.achievement   splits as  RL-, agree=0.685, adj=0.15, (0 split)
##       avg.cte.intensity &lt; 2.180044   to the right, agree=0.648, adj=0.05, (0 split)
##       avg.unemp.rate    &lt; 4.55       to the left,  agree=0.648, adj=0.05, (0 split)
## 
## Node number 16395: 12 observations
##   predicted class=No meaningful emp SW  expected loss=0.08333333  P(node) =0.0004899159
##     class counts:     1    11
##    probabilities: 0.083 0.917 
## 
## Node number 16404: 23 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.4782609  P(node) =0.0009390055
##     class counts:    11    12
##    probabilities: 0.478 0.522 
##   left son=32808 (8 obs) right son=32809 (15 obs)
##   Primary splits:
##       economic.status         splits as  RL, improve=3.8615940, (0 missing)
##       total.cte.courses.taken &lt; 11.5       to the left,  improve=3.6628760, (0 missing)
##       avg.cte.intensity       &lt; 0.6683904  to the right, improve=0.6211180, (0 missing)
##       MCA.R                   &lt; 2.5        to the right, improve=0.6211180, (0 missing)
##       MCA.S                   &lt; 2.5        to the right, improve=0.2615942, (0 missing)
##   Surrogate splits:
##       cte.achievement         splits as  RL-, agree=0.739, adj=0.250, (0 split)
##       total.cte.courses.taken &lt; 10.5       to the left,  agree=0.739, adj=0.250, (0 split)
##       avg.cte.intensity       &lt; 0.2517296  to the left,  agree=0.739, adj=0.250, (0 split)
##       MCA.R                   &lt; 3.5        to the right, agree=0.739, adj=0.250, (0 split)
##       Gender                  splits as  LR, agree=0.696, adj=0.125, (0 split)
## 
## Node number 16405: 92 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2717391  P(node) =0.003756022
##     class counts:    25    67
##    probabilities: 0.272 0.728 
##   left son=32810 (27 obs) right son=32811 (65 obs)
##   Primary splits:
##       avg.wages.pct.state     &lt; 0.7174488  to the left,  improve=0.7435278, (0 missing)
##       avg.unemp.rate          &lt; 5.05       to the left,  improve=0.6142447, (0 missing)
##       MCA.M                   &lt; 1.5        to the right, improve=0.5698587, (1 missing)
##       MCA.R                   &lt; 2.5        to the left,  improve=0.4851371, (2 missing)
##       total.cte.courses.taken &lt; 12.5       to the right, improve=0.4678102, (0 missing)
##   Surrogate splits:
##       avg.cte.intensity &lt; 2.288059   to the right, agree=0.924, adj=0.741, (0 split)
##       avg.unemp.rate    &lt; 6          to the right, agree=0.924, adj=0.741, (0 split)
## 
## Node number 16416: 196 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.4285714  P(node) =0.00800196
##     class counts:    84   112
##    probabilities: 0.429 0.571 
##   left son=32832 (78 obs) right son=32833 (118 obs)
##   Primary splits:
##       economic.status     splits as  LR, improve=2.441547, (0 missing)
##       avg.wages.pct.state &lt; 0.6973008  to the left,  improve=1.684211, (0 missing)
##       avg.cte.intensity   &lt; 1.786689   to the right, improve=1.528067, (1 missing)
##       MCA.R               &lt; 1.5        to the left,  improve=1.372440, (20 missing)
##       MCA.M               &lt; 2.5        to the left,  improve=1.152424, (17 missing)
##   Surrogate splits:
##       RaceEthnicity             splits as  -RRR-L, agree=0.689, adj=0.218, (0 split)
##       avg.unemp.rate            &lt; 5.5        to the right, agree=0.638, adj=0.090, (0 split)
##       avg.wages.pct.state       &lt; 0.7570844  to the right, agree=0.633, adj=0.077, (0 split)
##       ps.grad.InstitutionSector &lt; 4.5        to the left,  agree=0.617, adj=0.038, (0 split)
## 
## Node number 16417: 40 observations
##   predicted class=No meaningful emp SW  expected loss=0.225  P(node) =0.001633053
##     class counts:     9    31
##    probabilities: 0.225 0.775 
## 
## Node number 16448: 25 observations
##   predicted class=Meaningful emp SW     expected loss=0.36  P(node) =0.001020658
##     class counts:    16     9
##    probabilities: 0.640 0.360 
## 
## Node number 16449: 23 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.4347826  P(node) =0.0009390055
##     class counts:    10    13
##    probabilities: 0.435 0.565 
##   left son=32898 (14 obs) right son=32899 (9 obs)
##   Primary splits:
##       MCA.M                   &lt; 1.5        to the left,  improve=1.0519480, (1 missing)
##       avg.wages.pct.state     &lt; 0.669059   to the left,  improve=0.8876812, (0 missing)
##       avg.unemp.rate          &lt; 4.583333   to the right, improve=0.8376812, (0 missing)
##       total.cte.courses.taken &lt; 8          to the right, improve=0.4313320, (0 missing)
##       avg.cte.intensity       &lt; -0.1062736 to the left,  improve=0.2134387, (0 missing)
##   Surrogate splits:
##       Gender              splits as  LR, agree=0.727, adj=0.25, (1 split)
##       avg.wages.pct.state &lt; 0.753136   to the left,  agree=0.727, adj=0.25, (0 split)
## 
## Node number 16466: 201 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.3333333  P(node) =0.008206091
##     class counts:    67   134
##    probabilities: 0.333 0.667 
##   left son=32932 (28 obs) right son=32933 (173 obs)
##   Primary splits:
##       MCA.S             &lt; 2.5        to the right, improve=2.0571430, (61 missing)
##       avg.cte.intensity &lt; -2.178911  to the left,  improve=1.6075550, (0 missing)
##       cte.achievement   splits as  LRR, improve=1.3389540, (0 missing)
##       edr               splits as  -RL, improve=1.1423240, (0 missing)
##       avg.unemp.rate    &lt; 5.6        to the left,  improve=0.9984793, (0 missing)
##   Surrogate splits:
##       RaceEthnicity     splits as  RLRR-R, agree=0.807, adj=0.036, (61 split)
##       avg.cte.intensity &lt; -0.645287  to the right, agree=0.807, adj=0.036, (0 split)
## 
## Node number 16467: 29 observations
##   predicted class=No meaningful emp SW  expected loss=0.137931  P(node) =0.001183963
##     class counts:     4    25
##    probabilities: 0.138 0.862 
## 
## Node number 16480: 27 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.4814815  P(node) =0.001102311
##     class counts:    13    14
##    probabilities: 0.481 0.519 
##   left son=32960 (14 obs) right son=32961 (13 obs)
##   Primary splits:
##       economic.status     splits as  RL, improve=3.1518110, (0 missing)
##       RaceEthnicity       splits as  ---L-R, improve=1.0243390, (0 missing)
##       avg.cte.intensity   &lt; 2.204746   to the right, improve=0.9481481, (0 missing)
##       avg.wages.pct.state &lt; 0.6703579  to the right, improve=0.5155724, (0 missing)
##       Gender              splits as  LR, improve=0.4461874, (0 missing)
##   Surrogate splits:
##       RaceEthnicity           splits as  ---L-R, agree=0.741, adj=0.462, (0 split)
##       total.cte.courses.taken &lt; 7.5        to the left,  agree=0.667, adj=0.308, (0 split)
##       Gender                  splits as  LR, agree=0.630, adj=0.231, (0 split)
##       avg.cte.intensity       &lt; 1.851514   to the left,  agree=0.593, adj=0.154, (0 split)
##       pseo.participant        splits as  LR, agree=0.556, adj=0.077, (0 split)
## 
## Node number 16481: 120 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2666667  P(node) =0.004899159
##     class counts:    32    88
##    probabilities: 0.267 0.733 
##   left son=32962 (33 obs) right son=32963 (87 obs)
##   Primary splits:
##       economic.status         splits as  LR, improve=3.213375, (0 missing)
##       total.cte.courses.taken &lt; 6.5        to the right, improve=1.607974, (0 missing)
##       MCA.M                   &lt; 2.5        to the right, improve=1.538223, (6 missing)
##       avg.cte.intensity       &lt; 0.7602472  to the left,  improve=1.107309, (0 missing)
##       RaceEthnicity           splits as  ---R-L, improve=1.067280, (0 missing)
##   Surrogate splits:
##       RaceEthnicity       splits as  ---R-L, agree=0.767, adj=0.152, (0 split)
##       avg.cte.intensity   &lt; 0.5741735  to the left,  agree=0.750, adj=0.091, (0 split)
##       avg.wages.pct.state &lt; 0.762396   to the right, agree=0.733, adj=0.030, (0 split)
## 
## Node number 16482: 502 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2350598  P(node) =0.02049482
##     class counts:   118   384
##    probabilities: 0.235 0.765 
##   left son=32964 (391 obs) right son=32965 (111 obs)
##   Primary splits:
##       avg.unemp.rate            &lt; 4.766667   to the right, improve=1.9121320, (0 missing)
##       avg.wages.pct.state       &lt; 0.7016864  to the left,  improve=1.6111220, (0 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the right, improve=1.4372140, (0 missing)
##       avg.cte.intensity         &lt; 1.060473   to the left,  improve=1.2905380, (5 missing)
##       total.cte.courses.taken   &lt; 20.5       to the right, improve=0.8839434, (0 missing)
##   Surrogate splits:
##       avg.wages.pct.state &lt; 0.7209658  to the left,  agree=0.829, adj=0.225, (0 split)
## 
## Node number 16483: 60 observations
##   predicted class=No meaningful emp SW  expected loss=0.1166667  P(node) =0.002449579
##     class counts:     7    53
##    probabilities: 0.117 0.883 
## 
## Node number 32784: 28 observations,    complexity param=0.0003375165
##   predicted class=Meaningful emp SW     expected loss=0.2857143  P(node) =0.001143137
##     class counts:    20     8
##    probabilities: 0.714 0.286 
##   left son=65568 (19 obs) right son=65569 (9 obs)
##   Primary splits:
##       ps.grad.InstitutionSector &lt; 4.5        to the right, improve=1.9314950, (0 missing)
##       total.cte.courses.taken   &lt; 14         to the right, improve=0.8086884, (0 missing)
##       MCA.S                     &lt; 1.5        to the right, improve=0.7259259, (1 missing)
##       avg.unemp.rate            &lt; 4.3        to the right, improve=0.3809524, (0 missing)
##       MCA.M                     &lt; 1.5        to the right, improve=0.2285714, (0 missing)
##   Surrogate splits:
##       cte.achievement   splits as  LLR, agree=0.714, adj=0.111, (0 split)
##       avg.cte.intensity &lt; 0.4682174  to the right, agree=0.714, adj=0.111, (0 split)
## 
## Node number 32785: 7 observations
##   predicted class=No meaningful emp SW  expected loss=0.2857143  P(node) =0.0002857843
##     class counts:     2     5
##    probabilities: 0.286 0.714 
## 
## Node number 32788: 20 observations,    complexity param=0.0003375165
##   predicted class=Meaningful emp SW     expected loss=0.45  P(node) =0.0008165265
##     class counts:    11     9
##    probabilities: 0.550 0.450 
##   left son=65576 (12 obs) right son=65577 (8 obs)
##   Primary splits:
##       avg.cte.intensity       &lt; 1.476847   to the left,  improve=0.8166667, (0 missing)
##       avg.unemp.rate          &lt; 4.55       to the left,  improve=0.5813187, (0 missing)
##       avg.wages.pct.state     &lt; 0.7025719  to the left,  improve=0.4454545, (0 missing)
##       total.cte.courses.taken &lt; 11.5       to the right, improve=0.1500000, (0 missing)
##   Surrogate splits:
##       Gender                  splits as  RL, agree=0.80, adj=0.500, (0 split)
##       total.cte.courses.taken &lt; 11.5       to the left,  agree=0.70, adj=0.250, (0 split)
##       pseo.participant        splits as  LR, agree=0.65, adj=0.125, (0 split)
## 
## Node number 32789: 34 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2941176  P(node) =0.001388095
##     class counts:    10    24
##    probabilities: 0.294 0.706 
##   left son=65578 (13 obs) right son=65579 (21 obs)
##   Primary splits:
##       Gender              splits as  LR, improve=2.5132510, (0 missing)
##       avg.cte.intensity   &lt; -0.1390159 to the left,  improve=1.3557420, (0 missing)
##       avg.unemp.rate      &lt; 6.95       to the right, improve=1.3557420, (0 missing)
##       avg.wages.pct.state &lt; 0.6827466  to the left,  improve=1.3557420, (0 missing)
##       MCA.S               &lt; 1.5        to the right, improve=0.2722222, (10 missing)
##   Surrogate splits:
##       total.cte.courses.taken &lt; 10.5       to the left,  agree=0.735, adj=0.308, (0 split)
##       MCA.R                   &lt; 3.5        to the right, agree=0.735, adj=0.308, (0 split)
##       avg.cte.intensity       &lt; -0.9600376 to the left,  agree=0.676, adj=0.154, (0 split)
##       pseo.participant        splits as  RL, agree=0.647, adj=0.077, (0 split)
##       avg.unemp.rate          &lt; 5.083333   to the right, agree=0.647, adj=0.077, (0 split)
## 
## Node number 32808: 8 observations
##   predicted class=Meaningful emp SW     expected loss=0.125  P(node) =0.0003266106
##     class counts:     7     1
##    probabilities: 0.875 0.125 
## 
## Node number 32809: 15 observations
##   predicted class=No meaningful emp SW  expected loss=0.2666667  P(node) =0.0006123949
##     class counts:     4    11
##    probabilities: 0.267 0.733 
## 
## Node number 32810: 27 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.3703704  P(node) =0.001102311
##     class counts:    10    17
##    probabilities: 0.370 0.630 
##   left son=65620 (8 obs) right son=65621 (19 obs)
##   Primary splits:
##       avg.cte.intensity       &lt; 2.396448   to the left,  improve=1.4741720, (0 missing)
##       economic.status         splits as  LR, improve=0.6259259, (0 missing)
##       MCA.M                   &lt; 2.5        to the left,  improve=0.5925926, (0 missing)
##       total.cte.courses.taken &lt; 15.5       to the right, improve=0.4167684, (0 missing)
##       MCA.R                   &lt; 2.5        to the left,  improve=0.3820663, (0 missing)
##   Surrogate splits:
##       Gender          splits as  LR,  agree=0.778, adj=0.250, (0 split)
##       cte.achievement splits as  RL-, agree=0.741, adj=0.125, (0 split)
## 
## Node number 32811: 65 observations
##   predicted class=No meaningful emp SW  expected loss=0.2307692  P(node) =0.002653711
##     class counts:    15    50
##    probabilities: 0.231 0.769 
## 
## Node number 32832: 78 observations,    complexity param=0.0003375165
##   predicted class=Meaningful emp SW     expected loss=0.474359  P(node) =0.003184453
##     class counts:    41    37
##    probabilities: 0.526 0.474 
##   left son=65664 (21 obs) right son=65665 (57 obs)
##   Primary splits:
##       avg.wages.pct.state       &lt; 0.7025719  to the left,  improve=3.208213, (0 missing)
##       total.cte.courses.taken   &lt; 4.5        to the right, improve=2.155012, (0 missing)
##       avg.cte.intensity         &lt; 1.698247   to the right, improve=1.726848, (0 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the right, improve=1.373626, (0 missing)
##       pseo.participant          splits as  RL, improve=1.293571, (0 missing)
##   Surrogate splits:
##       avg.unemp.rate    &lt; 4.333333   to the left,  agree=0.821, adj=0.333, (0 split)
##       avg.cte.intensity &lt; 1.786689   to the right, agree=0.756, adj=0.095, (0 split)
## 
## Node number 32833: 118 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.3644068  P(node) =0.004817506
##     class counts:    43    75
##    probabilities: 0.364 0.636 
##   left son=65666 (93 obs) right son=65667 (25 obs)
##   Primary splits:
##       MCA.M                     &lt; 1.5        to the left,  improve=4.2244560, (16 missing)
##       MCA.S                     &lt; 1.5        to the left,  improve=2.3638580, (37 missing)
##       MCA.R                     &lt; 1.5        to the left,  improve=1.6626040, (13 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the left,  improve=1.2805140, (0 missing)
##       avg.cte.intensity         &lt; 0.1418536  to the left,  improve=0.9436386, (1 missing)
##   Surrogate splits:
##       RaceEthnicity  splits as  -RLL-L, agree=0.765, adj=0.04, (16 split)
##       avg.unemp.rate &lt; 5.5        to the left,  agree=0.765, adj=0.04, (0 split)
## 
## Node number 32898: 14 observations
##   predicted class=Meaningful emp SW     expected loss=0.4285714  P(node) =0.0005715685
##     class counts:     8     6
##    probabilities: 0.571 0.429 
## 
## Node number 32899: 9 observations
##   predicted class=No meaningful emp SW  expected loss=0.2222222  P(node) =0.0003674369
##     class counts:     2     7
##    probabilities: 0.222 0.778 
## 
## Node number 32932: 28 observations,    complexity param=0.0003375165
##   predicted class=Meaningful emp SW     expected loss=0.5  P(node) =0.001143137
##     class counts:    14    14
##    probabilities: 0.500 0.500 
##   left son=65864 (20 obs) right son=65865 (8 obs)
##   Primary splits:
##       cte.achievement     splits as  LR-, improve=1.400000, (0 missing)
##       avg.cte.intensity   &lt; -1.317662  to the left,  improve=1.244444, (0 missing)
##       avg.unemp.rate      &lt; 5.466667   to the left,  improve=1.244444, (0 missing)
##       avg.wages.pct.state &lt; 0.6546186  to the right, improve=0.350000, (0 missing)
##       Gender              splits as  LR, improve=0.350000, (0 missing)
##   Surrogate splits:
##       RaceEthnicity splits as  RLLR-L, agree=0.821, adj=0.375, (0 split)
##       edr           splits as  -RL,    agree=0.786, adj=0.250, (0 split)
## 
## Node number 32933: 173 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.3063584  P(node) =0.007062954
##     class counts:    53   120
##    probabilities: 0.306 0.694 
##   left son=65866 (50 obs) right son=65867 (123 obs)
##   Primary splits:
##       avg.wages.pct.state       &lt; 0.6546699  to the left,  improve=1.2333290, (0 missing)
##       avg.cte.intensity         &lt; -2.780223  to the right, improve=1.0905460, (0 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the right, improve=1.0875330, (0 missing)
##       MCA.R                     &lt; 1.5        to the left,  improve=1.0629360, (11 missing)
##       Gender                    splits as  RL, improve=0.9683141, (0 missing)
##   Surrogate splits:
##       edr               splits as  -RL, agree=0.757, adj=0.16, (0 split)
##       avg.unemp.rate    &lt; 5.25       to the left,  agree=0.734, adj=0.08, (0 split)
##       avg.cte.intensity &lt; -1.543961  to the right, agree=0.723, adj=0.04, (0 split)
##       RaceEthnicity     splits as  RLRR-R, agree=0.717, adj=0.02, (0 split)
## 
## Node number 32960: 14 observations
##   predicted class=Meaningful emp SW     expected loss=0.2857143  P(node) =0.0005715685
##     class counts:    10     4
##    probabilities: 0.714 0.286 
## 
## Node number 32961: 13 observations
##   predicted class=No meaningful emp SW  expected loss=0.2307692  P(node) =0.0005307422
##     class counts:     3    10
##    probabilities: 0.231 0.769 
## 
## Node number 32962: 33 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.4545455  P(node) =0.001347269
##     class counts:    15    18
##    probabilities: 0.455 0.545 
##   left son=65924 (12 obs) right son=65925 (21 obs)
##   Primary splits:
##       cte.achievement         splits as  RLL, improve=3.2922080, (0 missing)
##       avg.unemp.rate          &lt; 3.583333   to the right, improve=2.5989300, (0 missing)
##       avg.cte.intensity       &lt; 3.141087   to the right, improve=1.7288540, (0 missing)
##       avg.wages.pct.state     &lt; 0.7600749  to the left,  improve=0.8836364, (0 missing)
##       total.cte.courses.taken &lt; 5.5        to the left,  improve=0.6136364, (0 missing)
##   Surrogate splits:
##       avg.cte.intensity       &lt; 3.090411   to the right, agree=0.909, adj=0.750, (0 split)
##       avg.wages.pct.state     &lt; 0.732997   to the left,  agree=0.818, adj=0.500, (0 split)
##       avg.unemp.rate          &lt; 3.916667   to the right, agree=0.788, adj=0.417, (0 split)
##       total.cte.courses.taken &lt; 5.5        to the left,  agree=0.697, adj=0.167, (0 split)
##       pseo.participant        splits as  RL, agree=0.667, adj=0.083, (0 split)
## 
## Node number 32963: 87 observations
##   predicted class=No meaningful emp SW  expected loss=0.1954023  P(node) =0.00355189
##     class counts:    17    70
##    probabilities: 0.195 0.805 
## 
## Node number 32964: 391 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.258312  P(node) =0.01596309
##     class counts:   101   290
##    probabilities: 0.258 0.742 
##   left son=65928 (304 obs) right son=65929 (87 obs)
##   Primary splits:
##       ps.grad.InstitutionSector &lt; 4.5        to the right, improve=2.122772, (0 missing)
##       avg.unemp.rate            &lt; 5.216667   to the left,  improve=1.806942, (0 missing)
##       avg.wages.pct.state       &lt; 0.6628857  to the right, improve=1.432912, (0 missing)
##       avg.cte.intensity         &lt; 1.027358   to the left,  improve=1.370463, (5 missing)
##       cte.achievement           splits as  RLR, improve=0.682657, (0 missing)
##   Surrogate splits:
##       avg.wages.pct.state &lt; 0.7576334  to the left,  agree=0.783, adj=0.023, (0 split)
## 
## Node number 32965: 111 observations
##   predicted class=No meaningful emp SW  expected loss=0.1531532  P(node) =0.004531722
##     class counts:    17    94
##    probabilities: 0.153 0.847 
## 
## Node number 65568: 19 observations
##   predicted class=Meaningful emp SW     expected loss=0.1578947  P(node) =0.0007757002
##     class counts:    16     3
##    probabilities: 0.842 0.158 
## 
## Node number 65569: 9 observations
##   predicted class=No meaningful emp SW  expected loss=0.4444444  P(node) =0.0003674369
##     class counts:     4     5
##    probabilities: 0.444 0.556 
## 
## Node number 65576: 12 observations
##   predicted class=Meaningful emp SW     expected loss=0.3333333  P(node) =0.0004899159
##     class counts:     8     4
##    probabilities: 0.667 0.333 
## 
## Node number 65577: 8 observations
##   predicted class=No meaningful emp SW  expected loss=0.375  P(node) =0.0003266106
##     class counts:     3     5
##    probabilities: 0.375 0.625 
## 
## Node number 65578: 13 observations
##   predicted class=Meaningful emp SW     expected loss=0.4615385  P(node) =0.0005307422
##     class counts:     7     6
##    probabilities: 0.538 0.462 
## 
## Node number 65579: 21 observations
##   predicted class=No meaningful emp SW  expected loss=0.1428571  P(node) =0.0008573528
##     class counts:     3    18
##    probabilities: 0.143 0.857 
## 
## Node number 65620: 8 observations
##   predicted class=Meaningful emp SW     expected loss=0.375  P(node) =0.0003266106
##     class counts:     5     3
##    probabilities: 0.625 0.375 
## 
## Node number 65621: 19 observations
##   predicted class=No meaningful emp SW  expected loss=0.2631579  P(node) =0.0007757002
##     class counts:     5    14
##    probabilities: 0.263 0.737 
## 
## Node number 65664: 21 observations
##   predicted class=Meaningful emp SW     expected loss=0.2380952  P(node) =0.0008573528
##     class counts:    16     5
##    probabilities: 0.762 0.238 
## 
## Node number 65665: 57 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.4385965  P(node) =0.002327101
##     class counts:    25    32
##    probabilities: 0.439 0.561 
##   left son=131330 (47 obs) right son=131331 (10 obs)
##   Primary splits:
##       total.cte.courses.taken &lt; 4.5        to the right, improve=2.7808140, (0 missing)
##       MCA.S                   &lt; 1.5        to the right, improve=2.0236930, (16 missing)
##       avg.unemp.rate          &lt; 5.35       to the right, improve=1.1228070, (0 missing)
##       avg.wages.pct.state     &lt; 0.7942335  to the left,  improve=0.7500173, (0 missing)
##       avg.cte.intensity       &lt; 1.429456   to the right, improve=0.6467061, (0 missing)
## 
## Node number 65666: 93 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.4301075  P(node) =0.003796848
##     class counts:    40    53
##    probabilities: 0.430 0.570 
##   left son=131332 (56 obs) right son=131333 (37 obs)
##   Primary splits:
##       MCA.S                     &lt; 1.5        to the left,  improve=2.222222, (33 missing)
##       avg.wages.pct.state       &lt; 0.6930351  to the left,  improve=1.222627, (0 missing)
##       MCA.R                     &lt; 1.5        to the left,  improve=1.193789, (12 missing)
##       total.cte.courses.taken   &lt; 6.5        to the left,  improve=1.075269, (0 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the left,  improve=1.061464, (0 missing)
##   Surrogate splits:
##       RaceEthnicity           splits as  --LL-R, agree=0.667, adj=0.167, (32 split)
##       MCA.R                   &lt; 2.5        to the left,  agree=0.650, adj=0.125, (1 split)
##       total.cte.courses.taken &lt; 6.5        to the left,  agree=0.633, adj=0.083, (0 split)
##       Gender                  splits as  LR, agree=0.617, adj=0.042, (0 split)
##       pseo.participant        splits as  LR, agree=0.617, adj=0.042, (0 split)
## 
## Node number 65667: 25 observations
##   predicted class=No meaningful emp SW  expected loss=0.12  P(node) =0.001020658
##     class counts:     3    22
##    probabilities: 0.120 0.880 
## 
## Node number 65864: 20 observations,    complexity param=0.0003375165
##   predicted class=Meaningful emp SW     expected loss=0.4  P(node) =0.0008165265
##     class counts:    12     8
##    probabilities: 0.600 0.400 
##   left son=131728 (7 obs) right son=131729 (13 obs)
##   Primary splits:
##       avg.cte.intensity         &lt; -1.859838  to the left,  improve=1.42417600, (0 missing)
##       avg.unemp.rate            &lt; 5.666667   to the left,  improve=0.79191920, (0 missing)
##       avg.wages.pct.state       &lt; 0.6594536  to the right, improve=0.79191920, (0 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the right, improve=0.26666670, (0 missing)
##       economic.status           splits as  LR, improve=0.06464646, (0 missing)
##   Surrogate splits:
##       avg.wages.pct.state     &lt; 0.7341548  to the right, agree=0.85, adj=0.571, (0 split)
##       total.cte.courses.taken &lt; 12.5       to the right, agree=0.80, adj=0.429, (0 split)
##       MCA.R                   &lt; 3.5        to the right, agree=0.75, adj=0.286, (0 split)
##       economic.status         splits as  RL, agree=0.70, adj=0.143, (0 split)
##       pseo.participant        splits as  RL, agree=0.70, adj=0.143, (0 split)
## 
## Node number 65865: 8 observations
##   predicted class=No meaningful emp SW  expected loss=0.25  P(node) =0.0003266106
##     class counts:     2     6
##    probabilities: 0.250 0.750 
## 
## Node number 65866: 50 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.4  P(node) =0.002041316
##     class counts:    20    30
##    probabilities: 0.400 0.600 
##   left son=131732 (30 obs) right son=131733 (20 obs)
##   Primary splits:
##       avg.cte.intensity         &lt; -1.231847  to the right, improve=1.5000000, (0 missing)
##       avg.wages.pct.state       &lt; 0.6514301  to the right, improve=1.3426570, (0 missing)
##       MCA.S                     &lt; 1.5        to the left,  improve=0.9224959, (21 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the right, improve=0.6937669, (0 missing)
##       MCA.R                     &lt; 2.5        to the left,  improve=0.6734694, (1 missing)
##   Surrogate splits:
##       avg.wages.pct.state &lt; 0.6500598  to the right, agree=0.72, adj=0.30, (0 split)
##       avg.unemp.rate      &lt; 6.416667   to the left,  agree=0.70, adj=0.25, (0 split)
##       MCA.R               &lt; 3.5        to the left,  agree=0.66, adj=0.15, (0 split)
##       RaceEthnicity       splits as  RL-L-L, agree=0.64, adj=0.10, (0 split)
## 
## Node number 65867: 123 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2682927  P(node) =0.005021638
##     class counts:    33    90
##    probabilities: 0.268 0.732 
##   left son=131734 (46 obs) right son=131735 (77 obs)
##   Primary splits:
##       avg.cte.intensity         &lt; -2.178911  to the left,  improve=2.2237950, (0 missing)
##       RaceEthnicity             splits as  R-LR-L, improve=0.7968846, (0 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the right, improve=0.6223126, (0 missing)
##       Gender                    splits as  RL, improve=0.4792858, (0 missing)
##       MCA.R                     &lt; 1.5        to the left,  improve=0.4720246, (10 missing)
##   Surrogate splits:
##       avg.wages.pct.state &lt; 0.7341548  to the right, agree=0.732, adj=0.283, (0 split)
##       avg.unemp.rate      &lt; 5.316667   to the left,  agree=0.707, adj=0.217, (0 split)
##       edr                 splits as  -RL, agree=0.691, adj=0.174, (0 split)
##       RaceEthnicity       splits as  R-LR-R, agree=0.642, adj=0.043, (0 split)
## 
## Node number 65924: 12 observations
##   predicted class=Meaningful emp SW     expected loss=0.25  P(node) =0.0004899159
##     class counts:     9     3
##    probabilities: 0.750 0.250 
## 
## Node number 65925: 21 observations
##   predicted class=No meaningful emp SW  expected loss=0.2857143  P(node) =0.0008573528
##     class counts:     6    15
##    probabilities: 0.286 0.714 
## 
## Node number 65928: 304 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2861842  P(node) =0.0124112
##     class counts:    87   217
##    probabilities: 0.286 0.714 
##   left son=131856 (48 obs) right son=131857 (256 obs)
##   Primary splits:
##       avg.unemp.rate          &lt; 5.066667   to the left,  improve=2.6101970, (0 missing)
##       avg.cte.intensity       &lt; 1.027358   to the left,  improve=1.8476370, (5 missing)
##       avg.wages.pct.state     &lt; 0.6628857  to the right, improve=1.2277170, (0 missing)
##       MCA.M                   &lt; 2.5        to the right, improve=1.1485930, (14 missing)
##       total.cte.courses.taken &lt; 31         to the left,  improve=0.8704072, (0 missing)
## 
## Node number 65929: 87 observations
##   predicted class=No meaningful emp SW  expected loss=0.1609195  P(node) =0.00355189
##     class counts:    14    73
##    probabilities: 0.161 0.839 
## 
## Node number 131330: 47 observations,    complexity param=0.0003375165
##   predicted class=Meaningful emp SW     expected loss=0.4893617  P(node) =0.001918837
##     class counts:    24    23
##    probabilities: 0.511 0.489 
##   left son=262660 (8 obs) right son=262661 (39 obs)
##   Primary splits:
##       total.cte.courses.taken   &lt; 5.5        to the left,  improve=1.1047460, (0 missing)
##       MCA.S                     &lt; 1.5        to the right, improve=0.9165807, (11 missing)
##       avg.cte.intensity         &lt; 0.1705519  to the right, improve=0.6998880, (0 missing)
##       avg.wages.pct.state       &lt; 0.7942335  to the left,  improve=0.6998880, (0 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the right, improve=0.6206748, (0 missing)
## 
## Node number 131331: 10 observations
##   predicted class=No meaningful emp SW  expected loss=0.1  P(node) =0.0004082632
##     class counts:     1     9
##    probabilities: 0.100 0.900 
## 
## Node number 131332: 56 observations,    complexity param=0.0003375165
##   predicted class=Meaningful emp SW     expected loss=0.4821429  P(node) =0.002286274
##     class counts:    29    27
##    probabilities: 0.518 0.482 
##   left son=262664 (13 obs) right son=262665 (43 obs)
##   Primary splits:
##       RaceEthnicity           splits as  -RRR-L, improve=1.0304750, (0 missing)
##       total.cte.courses.taken &lt; 4.5        to the right, improve=0.9142857, (0 missing)
##       avg.unemp.rate          &lt; 3.8        to the right, improve=0.8622449, (0 missing)
##       avg.wages.pct.state     &lt; 0.7192991  to the right, improve=0.8077640, (0 missing)
##       cte.achievement         splits as  LRR, improve=0.6441276, (0 missing)
##   Surrogate splits:
##       avg.cte.intensity   &lt; -1.341172  to the left,  agree=0.804, adj=0.154, (0 split)
##       avg.wages.pct.state &lt; 0.6829886  to the left,  agree=0.804, adj=0.154, (0 split)
##       avg.unemp.rate      &lt; 5.5        to the right, agree=0.786, adj=0.077, (0 split)
## 
## Node number 131333: 37 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2972973  P(node) =0.001510574
##     class counts:    11    26
##    probabilities: 0.297 0.703 
##   left son=262666 (27 obs) right son=262667 (10 obs)
##   Primary splits:
##       avg.cte.intensity       &lt; 1.073691   to the left,  improve=2.5854700, (1 missing)
##       avg.unemp.rate          &lt; 4.333333   to the left,  improve=1.1261260, (0 missing)
##       total.cte.courses.taken &lt; 7.5        to the left,  improve=1.0668670, (0 missing)
##       avg.wages.pct.state     &lt; 0.7207798  to the left,  improve=0.6060112, (0 missing)
##       RaceEthnicity           splits as  --RR-L, improve=0.4118404, (0 missing)
##   Surrogate splits:
##       avg.wages.pct.state &lt; 0.7207798  to the left,  agree=0.778, adj=0.2, (1 split)
## 
## Node number 131728: 7 observations
##   predicted class=Meaningful emp SW     expected loss=0.1428571  P(node) =0.0002857843
##     class counts:     6     1
##    probabilities: 0.857 0.143 
## 
## Node number 131729: 13 observations
##   predicted class=No meaningful emp SW  expected loss=0.4615385  P(node) =0.0005307422
##     class counts:     6     7
##    probabilities: 0.462 0.538 
## 
## Node number 131732: 30 observations,    complexity param=0.0003375165
##   predicted class=Meaningful emp SW     expected loss=0.5  P(node) =0.00122479
##     class counts:    15    15
##    probabilities: 0.500 0.500 
##   left son=263464 (15 obs) right son=263465 (15 obs)
##   Primary splits:
##       avg.unemp.rate          &lt; 5.95       to the left,  improve=0.60000000, (0 missing)
##       avg.cte.intensity       &lt; -1.087975  to the left,  improve=0.27777780, (0 missing)
##       avg.wages.pct.state     &lt; 0.6532349  to the left,  improve=0.27777780, (0 missing)
##       total.cte.courses.taken &lt; 4.5        to the left,  improve=0.07177033, (0 missing)
##       economic.status         splits as  RL, improve=0.06787330, (0 missing)
##   Surrogate splits:
##       avg.wages.pct.state       &lt; 0.654201   to the right, agree=0.933, adj=0.867, (0 split)
##       avg.cte.intensity         &lt; -0.9382714 to the right, agree=0.833, adj=0.667, (0 split)
##       ps.grad.InstitutionSector &lt; 4.5        to the left,  agree=0.633, adj=0.267, (0 split)
##       RaceEthnicity             splits as  RR-R-L, agree=0.600, adj=0.200, (0 split)
##       total.cte.courses.taken   &lt; 4.5        to the right, agree=0.600, adj=0.200, (0 split)
## 
## Node number 131733: 20 observations
##   predicted class=No meaningful emp SW  expected loss=0.25  P(node) =0.0008165265
##     class counts:     5    15
##    probabilities: 0.250 0.750 
## 
## Node number 131734: 46 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.3913043  P(node) =0.001878011
##     class counts:    18    28
##    probabilities: 0.391 0.609 
##   left son=263468 (35 obs) right son=263469 (11 obs)
##   Primary splits:
##       avg.cte.intensity       &lt; -2.780223  to the right, improve=2.6091470, (0 missing)
##       RaceEthnicity           splits as  R-LR-L, improve=1.3735700, (0 missing)
##       total.cte.courses.taken &lt; 7.5        to the left,  improve=1.1801000, (0 missing)
##       MCA.S                   &lt; 1.5        to the right, improve=0.7324271, (17 missing)
##       Gender                  splits as  RL, improve=0.6956522, (0 missing)
##   Surrogate splits:
##       avg.unemp.rate &lt; 6.25       to the left,  agree=0.804, adj=0.182, (0 split)
## 
## Node number 131735: 77 observations
##   predicted class=No meaningful emp SW  expected loss=0.1948052  P(node) =0.003143627
##     class counts:    15    62
##    probabilities: 0.195 0.805 
## 
## Node number 131856: 48 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.4375  P(node) =0.001959664
##     class counts:    21    27
##    probabilities: 0.438 0.562 
##   left son=263712 (11 obs) right son=263713 (37 obs)
##   Primary splits:
##       cte.achievement   splits as  RLR, improve=2.3964990, (0 missing)
##       economic.status   splits as  RL, improve=2.2054200, (0 missing)
##       avg.cte.intensity &lt; 0.7490779  to the left,  improve=1.2556620, (0 missing)
##       Gender            splits as  LR, improve=0.8027778, (0 missing)
##       pseo.participant  splits as  LR, improve=0.7748771, (0 missing)
##   Surrogate splits:
##       total.cte.courses.taken            &lt; 4.5        to the left,  agree=0.854, adj=0.364, (0 split)
##       LimitedEnglishProficiencyIndicator splits as  RL, agree=0.792, adj=0.091, (0 split)
## 
## Node number 131857: 256 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2578125  P(node) =0.01045154
##     class counts:    66   190
##    probabilities: 0.258 0.742 
##   left son=263714 (27 obs) right son=263715 (229 obs)
##   Primary splits:
##       MCA.M                   &lt; 2.5        to the right, improve=1.9917700, (13 missing)
##       avg.cte.intensity       &lt; 1.027358   to the left,  improve=1.6666720, (5 missing)
##       economic.status         splits as  LR, improve=0.9879870, (0 missing)
##       pseo.participant        splits as  RL, improve=0.9306229, (0 missing)
##       total.cte.courses.taken &lt; 4.5        to the right, improve=0.6403641, (0 missing)
## 
## Node number 262660: 8 observations
##   predicted class=Meaningful emp SW     expected loss=0.25  P(node) =0.0003266106
##     class counts:     6     2
##    probabilities: 0.750 0.250 
## 
## Node number 262661: 39 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.4615385  P(node) =0.001592227
##     class counts:    18    21
##    probabilities: 0.462 0.538 
##   left son=525322 (9 obs) right son=525323 (30 obs)
##   Primary splits:
##       total.cte.courses.taken   &lt; 8.5        to the right, improve=0.9846154, (0 missing)
##       avg.cte.intensity         &lt; 0.1705519  to the right, improve=0.9007444, (0 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the right, improve=0.7018568, (0 missing)
##       avg.wages.pct.state       &lt; 0.7942335  to the left,  improve=0.5274725, (0 missing)
##       MCA.R                     &lt; 1.5        to the left,  improve=0.4801587, (3 missing)
##   Surrogate splits:
##       avg.cte.intensity &lt; 1.7291     to the right, agree=0.795, adj=0.111, (0 split)
## 
## Node number 262664: 13 observations
##   predicted class=Meaningful emp SW     expected loss=0.3076923  P(node) =0.0005307422
##     class counts:     9     4
##    probabilities: 0.692 0.308 
## 
## Node number 262665: 43 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.4651163  P(node) =0.001755532
##     class counts:    20    23
##    probabilities: 0.465 0.535 
##   left son=525330 (33 obs) right son=525331 (10 obs)
##   Primary splits:
##       total.cte.courses.taken &lt; 4.5        to the right, improve=1.8317120, (0 missing)
##       avg.cte.intensity       &lt; -0.2722989 to the right, improve=1.1870160, (0 missing)
##       avg.wages.pct.state     &lt; 0.7039552  to the right, improve=0.5781445, (0 missing)
##       avg.unemp.rate          &lt; 3.8        to the right, improve=0.5382060, (0 missing)
##       cte.achievement         splits as  LRR, improve=0.5064599, (0 missing)
##   Surrogate splits:
##       avg.cte.intensity &lt; -1.04745   to the right, agree=0.837, adj=0.3, (0 split)
## 
## Node number 262666: 27 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.4074074  P(node) =0.001102311
##     class counts:    11    16
##    probabilities: 0.407 0.593 
##   left son=525332 (7 obs) right son=525333 (20 obs)
##   Primary splits:
##       avg.cte.intensity       &lt; 0.6282123  to the right, improve=1.6246390, (1 missing)
##       total.cte.courses.taken &lt; 7.5        to the left,  improve=1.3227510, (0 missing)
##       avg.wages.pct.state     &lt; 0.7039552  to the right, improve=1.0703700, (0 missing)
##       avg.unemp.rate          &lt; 4.333333   to the left,  improve=0.5925926, (0 missing)
##       Gender                  splits as  RL, improve=0.3703704, (0 missing)
## 
## Node number 262667: 10 observations
##   predicted class=No meaningful emp SW  expected loss=0  P(node) =0.0004082632
##     class counts:     0    10
##    probabilities: 0.000 1.000 
## 
## Node number 263464: 15 observations
##   predicted class=Meaningful emp SW     expected loss=0.4  P(node) =0.0006123949
##     class counts:     9     6
##    probabilities: 0.600 0.400 
## 
## Node number 263465: 15 observations
##   predicted class=No meaningful emp SW  expected loss=0.4  P(node) =0.0006123949
##     class counts:     6     9
##    probabilities: 0.400 0.600 
## 
## Node number 263468: 35 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.4857143  P(node) =0.001428921
##     class counts:    17    18
##    probabilities: 0.486 0.514 
##   left son=526936 (14 obs) right son=526937 (21 obs)
##   Primary splits:
##       total.cte.courses.taken &lt; 7.5        to the left,  improve=2.4380950, (0 missing)
##       avg.unemp.rate          &lt; 5.766667   to the right, improve=2.0669110, (0 missing)
##       RaceEthnicity           splits as  R-LR-L, improve=2.0571430, (0 missing)
##       MCA.S                   &lt; 1.5        to the right, improve=0.6428571, (14 missing)
##       avg.wages.pct.state     &lt; 0.7576334  to the left,  improve=0.4781385, (0 missing)
##   Surrogate splits:
##       avg.unemp.rate                     &lt; 5.766667   to the right, agree=0.743, adj=0.357, (0 split)
##       avg.wages.pct.state                &lt; 0.6923019  to the left,  agree=0.743, adj=0.357, (0 split)
##       cte.achievement                    splits as  RLL, agree=0.714, adj=0.286, (0 split)
##       avg.cte.intensity                  &lt; -2.212488  to the right, agree=0.686, adj=0.214, (0 split)
##       LimitedEnglishProficiencyIndicator splits as  RL, agree=0.629, adj=0.071, (0 split)
## 
## Node number 263469: 11 observations
##   predicted class=No meaningful emp SW  expected loss=0.09090909  P(node) =0.0004490896
##     class counts:     1    10
##    probabilities: 0.091 0.909 
## 
## Node number 263712: 11 observations
##   predicted class=Meaningful emp SW     expected loss=0.2727273  P(node) =0.0004490896
##     class counts:     8     3
##    probabilities: 0.727 0.273 
## 
## Node number 263713: 37 observations
##   predicted class=No meaningful emp SW  expected loss=0.3513514  P(node) =0.001510574
##     class counts:    13    24
##    probabilities: 0.351 0.649 
## 
## Node number 263714: 27 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.4444444  P(node) =0.001102311
##     class counts:    12    15
##    probabilities: 0.444 0.556 
##   left son=527428 (11 obs) right son=527429 (16 obs)
##   Primary splits:
##       avg.wages.pct.state     &lt; 0.6904791  to the right, improve=2.9696970, (0 missing)
##       Gender                  splits as  LR, improve=1.3761900, (0 missing)
##       avg.unemp.rate          &lt; 5.683333   to the left,  improve=0.8333333, (0 missing)
##       avg.cte.intensity       &lt; 1.030086   to the left,  improve=0.7686275, (0 missing)
##       total.cte.courses.taken &lt; 11         to the left,  improve=0.6627451, (0 missing)
##   Surrogate splits:
##       total.cte.courses.taken &lt; 11         to the left,  agree=0.704, adj=0.273, (0 split)
##       avg.unemp.rate          &lt; 5.616667   to the left,  agree=0.704, adj=0.273, (0 split)
##       cte.achievement         splits as  RLR, agree=0.667, adj=0.182, (0 split)
##       avg.cte.intensity       &lt; 0.9730697  to the left,  agree=0.667, adj=0.182, (0 split)
##       Gender                  splits as  LR, agree=0.630, adj=0.091, (0 split)
## 
## Node number 263715: 229 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.2358079  P(node) =0.009349228
##     class counts:    54   175
##    probabilities: 0.236 0.764 
##   left son=527430 (90 obs) right son=527431 (139 obs)
##   Primary splits:
##       economic.status         splits as  LR, improve=1.6815920, (0 missing)
##       avg.cte.intensity       &lt; 3.388096   to the right, improve=1.2453050, (5 missing)
##       total.cte.courses.taken &lt; 4.5        to the right, improve=1.0418420, (0 missing)
##       avg.wages.pct.state     &lt; 0.7003901  to the left,  improve=0.8360129, (0 missing)
##       cte.achievement         splits as  LRL, improve=0.6243018, (0 missing)
##   Surrogate splits:
##       avg.unemp.rate          &lt; 7.333333   to the right, agree=0.624, adj=0.044, (0 split)
##       avg.cte.intensity       &lt; 0.798674   to the left,  agree=0.620, adj=0.033, (0 split)
##       total.cte.courses.taken &lt; 21.5       to the right, agree=0.616, adj=0.022, (0 split)
## 
## Node number 525322: 9 observations
##   predicted class=Meaningful emp SW     expected loss=0.3333333  P(node) =0.0003674369
##     class counts:     6     3
##    probabilities: 0.667 0.333 
## 
## Node number 525323: 30 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.4  P(node) =0.00122479
##     class counts:    12    18
##    probabilities: 0.400 0.600 
##   left son=1050646 (22 obs) right son=1050647 (8 obs)
##   Primary splits:
##       ps.grad.InstitutionSector &lt; 4.5        to the right, improve=1.6500000, (0 missing)
##       avg.cte.intensity         &lt; 1.064445   to the right, improve=0.6222222, (0 missing)
##       Gender                    splits as  LR, improve=0.5366460, (0 missing)
##       total.cte.courses.taken   &lt; 6.5        to the left,  improve=0.3000000, (0 missing)
##       avg.unemp.rate            &lt; 4.6        to the left,  improve=0.3000000, (0 missing)
## 
## Node number 525330: 33 observations,    complexity param=0.0003375165
##   predicted class=Meaningful emp SW     expected loss=0.4545455  P(node) =0.001347269
##     class counts:    18    15
##    probabilities: 0.545 0.455 
##   left son=1050660 (24 obs) right son=1050661 (9 obs)
##   Primary splits:
##       avg.cte.intensity                  &lt; -0.4503427 to the right, improve=1.1136360, (0 missing)
##       cte.achievement                    splits as  LRR, improve=0.8080808, (0 missing)
##       avg.wages.pct.state                &lt; 0.7071048  to the left,  improve=0.6643882, (0 missing)
##       LimitedEnglishProficiencyIndicator splits as  LR, improve=0.6255411, (0 missing)
##       avg.unemp.rate                     &lt; 5.066667   to the right, improve=0.5064935, (0 missing)
## 
## Node number 525331: 10 observations
##   predicted class=No meaningful emp SW  expected loss=0.2  P(node) =0.0004082632
##     class counts:     2     8
##    probabilities: 0.200 0.800 
## 
## Node number 525332: 7 observations
##   predicted class=Meaningful emp SW     expected loss=0.2857143  P(node) =0.0002857843
##     class counts:     5     2
##    probabilities: 0.714 0.286 
## 
## Node number 525333: 20 observations
##   predicted class=No meaningful emp SW  expected loss=0.3  P(node) =0.0008165265
##     class counts:     6    14
##    probabilities: 0.300 0.700 
## 
## Node number 526936: 14 observations
##   predicted class=Meaningful emp SW     expected loss=0.2857143  P(node) =0.0005715685
##     class counts:    10     4
##    probabilities: 0.714 0.286 
## 
## Node number 526937: 21 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.3333333  P(node) =0.0008573528
##     class counts:     7    14
##    probabilities: 0.333 0.667 
##   left son=1053874 (12 obs) right son=1053875 (9 obs)
##   Primary splits:
##       Gender                  splits as  RL, improve=3.50000000, (0 missing)
##       total.cte.courses.taken &lt; 12.5       to the right, improve=2.19871800, (0 missing)
##       MCA.R                   &lt; 2.5        to the right, improve=0.47846890, (2 missing)
##       avg.cte.intensity       &lt; -2.326948  to the right, improve=0.38888890, (0 missing)
##       avg.unemp.rate          &lt; 5.416667   to the left,  improve=0.04242424, (0 missing)
##   Surrogate splits:
##       RaceEthnicity             splits as  L-LR-L, agree=0.762, adj=0.444, (0 split)
##       total.cte.courses.taken   &lt; 12.5       to the right, agree=0.714, adj=0.333, (0 split)
##       ps.grad.InstitutionSector &lt; 4.5        to the right, agree=0.619, adj=0.111, (0 split)
##       avg.cte.intensity         &lt; -2.603983  to the right, agree=0.619, adj=0.111, (0 split)
##       avg.wages.pct.state       &lt; 0.7003901  to the right, agree=0.619, adj=0.111, (0 split)
## 
## Node number 527428: 11 observations
##   predicted class=Meaningful emp SW     expected loss=0.2727273  P(node) =0.0004490896
##     class counts:     8     3
##    probabilities: 0.727 0.273 
## 
## Node number 527429: 16 observations
##   predicted class=No meaningful emp SW  expected loss=0.25  P(node) =0.0006532212
##     class counts:     4    12
##    probabilities: 0.250 0.750 
## 
## Node number 527430: 90 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.3111111  P(node) =0.003674369
##     class counts:    28    62
##    probabilities: 0.311 0.689 
##   left son=1054860 (82 obs) right son=1054861 (8 obs)
##   Primary splits:
##       avg.wages.pct.state     &lt; 0.6628857  to the right, improve=1.6997290, (0 missing)
##       total.cte.courses.taken &lt; 8.5        to the right, improve=1.5174330, (0 missing)
##       Gender                  splits as  RL, improve=0.8471743, (0 missing)
##       cte.achievement         splits as  LR-, improve=0.6349206, (0 missing)
##       MCA.R                   &lt; 2.5        to the left,  improve=0.4294428, (3 missing)
## 
## Node number 527431: 139 observations
##   predicted class=No meaningful emp SW  expected loss=0.1870504  P(node) =0.005674859
##     class counts:    26   113
##    probabilities: 0.187 0.813 
## 
## Node number 1050646: 22 observations,    complexity param=0.0003375165
##   predicted class=Meaningful emp SW     expected loss=0.5  P(node) =0.0008981791
##     class counts:    11    11
##    probabilities: 0.500 0.500 
##   left son=2101292 (10 obs) right son=2101293 (12 obs)
##   Primary splits:
##       avg.cte.intensity       &lt; 0.8024194  to the right, improve=1.4666670, (0 missing)
##       total.cte.courses.taken &lt; 7.5        to the right, improve=0.3928571, (0 missing)
##       avg.wages.pct.state     &lt; 0.7135589  to the right, improve=0.3928571, (0 missing)
##       cte.achievement         splits as  RLL, improve=0.3666667, (0 missing)
##       avg.unemp.rate          &lt; 5.083333   to the right, improve=0.1047619, (0 missing)
##   Surrogate splits:
##       cte.achievement     splits as  RLR, agree=0.773, adj=0.5, (0 split)
##       avg.unemp.rate      &lt; 4.8        to the left,  agree=0.773, adj=0.5, (0 split)
##       Gender              splits as  LR, agree=0.682, adj=0.3, (0 split)
##       MCA.R               &lt; 2.5        to the left,  agree=0.636, adj=0.2, (0 split)
##       avg.wages.pct.state &lt; 0.7053225  to the right, agree=0.636, adj=0.2, (0 split)
## 
## Node number 1050647: 8 observations
##   predicted class=No meaningful emp SW  expected loss=0.125  P(node) =0.0003266106
##     class counts:     1     7
##    probabilities: 0.125 0.875 
## 
## Node number 1050660: 24 observations
##   predicted class=Meaningful emp SW     expected loss=0.375  P(node) =0.0009798318
##     class counts:    15     9
##    probabilities: 0.625 0.375 
## 
## Node number 1050661: 9 observations
##   predicted class=No meaningful emp SW  expected loss=0.3333333  P(node) =0.0003674369
##     class counts:     3     6
##    probabilities: 0.333 0.667 
## 
## Node number 1053874: 12 observations
##   predicted class=Meaningful emp SW     expected loss=0.4166667  P(node) =0.0004899159
##     class counts:     7     5
##    probabilities: 0.583 0.417 
## 
## Node number 1053875: 9 observations
##   predicted class=No meaningful emp SW  expected loss=0  P(node) =0.0003674369
##     class counts:     0     9
##    probabilities: 0.000 1.000 
## 
## Node number 1054860: 82 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.3414634  P(node) =0.003347759
##     class counts:    28    54
##    probabilities: 0.341 0.659 
##   left son=2109720 (9 obs) right son=2109721 (73 obs)
##   Primary splits:
##       avg.wages.pct.state     &lt; 0.6745728  to the left,  improve=2.1383230, (0 missing)
##       total.cte.courses.taken &lt; 8.5        to the right, improve=1.6249580, (0 missing)
##       Gender                  splits as  RL, improve=1.3334570, (0 missing)
##       cte.achievement         splits as  LR-, improve=0.8479736, (0 missing)
##       MCA.R                   &lt; 2.5        to the left,  improve=0.7308271, (2 missing)
## 
## Node number 1054861: 8 observations
##   predicted class=No meaningful emp SW  expected loss=0  P(node) =0.0003266106
##     class counts:     0     8
##    probabilities: 0.000 1.000 
## 
## Node number 2101292: 10 observations
##   predicted class=Meaningful emp SW     expected loss=0.3  P(node) =0.0004082632
##     class counts:     7     3
##    probabilities: 0.700 0.300 
## 
## Node number 2101293: 12 observations
##   predicted class=No meaningful emp SW  expected loss=0.3333333  P(node) =0.0004899159
##     class counts:     4     8
##    probabilities: 0.333 0.667 
## 
## Node number 2109720: 9 observations
##   predicted class=Meaningful emp SW     expected loss=0.3333333  P(node) =0.0003674369
##     class counts:     6     3
##    probabilities: 0.667 0.333 
## 
## Node number 2109721: 73 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.3013699  P(node) =0.002980322
##     class counts:    22    51
##    probabilities: 0.301 0.699 
##   left son=4219442 (56 obs) right son=4219443 (17 obs)
##   Primary splits:
##       cte.achievement         splits as  LR-, improve=1.496029, (0 missing)
##       total.cte.courses.taken &lt; 5.5        to the right, improve=1.365409, (0 missing)
##       Gender                  splits as  RL, improve=1.046703, (0 missing)
##       edr                     splits as  -LR, improve=0.688444, (0 missing)
##       MCA.R                   &lt; 2.5        to the left,  improve=0.685752, (2 missing)
##   Surrogate splits:
##       total.cte.courses.taken &lt; 7.5        to the right, agree=0.863, adj=0.412, (0 split)
##       RaceEthnicity           splits as  ---R-L, agree=0.795, adj=0.118, (0 split)
##       avg.cte.intensity       &lt; 0.6628173  to the right, agree=0.781, adj=0.059, (0 split)
##       avg.wages.pct.state     &lt; 0.7032375  to the left,  agree=0.781, adj=0.059, (0 split)
## 
## Node number 4219442: 56 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.3571429  P(node) =0.002286274
##     class counts:    20    36
##    probabilities: 0.357 0.643 
##   left son=8438884 (47 obs) right son=8438885 (9 obs)
##   Primary splits:
##       edr                     splits as  -LR, improve=1.2982100, (0 missing)
##       MCA.S                   &lt; 1.5        to the right, improve=1.1984490, (7 missing)
##       Gender                  splits as  RL, improve=0.9657477, (0 missing)
##       total.cte.courses.taken &lt; 17.5       to the left,  improve=0.9657477, (0 missing)
##       avg.unemp.rate          &lt; 7.333333   to the right, improve=0.7346939, (0 missing)
##   Surrogate splits:
##       avg.wages.pct.state     &lt; 0.6796773  to the right, agree=0.929, adj=0.556, (0 split)
##       total.cte.courses.taken &lt; 28         to the left,  agree=0.893, adj=0.333, (0 split)
## 
## Node number 4219443: 17 observations
##   predicted class=No meaningful emp SW  expected loss=0.1176471  P(node) =0.0006940475
##     class counts:     2    15
##    probabilities: 0.118 0.882 
## 
## Node number 8438884: 47 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.4042553  P(node) =0.001918837
##     class counts:    19    28
##    probabilities: 0.404 0.596 
##   left son=16877768 (31 obs) right son=16877769 (16 obs)
##   Primary splits:
##       MCA.S                   &lt; 1.5        to the right, improve=1.2033330, (7 missing)
##       Gender                  splits as  RL, improve=1.1544270, (0 missing)
##       total.cte.courses.taken &lt; 17.5       to the left,  improve=0.5603758, (0 missing)
##       avg.unemp.rate          &lt; 7.333333   to the right, improve=0.4597264, (0 missing)
##       avg.cte.intensity       &lt; 3.403911   to the left,  improve=0.4509223, (1 missing)
##   Surrogate splits:
##       MCA.R             &lt; 1.5        to the right, agree=0.75, adj=0.333, (7 split)
##       Gender            splits as  RL, agree=0.70, adj=0.200, (0 split)
##       pseo.participant  splits as  LR, agree=0.65, adj=0.067, (0 split)
##       avg.cte.intensity &lt; 2.074557   to the right, agree=0.65, adj=0.067, (0 split)
##       MCA.M             &lt; 1.5        to the right, agree=0.65, adj=0.067, (0 split)
## 
## Node number 8438885: 9 observations
##   predicted class=No meaningful emp SW  expected loss=0.1111111  P(node) =0.0003674369
##     class counts:     1     8
##    probabilities: 0.111 0.889 
## 
## Node number 16877768: 31 observations,    complexity param=0.0003375165
##   predicted class=No meaningful emp SW  expected loss=0.4516129  P(node) =0.001265616
##     class counts:    14    17
##    probabilities: 0.452 0.548 
##   left son=33755536 (24 obs) right son=33755537 (7 obs)
##   Primary splits:
##       total.cte.courses.taken &lt; 8.5        to the right, improve=0.4976959, (0 missing)
##       MCA.S                   &lt; 2.5        to the left,  improve=0.4947059, (6 missing)
##       MCA.M                   &lt; 1.5        to the right, improve=0.4556790, (0 missing)
##       avg.unemp.rate          &lt; 6.05       to the left,  improve=0.3881720, (0 missing)
##       avg.cte.intensity       &lt; 3.689114   to the left,  improve=0.3548387, (0 missing)
##   Surrogate splits:
##       avg.wages.pct.state &lt; 0.6984093  to the left,  agree=0.935, adj=0.714, (0 split)
##       avg.cte.intensity   &lt; 0.9554483  to the right, agree=0.871, adj=0.429, (0 split)
## 
## Node number 16877769: 16 observations
##   predicted class=No meaningful emp SW  expected loss=0.3125  P(node) =0.0006532212
##     class counts:     5    11
##    probabilities: 0.312 0.688 
## 
## Node number 33755536: 24 observations,    complexity param=0.0003375165
##   predicted class=Meaningful emp SW     expected loss=0.5  P(node) =0.0009798318
##     class counts:    12    12
##    probabilities: 0.500 0.500 
##   left son=67511072 (11 obs) right son=67511073 (13 obs)
##   Primary splits:
##       MCA.M                   &lt; 1.5        to the right, improve=2.09790200, (0 missing)
##       avg.cte.intensity       &lt; 3.689114   to the left,  improve=0.80000000, (0 missing)
##       total.cte.courses.taken &lt; 17.5       to the left,  improve=0.75524480, (0 missing)
##       avg.wages.pct.state     &lt; 0.6889119  to the right, improve=0.37500000, (0 missing)
##       MCA.R                   &lt; 2.5        to the left,  improve=0.08391608, (0 missing)
##   Surrogate splits:
##       total.cte.courses.taken &lt; 13.5       to the left,  agree=0.708, adj=0.364, (0 split)
##       MCA.R                   &lt; 2.5        to the right, agree=0.667, adj=0.273, (0 split)
##       avg.cte.intensity       &lt; 0.9047572  to the left,  agree=0.625, adj=0.182, (0 split)
##       avg.unemp.rate          &lt; 6.05       to the left,  agree=0.625, adj=0.182, (0 split)
##       avg.wages.pct.state     &lt; 0.6889119  to the right, agree=0.625, adj=0.182, (0 split)
## 
## Node number 33755537: 7 observations
##   predicted class=No meaningful emp SW  expected loss=0.2857143  P(node) =0.0002857843
##     class counts:     2     5
##    probabilities: 0.286 0.714 
## 
## Node number 67511072: 11 observations
##   predicted class=Meaningful emp SW     expected loss=0.2727273  P(node) =0.0004490896
##     class counts:     8     3
##    probabilities: 0.727 0.273 
## 
## Node number 67511073: 13 observations
##   predicted class=No meaningful emp SW  expected loss=0.3076923  P(node) =0.0005307422
##     class counts:     4     9
##    probabilities: 0.308 0.692</code></pre>
<pre class="r"><code>#Plot tree
rpart.plot(meaningful.emp.sw.grad.year.5.model.postprune)</code></pre>
<p><img src="analysis_local_employment_cart_files/figure-html/postpruning%20meaningful%20emp%20SW%20grad%20year%205-1.png" width="672" /></p>
<pre class="r"><code># Examine the complexity plot
printcp(meaningful.emp.sw.grad.year.5.model.postprune)</code></pre>
<pre><code>## 
## Classification tree:
## rpart(formula = grad.year.5 ~ ., data = train, method = &quot;class&quot;, 
##     cp = 0)
## 
## Variables actually used in tree construction:
##  [1] avg.cte.intensity         avg.unemp.rate           
##  [3] avg.wages.pct.state       cte.achievement          
##  [5] economic.status           edr                      
##  [7] Gender                    highest.cred.level       
##  [9] MCA.M                     MCA.R                    
## [11] MCA.S                     ps.grad.InstitutionSector
## [13] pseo.participant          RaceEthnicity            
## [15] SpecialEdStatus           took.ACT                 
## [17] total.cte.courses.taken  
## 
## Root node error: 2834/24494 = 0.1157
## 
## n= 24494 
## 
##           CP nsplit rel error xerror     xstd
## 1 0.00033752      0   1.00000 1.0000 0.017664
## 2 0.00030875    114   0.94248 1.0797 0.018259
## 3 0.00030875    122   0.94001 1.1059 0.018447</code></pre>
<pre class="r"><code>plotcp(meaningful.emp.sw.grad.year.5.model.postprune)</code></pre>
<p><img src="analysis_local_employment_cart_files/figure-html/postpruning%20meaningful%20emp%20SW%20grad%20year%205-2.png" width="672" /></p>
<pre class="r"><code># Compute the accuracy of the pruned tree

test$pred &lt;- predict(meaningful.emp.sw.grad.year.5.model.postprune, test, type = &quot;class&quot;)

accuracy_postprun &lt;- mean(test$pred == test$grad.year.5)

accuracy_postprun</code></pre>
<pre><code>## [1] 0.8691179</code></pre>
<p><br></p>
<p>We still end up with a highly complex tree that is difficult to
interpret. Let’s check to see what variables are considered
important.</p>
<p>And it tells me that the post-secondary variables are still very
important. Interestingly, the county economics and CTE coursework rises
to the top. It seems that those variables are much more important when
the decision tree is more complex. In order to simplify the decision
trees, those kind of get put by the way side. I’m assuming that the
branching gets more nuanced so that the greater then/lesser than split
occurs in many areas through those variables.</p>
<p><br></p>
<pre class="r"><code>meaningful.emp.sw.grad.year.5.model.postprune$variable.importance</code></pre>
<pre><code>##          ps.grad.InstitutionSector                 highest.cred.level 
##                         192.330694                         157.171787 
##                avg.wages.pct.state                  avg.cte.intensity 
##                          75.095923                          74.277775 
##                     avg.unemp.rate            total.cte.courses.taken 
##                          64.725880                          58.983447 
##                           took.ACT                              MCA.R 
##                          35.197655                          29.903705 
##                    cte.achievement                   pseo.participant 
##                          24.668927                          23.915394 
##                    economic.status                              MCA.M 
##                          22.473203                          20.706692 
##                      RaceEthnicity                              MCA.S 
##                          20.345343                          14.674427 
##                                edr                    SpecialEdStatus 
##                          14.412563                          14.177137 
##                             Gender LimitedEnglishProficiencyIndicator 
##                          12.757654                           3.751817</code></pre>
<p><br></p>
<p>Now let’s compare the accuracy.</p>
<pre class="r"><code>data.frame(base_accuracy, accuracy_preprun, accuracy_postprun)</code></pre>
<pre><code>##   base_accuracy accuracy_preprun accuracy_postprun
## 1     0.8541627        0.8745475         0.8691179</code></pre>
</div>
<div id="section-summary-1" class="section level3">
<h3>Summary</h3>
<p>Overall, the variables that were the most consistently important
throughout the analysis were the post-secondary variables. Both the
institution sector and highest credential earned were in the top five
for all three models.</p>
<p>In addition, the CTE coursework (average CTE intensity, number of CTE
courses taken) as well as the high school county economics (unemployment
and wages) showed up as important in the more complexy model (base and
post-pruning) but not in the simpler decision tree with less branching.
In the pre-pruned tree, the testing and prepping in school were more
important.</p>
<p><br></p>
</div>
</div>
<div id="section-ten-years-after-graduation" class="section level2">
<h2>Ten years after graduation</h2>
<p>Next we will look at the variables importance at five years after
graduation. At this point we will bring back the post-secondary
variables.</p>
<pre><code>##  [1] &quot;Gender&quot;                             &quot;LimitedEnglishProficiencyIndicator&quot;
##  [3] &quot;economic.status&quot;                    &quot;pseo.participant&quot;                  
##  [5] &quot;SpecialEdStatus&quot;                    &quot;RaceEthnicity&quot;                     
##  [7] &quot;edr&quot;                                &quot;took.ACT&quot;                          
##  [9] &quot;cte.achievement&quot;                    &quot;ps.grad.InstitutionSector&quot;         
## [11] &quot;highest.cred.level&quot;                 &quot;total.cte.courses.taken&quot;           
## [13] &quot;avg.cte.intensity&quot;                  &quot;MCA.M&quot;                             
## [15] &quot;MCA.R&quot;                              &quot;MCA.S&quot;                             
## [17] &quot;avg.unemp.rate&quot;                     &quot;avg.wages.pct.state&quot;               
## [19] &quot;grad.year.10&quot;</code></pre>
<div id="section-base-model-2" class="section level3">
<h3>Base model</h3>
<p>First we will split the data into two sets, Train and Test, in a
70:30 ratio. The Train set is used for training and creating the model.
The Test set is considered to be a dummy production environment to test
predictions and evaluate the accuracy of the model.</p>
<p><br></p>
<pre class="r"><code>set.seed(1234)

sample_ind &lt;- sample(nrow(meaningful.emp.sw.grad.year.10), nrow(meaningful.emp.sw.grad.year.10) *.7)

train &lt;- meaningful.emp.sw.grad.year.10[sample_ind,]

test &lt;- meaningful.emp.sw.grad.year.10[-sample_ind,]</code></pre>
<p>Next, we create a decision tree model by calling the rpart function.
Let’s first create a base model with default parameters and value. The
CP (complexity parameter) is used to control tree growth. If the cost of
adding a variable is higher then the value of CP, then tree growth
stops.</p>
<p><br></p>
<p><img src="analysis_local_employment_cart_files/figure-html/decision%20tree%20plot%20meaningful%20emp%20SW%20grad%20year%2010-1.png" width="672" /></p>
<pre><code>## 
## Classification tree:
## rpart(formula = grad.year.10 ~ ., data = train, method = &quot;class&quot;, 
##     cp = 0)
## 
## Variables actually used in tree construction:
##  [1] avg.cte.intensity                  avg.unemp.rate                    
##  [3] avg.wages.pct.state                cte.achievement                   
##  [5] economic.status                    edr                               
##  [7] Gender                             highest.cred.level                
##  [9] LimitedEnglishProficiencyIndicator MCA.M                             
## [11] MCA.R                              ps.grad.InstitutionSector         
## [13] pseo.participant                   RaceEthnicity                     
## [15] SpecialEdStatus                    took.ACT                          
## [17] total.cte.courses.taken           
## 
## Root node error: 1236/4818 = 0.25654
## 
## n= 4818 
## 
##            CP nsplit rel error xerror     xstd
## 1  0.00161812      0   1.00000 1.0000 0.024526
## 2  0.00134844     44   0.91909 1.0477 0.024897
## 3  0.00121359     53   0.90696 1.1084 0.025333
## 4  0.00107875     61   0.89725 1.1230 0.025433
## 5  0.00101133     80   0.87460 1.1319 0.025492
## 6  0.00097087     91   0.86327 1.1335 0.025503
## 7  0.00089896     97   0.85680 1.1335 0.025503
## 8  0.00080906    117   0.82767 1.1739 0.025763
## 9  0.00064725    132   0.81553 1.1877 0.025848
## 10 0.00053937    145   0.80663 1.2006 0.025927
## 11 0.00048544    151   0.80340 1.2152 0.026013
## 12 0.00040453    156   0.80097 1.2387 0.026148
## 13 0.00032362    166   0.79693 1.2411 0.026161
## 14 0.00026969    179   0.79045 1.2557 0.026242
## 15 0.00020227    185   0.78883 1.2557 0.026242
## 16 0.00016181    193   0.78641 1.2646 0.026291
## 17 0.00000000    198   0.78560 1.2686 0.026313</code></pre>
<p><img src="analysis_local_employment_cart_files/figure-html/decision%20tree%20plot%20meaningful%20emp%20SW%20grad%20year%2010-2.png" width="672" /></p>
<p><br></p>
<p>The resulting model produced a VERY complex tree with too many nodes
that it isn’t interpretable. However, examining the complexity
parameters shows that I have an increasing cross-validated error which
provides evidence of a decision tree with too much complexity.</p>
<p>Below are the values in variable important and it shows that the
variables related to CTE courses, high school county economics, and the
post-secondary institutions are all pretty high.</p>
<p><br></p>
<pre class="r"><code>meaningful.emp.sw.grad.year.10.model$variable.importance</code></pre>
<pre><code>##                  avg.cte.intensity                avg.wages.pct.state 
##                          120.33712                           81.16994 
##                     avg.unemp.rate            total.cte.courses.taken 
##                           75.73885                           73.06587 
##                              MCA.R                 highest.cred.level 
##                           46.80816                           39.21216 
##          ps.grad.InstitutionSector                                edr 
##                           36.56419                           35.56545 
##                              MCA.M                             Gender 
##                           29.12938                           28.06627 
##                      RaceEthnicity                    cte.achievement 
##                           22.92601                           18.52910 
##                           took.ACT                   pseo.participant 
##                           16.48567                           12.94232 
##                    SpecialEdStatus                    economic.status 
##                           11.82179                           11.47841 
## LimitedEnglishProficiencyIndicator 
##                            3.53944</code></pre>
<p>Next, the accuracy of the model is computed and stored in a variable
base_accuracy so we can compare it to our pruned trees later.</p>
<p><br></p>
<pre class="r"><code>test$pred &lt;- predict(meaningful.emp.sw.grad.year.10.model, test, type = &quot;class&quot;)

base_accuracy &lt;- mean(test$pred == test$grad.year.10)

base_accuracy</code></pre>
<pre><code>## [1] 0.696368</code></pre>
</div>
<div id="section-pre-pruning-2" class="section level3">
<h3>Pre-pruning</h3>
<p>Next, we need to prune. We can either pre-prune or post-prune. We
will start with pre-pruning and use each method - max depth, min depth,
and min bucket.</p>
<p><br></p>
<pre class="r"><code># Grow a tree with minsplit of 40 and max depth of 10
meaningful.emp.sw.grad.year.10.model.preprune &lt;- rpart(grad.year.10 ~ ., data = train, method = &quot;class&quot;, 
                   control = rpart.control(cp = 0, maxdepth = 7, minsplit = 40))</code></pre>
<pre class="r"><code>#Plot tree
rpart.plot(meaningful.emp.sw.grad.year.10.model.preprune)</code></pre>
<p><img src="analysis_local_employment_cart_files/figure-html/pre%20pruning%20plot%20meaningful%20emp%20SW%20grad%20year%2010-1.png" width="672" /></p>
<pre class="r"><code># Examine the complexity plot
printcp(meaningful.emp.sw.grad.year.10.model.preprune)</code></pre>
<pre><code>## 
## Classification tree:
## rpart(formula = grad.year.10 ~ ., data = train, method = &quot;class&quot;, 
##     control = rpart.control(cp = 0, maxdepth = 7, minsplit = 40))
## 
## Variables actually used in tree construction:
##  [1] avg.cte.intensity         avg.unemp.rate           
##  [3] avg.wages.pct.state       cte.achievement          
##  [5] economic.status           highest.cred.level       
##  [7] MCA.M                     MCA.R                    
##  [9] ps.grad.InstitutionSector RaceEthnicity            
## [11] took.ACT                  total.cte.courses.taken  
## 
## Root node error: 1236/4818 = 0.25654
## 
## n= 4818 
## 
##           CP nsplit rel error xerror     xstd
## 1 0.00161812      0   1.00000 1.0000 0.024526
## 2 0.00097087     11   0.98220 1.0299 0.024761
## 3 0.00080906     19   0.97411 1.0534 0.024939
## 4 0.00040453     20   0.97330 1.0591 0.024981
## 5 0.00000000     22   0.97249 1.0704 0.025064</code></pre>
<pre class="r"><code>plotcp(meaningful.emp.sw.grad.year.10.model.preprune)</code></pre>
<p><img src="analysis_local_employment_cart_files/figure-html/pre%20pruning%20plot%20meaningful%20emp%20SW%20grad%20year%2010-2.png" width="672" /></p>
<pre class="r"><code># Compute the accuracy of the pruned tree

test$pred &lt;- predict(meaningful.emp.sw.grad.year.10.model.preprune, test, type = &quot;class&quot;)

accuracy_preprun &lt;- mean(test$pred == test$grad.year.10)

accuracy_preprun</code></pre>
<pre><code>## [1] 0.7491525</code></pre>
<p>The pre-pruning resulted in a significantly less complex tree with a
.75 accuracy. Let’s see what variables are important in this model.</p>
<p>This model does indicate a difference in importance when pruned. The
MCA testing, CTE coursework are important in this model, as well as the
average wages.</p>
<p><br></p>
<pre class="r"><code>meaningful.emp.sw.grad.year.10.model.preprune$variable.importance</code></pre>
<pre><code>##                              MCA.R                  avg.cte.intensity 
##                         35.6192525                         21.4125955 
##                    cte.achievement                avg.wages.pct.state 
##                         14.9303842                         14.5751538 
##                              MCA.M                 highest.cred.level 
##                         11.1373726                         10.6500088 
##            total.cte.courses.taken                     avg.unemp.rate 
##                          9.7212065                          9.5588632 
##                      RaceEthnicity                           took.ACT 
##                          9.0408459                          8.0715670 
##          ps.grad.InstitutionSector                                edr 
##                          3.9883290                          3.0843244 
##                    economic.status                    SpecialEdStatus 
##                          2.5244889                          2.1340417 
## LimitedEnglishProficiencyIndicator                             Gender 
##                          1.4007278                          0.7242836</code></pre>
</div>
<div id="section-post-pruning-2" class="section level3">
<h3>Post-pruning</h3>
<p>Next, let’s try postpruning. The idea here is to allow the decision
tree to grow fully and observe the CP value. Next, we prune/cut the tree
with the optimal CP value as the parameter as shown in below code:</p>
<p><br></p>
<pre class="r"><code># Prune the hr_base_model based on the optimal cp value
meaningful.emp.sw.grad.year.10.model.postprune &lt;- prune(meaningful.emp.sw.grad.year.10.model, cp = 0.00134844)

#Summary
summary(meaningful.emp.sw.grad.year.10.model.postprune)</code></pre>
<pre><code>## Call:
## rpart(formula = grad.year.10 ~ ., data = train, method = &quot;class&quot;, 
##     cp = 0)
##   n= 4818 
## 
##            CP nsplit rel error   xerror       xstd
## 1 0.001618123      0 1.0000000 1.000000 0.02452563
## 2 0.001348440     44 0.9190939 1.047735 0.02489656
## 
## Variable importance
##                              MCA.R                  avg.cte.intensity 
##                                 18                                 15 
##                 highest.cred.level                avg.wages.pct.state 
##                                  8                                  8 
##            total.cte.courses.taken                    cte.achievement 
##                                  7                                  7 
##                              MCA.M                     avg.unemp.rate 
##                                  7                                  6 
##                           took.ACT                             Gender 
##                                  5                                  5 
##                      RaceEthnicity          ps.grad.InstitutionSector 
##                                  5                                  4 
##                   pseo.participant                    SpecialEdStatus 
##                                  3                                  1 
##                    economic.status LimitedEnglishProficiencyIndicator 
##                                  1                                  1 
##                                edr 
##                                  1 
## 
## Node number 1: 4818 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.256538  P(node) =1
##     class counts:  1236  3582
##    probabilities: 0.257 0.743 
##   left son=2 (3514 obs) right son=3 (1304 obs)
##   Primary splits:
##       MCA.R                     &lt; 3.5        to the left,  improve=28.55009, (443 missing)
##       MCA.M                     &lt; 2.5        to the left,  improve=27.82411, (354 missing)
##       total.cte.courses.taken   &lt; 3.5        to the right, improve=20.63384, (0 missing)
##       highest.cred.level        splits as  LRLR, improve=20.23737, (0 missing)
##       ps.grad.InstitutionSector &lt; 2.5        to the right, improve=16.50328, (0 missing)
##   Surrogate splits:
##       MCA.M                   &lt; 2.5        to the left,  agree=0.757, adj=0.164, (169 split)
##       highest.cred.level      splits as  LRLR, agree=0.714, adj=0.016, (274 split)
##       total.cte.courses.taken &lt; 0.5        to the right, agree=0.709, adj=0.001, (0 split)
## 
## Node number 2: 3514 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.2848606  P(node) =0.7293483
##     class counts:  1001  2513
##    probabilities: 0.285 0.715 
##   left son=4 (2548 obs) right son=5 (966 obs)
##   Primary splits:
##       cte.achievement         splits as  LRR, improve=14.061240, (0 missing)
##       total.cte.courses.taken &lt; 3.5        to the right, improve=12.407960, (0 missing)
##       MCA.R                   &lt; 2.5        to the left,  improve= 9.380894, (412 missing)
##       avg.wages.pct.state     &lt; 0.7792964  to the left,  improve= 9.283625, (0 missing)
##       highest.cred.level      splits as  LRRR, improve= 7.106602, (0 missing)
##   Surrogate splits:
##       total.cte.courses.taken &lt; 1.5        to the right, agree=0.801, adj=0.277, (0 split)
## 
## Node number 3: 1304 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.1802147  P(node) =0.2706517
##     class counts:   235  1069
##    probabilities: 0.180 0.820 
##   left son=6 (453 obs) right son=7 (851 obs)
##   Primary splits:
##       MCA.M                     &lt; 2.5        to the left,  improve=3.880043, (24 missing)
##       total.cte.courses.taken   &lt; 14.5       to the right, improve=3.313055, (0 missing)
##       avg.cte.intensity         &lt; -2.35527   to the left,  improve=2.877017, (7 missing)
##       ps.grad.InstitutionSector &lt; 3.5        to the right, improve=2.853199, (0 missing)
##       highest.cred.level        splits as  LRLR, improve=2.554470, (0 missing)
##   Surrogate splits:
##       took.ACT                splits as  LR, agree=0.678, adj=0.070, (24 split)
##       total.cte.courses.taken &lt; 10.5       to the right, agree=0.662, adj=0.025, (0 split)
##       SpecialEdStatus         splits as  RL, agree=0.658, adj=0.011, (0 split)
##       RaceEthnicity           splits as  LRLR-R, agree=0.657, adj=0.009, (0 split)
##       avg.cte.intensity       &lt; 3.777587   to the right, agree=0.655, adj=0.002, (0 split)
## 
## Node number 4: 2548 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.3124019  P(node) =0.5288501
##     class counts:   796  1752
##    probabilities: 0.312 0.688 
##   left son=8 (1272 obs) right son=9 (1276 obs)
##   Primary splits:
##       MCA.R               &lt; 2.5        to the left,  improve=7.069167, (172 missing)
##       RaceEthnicity       splits as  RRRR-L, improve=6.102774, (0 missing)
##       took.ACT            splits as  LR, improve=5.343204, (0 missing)
##       highest.cred.level  splits as  LRLR, improve=4.908151, (0 missing)
##       avg.wages.pct.state &lt; 0.7792964  to the left,  improve=4.889992, (0 missing)
##   Surrogate splits:
##       took.ACT                  splits as  LR, agree=0.681, adj=0.324, (172 split)
##       MCA.M                     &lt; 1.5        to the left,  agree=0.680, adj=0.323, (0 split)
##       SpecialEdStatus           splits as  RL, agree=0.644, adj=0.245, (0 split)
##       highest.cred.level        splits as  RRLR, agree=0.625, adj=0.207, (0 split)
##       ps.grad.InstitutionSector &lt; 3.5        to the right, agree=0.619, adj=0.193, (0 split)
## 
## Node number 5: 966 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.2122153  P(node) =0.2004981
##     class counts:   205   761
##    probabilities: 0.212 0.788 
##   left son=10 (103 obs) right son=11 (863 obs)
##   Primary splits:
##       highest.cred.level        splits as  LRRL, improve=6.386649, (0 missing)
##       total.cte.courses.taken   &lt; 1.5        to the right, improve=3.281199, (0 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the left,  improve=3.154132, (0 missing)
##       avg.wages.pct.state       &lt; 0.5859348  to the left,  improve=3.018628, (0 missing)
##       avg.cte.intensity         &lt; -1.829727  to the left,  improve=3.009855, (60 missing)
## 
## Node number 6: 453 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.2317881  P(node) =0.09402242
##     class counts:   105   348
##    probabilities: 0.232 0.768 
##   left son=12 (12 obs) right son=13 (441 obs)
##   Primary splits:
##       avg.cte.intensity         &lt; -2.233748  to the left,  improve=4.651663, (1 missing)
##       avg.wages.pct.state       &lt; 0.7792964  to the left,  improve=2.765626, (0 missing)
##       total.cte.courses.taken   &lt; 14.5       to the right, improve=2.218374, (0 missing)
##       ps.grad.InstitutionSector &lt; 3.5        to the right, improve=1.584039, (0 missing)
##       highest.cred.level        splits as  RRLR, improve=1.563393, (0 missing)
## 
## Node number 7: 851 observations
##   predicted class=No meaningful emp SW  expected loss=0.1527615  P(node) =0.1766293
##     class counts:   130   721
##    probabilities: 0.153 0.847 
## 
## Node number 8: 1272 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.3419811  P(node) =0.26401
##     class counts:   435   837
##    probabilities: 0.342 0.658 
##   left son=16 (1101 obs) right son=17 (171 obs)
##   Primary splits:
##       RaceEthnicity             splits as  RRRR-L, improve=8.096792, (0 missing)
##       avg.cte.intensity         &lt; 4.154973   to the right, improve=4.012891, (18 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the left,  improve=3.615985, (0 missing)
##       avg.wages.pct.state       &lt; 0.7792964  to the left,  improve=2.325792, (0 missing)
##       economic.status           splits as  LR, improve=1.888391, (0 missing)
##   Surrogate splits:
##       LimitedEnglishProficiencyIndicator splits as  LR, agree=0.888, adj=0.164, (0 split)
## 
## Node number 9: 1276 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.2829154  P(node) =0.2648402
##     class counts:   361   915
##    probabilities: 0.283 0.717 
##   left son=18 (386 obs) right son=19 (890 obs)
##   Primary splits:
##       took.ACT                  splits as  LR, improve=4.942690, (0 missing)
##       highest.cred.level        splits as  LRLR, improve=4.932821, (0 missing)
##       ps.grad.InstitutionSector &lt; 2.5        to the right, improve=4.469251, (0 missing)
##       avg.unemp.rate            &lt; 6.55       to the left,  improve=3.150610, (0 missing)
##       total.cte.courses.taken   &lt; 3.5        to the right, improve=2.751221, (0 missing)
##   Surrogate splits:
##       RaceEthnicity           splits as  RRRL-R, agree=0.708, adj=0.036, (0 split)
##       SpecialEdStatus         splits as  RL, agree=0.708, adj=0.034, (0 split)
##       total.cte.courses.taken &lt; 18.5       to the right, agree=0.701, adj=0.013, (0 split)
##       avg.cte.intensity       &lt; -2.495183  to the left,  agree=0.700, adj=0.008, (0 split)
## 
## Node number 10: 103 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.3786408  P(node) =0.02137817
##     class counts:    39    64
##    probabilities: 0.379 0.621 
##   left son=20 (72 obs) right son=21 (31 obs)
##   Primary splits:
##       avg.cte.intensity         &lt; 0.477125   to the left,  improve=2.173181, (3 missing)
##       MCA.R                     &lt; 2.5        to the right, improve=1.831753, (11 missing)
##       avg.unemp.rate            &lt; 4.416667   to the left,  improve=1.720565, (0 missing)
##       ps.grad.InstitutionSector &lt; 3.5        to the right, improve=1.658781, (0 missing)
##       economic.status           splits as  RL, improve=1.550828, (0 missing)
##   Surrogate splits:
##       avg.wages.pct.state                &lt; 0.7183527  to the left,  agree=0.78, adj=0.241, (3 split)
##       LimitedEnglishProficiencyIndicator splits as  LR, agree=0.72, adj=0.034, (0 split)
##       RaceEthnicity                      splits as  -LRL-L, agree=0.72, adj=0.034, (0 split)
## 
## Node number 11: 863 observations
##   predicted class=No meaningful emp SW  expected loss=0.1923523  P(node) =0.17912
##     class counts:   166   697
##    probabilities: 0.192 0.808 
## 
## Node number 12: 12 observations
##   predicted class=Meaningful emp SW     expected loss=0.3333333  P(node) =0.00249066
##     class counts:     8     4
##    probabilities: 0.667 0.333 
## 
## Node number 13: 441 observations
##   predicted class=No meaningful emp SW  expected loss=0.2199546  P(node) =0.09153176
##     class counts:    97   344
##    probabilities: 0.220 0.780 
## 
## Node number 16: 1101 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.3642144  P(node) =0.2285181
##     class counts:   401   700
##    probabilities: 0.364 0.636 
##   left son=32 (30 obs) right son=33 (1071 obs)
##   Primary splits:
##       avg.cte.intensity         &lt; 4.154973   to the right, improve=3.3647750, (15 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the left,  improve=3.0935200, (0 missing)
##       avg.wages.pct.state       &lt; 0.811323   to the left,  improve=2.5781330, (0 missing)
##       total.cte.courses.taken   &lt; 7.5        to the right, improve=1.9718710, (0 missing)
##       edr                       splits as  RRL, improve=0.9844708, (0 missing)
## 
## Node number 17: 171 observations
##   predicted class=No meaningful emp SW  expected loss=0.1988304  P(node) =0.03549191
##     class counts:    34   137
##    probabilities: 0.199 0.801 
## 
## Node number 18: 386 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.3497409  P(node) =0.08011623
##     class counts:   135   251
##    probabilities: 0.350 0.650 
##   left son=36 (48 obs) right son=37 (338 obs)
##   Primary splits:
##       avg.unemp.rate            &lt; 4.066667   to the left,  improve=4.038390, (0 missing)
##       total.cte.courses.taken   &lt; 5.5        to the right, improve=2.676814, (0 missing)
##       avg.wages.pct.state       &lt; 0.7792964  to the left,  improve=2.515045, (0 missing)
##       Gender                    splits as  RL, improve=1.704402, (0 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the left,  improve=1.308476, (0 missing)
##   Surrogate splits:
##       RaceEthnicity splits as  RLRR-R, agree=0.878, adj=0.021, (0 split)
## 
## Node number 19: 890 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.2539326  P(node) =0.184724
##     class counts:   226   664
##    probabilities: 0.254 0.746 
##   left son=38 (148 obs) right son=39 (742 obs)
##   Primary splits:
##       highest.cred.level        splits as  LRRR, improve=4.917562, (0 missing)
##       Gender                    splits as  LR, improve=4.681724, (0 missing)
##       ps.grad.InstitutionSector &lt; 2.5        to the right, improve=2.202392, (0 missing)
##       avg.cte.intensity         &lt; 1.341758   to the left,  improve=1.966351, (0 missing)
##       RaceEthnicity             splits as  LLLR-L, improve=1.701377, (0 missing)
## 
## Node number 20: 72 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.4444444  P(node) =0.01494396
##     class counts:    32    40
##    probabilities: 0.444 0.556 
##   left son=40 (15 obs) right son=41 (57 obs)
##   Primary splits:
##       avg.cte.intensity       &lt; 0.1126362  to the right, improve=3.348625, (1 missing)
##       avg.wages.pct.state     &lt; 0.7097774  to the left,  improve=1.680556, (0 missing)
##       MCA.R                   &lt; 2.5        to the right, improve=1.402597, (6 missing)
##       Gender                  splits as  LR, improve=1.269841, (0 missing)
##       total.cte.courses.taken &lt; 3.5        to the left,  improve=1.015873, (0 missing)
##   Surrogate splits:
##       RaceEthnicity  splits as  -L-L-R, agree=0.817, adj=0.133, (1 split)
##       avg.unemp.rate &lt; 7.083333   to the right, agree=0.817, adj=0.133, (0 split)
## 
## Node number 21: 31 observations
##   predicted class=No meaningful emp SW  expected loss=0.2258065  P(node) =0.006434205
##     class counts:     7    24
##    probabilities: 0.226 0.774 
## 
## Node number 32: 30 observations,    complexity param=0.001618123
##   predicted class=Meaningful emp SW     expected loss=0.4  P(node) =0.00622665
##     class counts:    18    12
##    probabilities: 0.600 0.400 
##   left son=64 (11 obs) right son=65 (19 obs)
##   Primary splits:
##       Gender                  splits as  LR, improve=3.3186600, (0 missing)
##       total.cte.courses.taken &lt; 15.5       to the right, improve=1.8107140, (0 missing)
##       MCA.R                   &lt; 1.5        to the right, improve=0.4000000, (0 missing)
##       economic.status         splits as  RL, improve=0.2666667, (0 missing)
##       SpecialEdStatus         splits as  RL, improve=0.2385093, (0 missing)
##   Surrogate splits:
##       ps.grad.InstitutionSector &lt; 2.5        to the left,  agree=0.667, adj=0.091, (0 split)
##       highest.cred.level        splits as  RLR-, agree=0.667, adj=0.091, (0 split)
##       avg.unemp.rate            &lt; 5.683333   to the right, agree=0.667, adj=0.091, (0 split)
##       avg.wages.pct.state       &lt; 0.6855863  to the right, agree=0.667, adj=0.091, (0 split)
## 
## Node number 33: 1071 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.3576097  P(node) =0.2222914
##     class counts:   383   688
##    probabilities: 0.358 0.642 
##   left son=66 (417 obs) right son=67 (654 obs)
##   Primary splits:
##       ps.grad.InstitutionSector &lt; 4.5        to the left,  improve=3.103105, (0 missing)
##       avg.wages.pct.state       &lt; 0.811323   to the left,  improve=2.331571, (0 missing)
##       edr                       splits as  RRL, improve=1.633388, (0 missing)
##       total.cte.courses.taken   &lt; 7.5        to the right, improve=1.438998, (0 missing)
##       MCA.M                     &lt; 1.5        to the right, improve=1.129664, (66 missing)
##   Surrogate splits:
##       highest.cred.level  splits as  LLR-, agree=0.819, adj=0.535, (0 split)
##       took.ACT            splits as  RL, agree=0.689, adj=0.201, (0 split)
##       pseo.participant    splits as  RL, agree=0.625, adj=0.036, (0 split)
##       avg.wages.pct.state &lt; 0.597294   to the left,  agree=0.619, adj=0.022, (0 split)
## 
## Node number 36: 48 observations,    complexity param=0.001618123
##   predicted class=Meaningful emp SW     expected loss=0.4583333  P(node) =0.00996264
##     class counts:    26    22
##    probabilities: 0.542 0.458 
##   left son=72 (31 obs) right son=73 (17 obs)
##   Primary splits:
##       avg.cte.intensity       &lt; -1.51022   to the right, improve=1.8750790, (0 missing)
##       total.cte.courses.taken &lt; 3.5        to the right, improve=1.3444440, (0 missing)
##       highest.cred.level      splits as  RLL-, improve=1.0737510, (0 missing)
##       Gender                  splits as  RL, improve=0.6165501, (0 missing)
##       MCA.M                   &lt; 1.5        to the left,  improve=0.6165501, (0 missing)
##   Surrogate splits:
##       total.cte.courses.taken   &lt; 3.5        to the right, agree=0.812, adj=0.471, (0 split)
##       avg.unemp.rate            &lt; 3.7        to the left,  agree=0.729, adj=0.235, (0 split)
##       highest.cred.level        splits as  LRL-, agree=0.708, adj=0.176, (0 split)
##       avg.wages.pct.state       &lt; 0.6042688  to the right, agree=0.708, adj=0.176, (0 split)
##       ps.grad.InstitutionSector &lt; 2          to the right, agree=0.688, adj=0.118, (0 split)
## 
## Node number 37: 338 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.3224852  P(node) =0.07015359
##     class counts:   109   229
##    probabilities: 0.322 0.678 
##   left son=74 (181 obs) right son=75 (157 obs)
##   Primary splits:
##       total.cte.courses.taken   &lt; 5.5        to the right, improve=2.688125, (0 missing)
##       avg.unemp.rate            &lt; 6.216667   to the left,  improve=2.135865, (0 missing)
##       avg.wages.pct.state       &lt; 0.7792964  to the left,  improve=1.803019, (0 missing)
##       ps.grad.InstitutionSector &lt; 4.5        to the left,  improve=1.630519, (0 missing)
##       Gender                    splits as  RL, improve=1.400688, (0 missing)
##   Surrogate splits:
##       avg.cte.intensity   &lt; 0.1254198  to the right, agree=0.698, adj=0.350, (0 split)
##       avg.wages.pct.state &lt; 0.7792964  to the left,  agree=0.621, adj=0.185, (0 split)
##       avg.unemp.rate      &lt; 5.016667   to the right, agree=0.604, adj=0.146, (0 split)
##       edr                 splits as  RLL, agree=0.592, adj=0.121, (0 split)
##       economic.status     splits as  LR, agree=0.571, adj=0.076, (0 split)
## 
## Node number 38: 148 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.3716216  P(node) =0.03071814
##     class counts:    55    93
##    probabilities: 0.372 0.628 
##   left son=76 (131 obs) right son=77 (17 obs)
##   Primary splits:
##       avg.cte.intensity       &lt; -1.19894   to the right, improve=1.4628880, (0 missing)
##       avg.unemp.rate          &lt; 4.916667   to the right, improve=1.4514640, (0 missing)
##       total.cte.courses.taken &lt; 0.5        to the right, improve=1.0287640, (0 missing)
##       avg.wages.pct.state     &lt; 0.6547439  to the right, improve=0.9082883, (0 missing)
##       Gender                  splits as  LR, improve=0.7634345, (0 missing)
##   Surrogate splits:
##       avg.unemp.rate      &lt; 3.45       to the right, agree=0.899, adj=0.118, (0 split)
##       avg.wages.pct.state &lt; 0.5859348  to the right, agree=0.892, adj=0.059, (0 split)
## 
## Node number 39: 742 observations
##   predicted class=No meaningful emp SW  expected loss=0.2304582  P(node) =0.1540058
##     class counts:   171   571
##    probabilities: 0.230 0.770 
## 
## Node number 40: 15 observations
##   predicted class=Meaningful emp SW     expected loss=0.2666667  P(node) =0.003113325
##     class counts:    11     4
##    probabilities: 0.733 0.267 
## 
## Node number 41: 57 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.3684211  P(node) =0.01183064
##     class counts:    21    36
##    probabilities: 0.368 0.632 
##   left son=82 (21 obs) right son=83 (36 obs)
##   Primary splits:
##       economic.status   splits as  RL, improve=1.6056810, (0 missing)
##       avg.unemp.rate    &lt; 5.8        to the left,  improve=1.4561940, (0 missing)
##       MCA.R             &lt; 2.5        to the right, improve=1.3298550, (6 missing)
##       avg.cte.intensity &lt; -0.5543366 to the left,  improve=1.2982100, (1 missing)
##       edr               splits as  RLL, improve=0.6561859, (0 missing)
##   Surrogate splits:
##       SpecialEdStatus    splits as  RL, agree=0.667, adj=0.095, (0 split)
##       RaceEthnicity      splits as  ---L-R, agree=0.649, adj=0.048, (0 split)
##       highest.cred.level splits as  R--L, agree=0.649, adj=0.048, (0 split)
##       avg.cte.intensity  &lt; -0.3204077 to the right, agree=0.649, adj=0.048, (0 split)
##       avg.unemp.rate     &lt; 7.083333   to the right, agree=0.649, adj=0.048, (0 split)
## 
## Node number 64: 11 observations
##   predicted class=Meaningful emp SW     expected loss=0.09090909  P(node) =0.002283105
##     class counts:    10     1
##    probabilities: 0.909 0.091 
## 
## Node number 65: 19 observations
##   predicted class=No meaningful emp SW  expected loss=0.4210526  P(node) =0.003943545
##     class counts:     8    11
##    probabilities: 0.421 0.579 
## 
## Node number 66: 417 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.4052758  P(node) =0.08655044
##     class counts:   169   248
##    probabilities: 0.405 0.595 
##   left son=132 (204 obs) right son=133 (213 obs)
##   Primary splits:
##       took.ACT                splits as  LR, improve=2.045646, (0 missing)
##       total.cte.courses.taken &lt; 6.5        to the right, improve=1.761869, (0 missing)
##       avg.wages.pct.state     &lt; 0.5999034  to the right, improve=1.621318, (0 missing)
##       MCA.M                   &lt; 2.5        to the left,  improve=1.568882, (4 missing)
##       avg.cte.intensity       &lt; -2.233748  to the left,  improve=1.359644, (0 missing)
##   Surrogate splits:
##       ps.grad.InstitutionSector &lt; 3.5        to the right, agree=0.722, adj=0.431, (0 split)
##       highest.cred.level        splits as  RRL-, agree=0.717, adj=0.422, (0 split)
##       SpecialEdStatus           splits as  RL, agree=0.640, adj=0.265, (0 split)
##       MCA.R                     &lt; 1.5        to the left,  agree=0.616, adj=0.216, (0 split)
##       MCA.M                     &lt; 1.5        to the left,  agree=0.607, adj=0.196, (0 split)
## 
## Node number 67: 654 observations
##   predicted class=No meaningful emp SW  expected loss=0.3272171  P(node) =0.135741
##     class counts:   214   440
##    probabilities: 0.327 0.673 
## 
## Node number 72: 31 observations
##   predicted class=Meaningful emp SW     expected loss=0.3548387  P(node) =0.006434205
##     class counts:    20    11
##    probabilities: 0.645 0.355 
## 
## Node number 73: 17 observations
##   predicted class=No meaningful emp SW  expected loss=0.3529412  P(node) =0.003528435
##     class counts:     6    11
##    probabilities: 0.353 0.647 
## 
## Node number 74: 181 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.3812155  P(node) =0.03756746
##     class counts:    69   112
##    probabilities: 0.381 0.619 
##   left son=148 (55 obs) right son=149 (126 obs)
##   Primary splits:
##       avg.cte.intensity         &lt; 0.4402051  to the left,  improve=2.5838960, (0 missing)
##       Gender                    splits as  RL, improve=2.2063240, (0 missing)
##       avg.unemp.rate            &lt; 6.216667   to the left,  improve=1.8401180, (0 missing)
##       ps.grad.InstitutionSector &lt; 3.5        to the right, improve=0.8456441, (0 missing)
##       MCA.M                     &lt; 2.5        to the right, improve=0.7291902, (4 missing)
##   Surrogate splits:
##       avg.wages.pct.state &lt; 0.7348592  to the right, agree=0.729, adj=0.109, (0 split)
## 
## Node number 75: 157 observations
##   predicted class=No meaningful emp SW  expected loss=0.2547771  P(node) =0.03258614
##     class counts:    40   117
##    probabilities: 0.255 0.745 
## 
## Node number 76: 131 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.3969466  P(node) =0.02718971
##     class counts:    52    79
##    probabilities: 0.397 0.603 
##   left son=152 (71 obs) right son=153 (60 obs)
##   Primary splits:
##       avg.cte.intensity       &lt; 1.254354   to the left,  improve=2.080938, (0 missing)
##       Gender                  splits as  LR, improve=1.533617, (0 missing)
##       total.cte.courses.taken &lt; 7.5        to the left,  improve=1.466164, (0 missing)
##       avg.wages.pct.state     &lt; 0.7339011  to the right, improve=1.377270, (0 missing)
##       pseo.participant        splits as  RL, improve=1.166265, (0 missing)
##   Surrogate splits:
##       total.cte.courses.taken &lt; 8.5        to the left,  agree=0.687, adj=0.317, (0 split)
##       avg.unemp.rate          &lt; 4.416667   to the right, agree=0.641, adj=0.217, (0 split)
##       RaceEthnicity           splits as  -R-R-L, agree=0.595, adj=0.117, (0 split)
##       avg.wages.pct.state     &lt; 0.6737468  to the right, agree=0.595, adj=0.117, (0 split)
##       Gender                  splits as  LR, agree=0.565, adj=0.050, (0 split)
## 
## Node number 77: 17 observations
##   predicted class=No meaningful emp SW  expected loss=0.1764706  P(node) =0.003528435
##     class counts:     3    14
##    probabilities: 0.176 0.824 
## 
## Node number 82: 21 observations,    complexity param=0.001618123
##   predicted class=Meaningful emp SW     expected loss=0.4761905  P(node) =0.004358655
##     class counts:    11    10
##    probabilities: 0.524 0.476 
##   left son=164 (8 obs) right son=165 (13 obs)
##   Primary splits:
##       total.cte.courses.taken &lt; 1.5        to the left,  improve=1.3223440, (0 missing)
##       MCA.M                   &lt; 1.5        to the right, improve=0.9090909, (1 missing)
##       cte.achievement         splits as  -RL, improve=0.6428571, (0 missing)
##       took.ACT                splits as  RL, improve=0.5852814, (0 missing)
##       avg.unemp.rate          &lt; 5.066667   to the left,  improve=0.1984127, (0 missing)
##   Surrogate splits:
##       cte.achievement     splits as  -RL, agree=0.762, adj=0.375, (0 split)
##       pseo.participant    splits as  RL, agree=0.714, adj=0.250, (0 split)
##       avg.unemp.rate      &lt; 4.216667   to the left,  agree=0.714, adj=0.250, (0 split)
##       avg.wages.pct.state &lt; 0.7097774  to the left,  agree=0.714, adj=0.250, (0 split)
##       Gender              splits as  LR, agree=0.667, adj=0.125, (0 split)
## 
## Node number 83: 36 observations
##   predicted class=No meaningful emp SW  expected loss=0.2777778  P(node) =0.00747198
##     class counts:    10    26
##    probabilities: 0.278 0.722 
## 
## Node number 132: 204 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.4558824  P(node) =0.04234122
##     class counts:    93   111
##    probabilities: 0.456 0.544 
##   left son=264 (175 obs) right son=265 (29 obs)
##   Primary splits:
##       avg.wages.pct.state       &lt; 0.6023052  to the right, improve=2.1911040, (0 missing)
##       MCA.M                     &lt; 2.5        to the left,  improve=1.5055590, (4 missing)
##       avg.cte.intensity         &lt; 2.696292   to the left,  improve=1.0281050, (0 missing)
##       total.cte.courses.taken   &lt; 6.5        to the right, improve=0.8589436, (0 missing)
##       ps.grad.InstitutionSector &lt; 2.5        to the right, improve=0.7138611, (0 missing)
##   Surrogate splits:
##       avg.cte.intensity &lt; 2.705342   to the left,  agree=0.877, adj=0.138, (0 split)
## 
## Node number 133: 213 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.3568075  P(node) =0.04420922
##     class counts:    76   137
##    probabilities: 0.357 0.643 
##   left son=266 (129 obs) right son=267 (84 obs)
##   Primary splits:
##       total.cte.courses.taken   &lt; 4.5        to the right, improve=1.402025, (0 missing)
##       Gender                    splits as  LR, improve=1.304602, (0 missing)
##       avg.cte.intensity         &lt; 1.139397   to the right, improve=1.144869, (0 missing)
##       economic.status           splits as  LR, improve=1.055273, (0 missing)
##       ps.grad.InstitutionSector &lt; 3.5        to the left,  improve=1.025473, (0 missing)
##   Surrogate splits:
##       avg.wages.pct.state &lt; 0.7792964  to the left,  agree=0.662, adj=0.143, (0 split)
##       avg.cte.intensity   &lt; 0.4162697  to the right, agree=0.648, adj=0.107, (0 split)
##       avg.unemp.rate      &lt; 3.816667   to the right, agree=0.629, adj=0.060, (0 split)
##       economic.status     splits as  LR, agree=0.624, adj=0.048, (0 split)
##       MCA.M               &lt; 3.5        to the left,  agree=0.615, adj=0.024, (0 split)
## 
## Node number 148: 55 observations,    complexity param=0.001618123
##   predicted class=Meaningful emp SW     expected loss=0.4909091  P(node) =0.01141553
##     class counts:    28    27
##    probabilities: 0.509 0.491 
##   left son=296 (35 obs) right son=297 (20 obs)
##   Primary splits:
##       Gender                  splits as  RL, improve=2.748052, (0 missing)
##       avg.unemp.rate          &lt; 5.316667   to the left,  improve=2.424242, (0 missing)
##       avg.cte.intensity       &lt; 0.1365858  to the right, improve=2.074242, (0 missing)
##       total.cte.courses.taken &lt; 9.5        to the left,  improve=1.274242, (0 missing)
##       avg.wages.pct.state     &lt; 0.7048179  to the left,  improve=1.096729, (0 missing)
##   Surrogate splits:
##       RaceEthnicity       splits as  -R-R-L, agree=0.673, adj=0.10, (0 split)
##       avg.unemp.rate      &lt; 5.666667   to the left,  agree=0.673, adj=0.10, (0 split)
##       avg.cte.intensity   &lt; -2.12035   to the right, agree=0.655, adj=0.05, (0 split)
##       avg.wages.pct.state &lt; 0.7818483  to the left,  agree=0.655, adj=0.05, (0 split)
## 
## Node number 149: 126 observations
##   predicted class=No meaningful emp SW  expected loss=0.3253968  P(node) =0.02615193
##     class counts:    41    85
##    probabilities: 0.325 0.675 
## 
## Node number 152: 71 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.4788732  P(node) =0.01473641
##     class counts:    34    37
##    probabilities: 0.479 0.521 
##   left son=304 (12 obs) right son=305 (59 obs)
##   Primary splits:
##       pseo.participant        splits as  RL, improve=3.6287100, (0 missing)
##       avg.unemp.rate          &lt; 4.866667   to the right, improve=1.5937630, (0 missing)
##       total.cte.courses.taken &lt; 7.5        to the left,  improve=1.5128910, (0 missing)
##       avg.wages.pct.state     &lt; 0.6974298  to the right, improve=1.1295590, (0 missing)
##       MCA.M                   &lt; 1.5        to the right, improve=0.8455544, (1 missing)
##   Surrogate splits:
##       avg.cte.intensity &lt; 1.195289   to the right, agree=0.859, adj=0.167, (0 split)
## 
## Node number 153: 60 observations
##   predicted class=No meaningful emp SW  expected loss=0.3  P(node) =0.0124533
##     class counts:    18    42
##    probabilities: 0.300 0.700 
## 
## Node number 164: 8 observations
##   predicted class=Meaningful emp SW     expected loss=0.25  P(node) =0.00166044
##     class counts:     6     2
##    probabilities: 0.750 0.250 
## 
## Node number 165: 13 observations
##   predicted class=No meaningful emp SW  expected loss=0.3846154  P(node) =0.002698215
##     class counts:     5     8
##    probabilities: 0.385 0.615 
## 
## Node number 264: 175 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.4857143  P(node) =0.03632213
##     class counts:    85    90
##    probabilities: 0.486 0.514 
##   left son=528 (157 obs) right son=529 (18 obs)
##   Primary splits:
##       avg.wages.pct.state       &lt; 0.7792964  to the left,  improve=1.7350120, (0 missing)
##       avg.cte.intensity         &lt; 1.841712   to the right, improve=1.1780380, (0 missing)
##       MCA.M                     &lt; 1.5        to the right, improve=1.0659290, (3 missing)
##       ps.grad.InstitutionSector &lt; 2.5        to the right, improve=0.8901099, (0 missing)
##       total.cte.courses.taken   &lt; 6.5        to the right, improve=0.6611722, (0 missing)
##   Surrogate splits:
##       avg.unemp.rate &lt; 6.55       to the left,  agree=0.92, adj=0.222, (0 split)
## 
## Node number 265: 29 observations
##   predicted class=No meaningful emp SW  expected loss=0.2758621  P(node) =0.006019095
##     class counts:     8    21
##    probabilities: 0.276 0.724 
## 
## Node number 266: 129 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.4031008  P(node) =0.0267746
##     class counts:    52    77
##    probabilities: 0.403 0.597 
##   left son=532 (28 obs) right son=533 (101 obs)
##   Primary splits:
##       avg.unemp.rate            &lt; 4.35       to the left,  improve=2.026600, (0 missing)
##       Gender                    splits as  LR, improve=1.858341, (0 missing)
##       avg.cte.intensity         &lt; 1.133611   to the right, improve=1.821010, (0 missing)
##       pseo.participant          splits as  RL, improve=1.377998, (0 missing)
##       ps.grad.InstitutionSector &lt; 3.5        to the left,  improve=0.904186, (0 missing)
## 
## Node number 267: 84 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.2857143  P(node) =0.01743462
##     class counts:    24    60
##    probabilities: 0.286 0.714 
##   left son=534 (8 obs) right son=535 (76 obs)
##   Primary splits:
##       avg.cte.intensity   &lt; -2.045139  to the left,  improve=2.0357140, (0 missing)
##       economic.status     splits as  LR, improve=1.7142860, (0 missing)
##       avg.unemp.rate      &lt; 3.816667   to the right, improve=1.4436090, (0 missing)
##       avg.wages.pct.state &lt; 0.7183527  to the right, improve=1.3412700, (0 missing)
##       highest.cred.level  splits as  RRL-, improve=0.6857143, (0 missing)
## 
## Node number 296: 35 observations
##   predicted class=Meaningful emp SW     expected loss=0.3714286  P(node) =0.007264425
##     class counts:    22    13
##    probabilities: 0.629 0.371 
## 
## Node number 297: 20 observations
##   predicted class=No meaningful emp SW  expected loss=0.3  P(node) =0.0041511
##     class counts:     6    14
##    probabilities: 0.300 0.700 
## 
## Node number 304: 12 observations
##   predicted class=Meaningful emp SW     expected loss=0.1666667  P(node) =0.00249066
##     class counts:    10     2
##    probabilities: 0.833 0.167 
## 
## Node number 305: 59 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.4067797  P(node) =0.01224575
##     class counts:    24    35
##    probabilities: 0.407 0.593 
##   left son=610 (37 obs) right son=611 (22 obs)
##   Primary splits:
##       MCA.M                     &lt; 1.5        to the right, improve=2.0323970, (1 missing)
##       ps.grad.InstitutionSector &lt; 3.5        to the right, improve=1.7645490, (0 missing)
##       avg.wages.pct.state       &lt; 0.7192246  to the right, improve=1.5018490, (0 missing)
##       avg.unemp.rate            &lt; 5.25       to the left,  improve=1.1561550, (0 missing)
##       total.cte.courses.taken   &lt; 7.5        to the left,  improve=0.7405337, (0 missing)
##   Surrogate splits:
##       Gender                  splits as  RL, agree=0.724, adj=0.238, (1 split)
##       avg.unemp.rate          &lt; 6.55       to the left,  agree=0.690, adj=0.143, (0 split)
##       total.cte.courses.taken &lt; 5.5        to the left,  agree=0.655, adj=0.048, (0 split)
## 
## Node number 528: 157 observations,    complexity param=0.001618123
##   predicted class=Meaningful emp SW     expected loss=0.4904459  P(node) =0.03258614
##     class counts:    80    77
##    probabilities: 0.510 0.490 
##   left son=1056 (23 obs) right son=1057 (134 obs)
##   Primary splits:
##       avg.cte.intensity         &lt; -1.254956  to the left,  improve=1.0962560, (0 missing)
##       MCA.R                     &lt; 1.5        to the right, improve=0.8382820, (4 missing)
##       ps.grad.InstitutionSector &lt; 2.5        to the right, improve=0.8069698, (0 missing)
##       avg.wages.pct.state       &lt; 0.6396742  to the left,  improve=0.7209174, (0 missing)
##       total.cte.courses.taken   &lt; 13.5       to the left,  improve=0.7140948, (0 missing)
##   Surrogate splits:
##       avg.wages.pct.state &lt; 0.7339011  to the right, agree=0.892, adj=0.261, (0 split)
## 
## Node number 529: 18 observations
##   predicted class=No meaningful emp SW  expected loss=0.2777778  P(node) =0.00373599
##     class counts:     5    13
##    probabilities: 0.278 0.722 
## 
## Node number 532: 28 observations,    complexity param=0.001618123
##   predicted class=Meaningful emp SW     expected loss=0.4285714  P(node) =0.00581154
##     class counts:    16    12
##    probabilities: 0.571 0.429 
##   left son=1064 (16 obs) right son=1065 (12 obs)
##   Primary splits:
##       Gender                  splits as  LR, improve=1.0059520, (0 missing)
##       avg.cte.intensity       &lt; 0.6891888  to the right, improve=1.0059520, (0 missing)
##       avg.wages.pct.state     &lt; 0.6388983  to the right, improve=0.8642857, (0 missing)
##       total.cte.courses.taken &lt; 8.5        to the left,  improve=0.7091575, (0 missing)
##       edr                     splits as  -RL, improve=0.3809524, (0 missing)
##   Surrogate splits:
##       MCA.M                   &lt; 1.5        to the left,  agree=0.857, adj=0.667, (0 split)
##       avg.cte.intensity       &lt; 0.1355409  to the right, agree=0.679, adj=0.250, (0 split)
##       avg.unemp.rate          &lt; 4.066667   to the left,  agree=0.679, adj=0.250, (0 split)
##       highest.cred.level      splits as  RLL-, agree=0.607, adj=0.083, (0 split)
##       total.cte.courses.taken &lt; 8.5        to the left,  agree=0.607, adj=0.083, (0 split)
## 
## Node number 533: 101 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.3564356  P(node) =0.02096306
##     class counts:    36    65
##    probabilities: 0.356 0.644 
##   left son=1066 (17 obs) right son=1067 (84 obs)
##   Primary splits:
##       pseo.participant          splits as  RL, improve=2.1965780, (0 missing)
##       avg.cte.intensity         &lt; 1.133611   to the right, improve=1.4359240, (0 missing)
##       total.cte.courses.taken   &lt; 13.5       to the right, improve=0.9887316, (0 missing)
##       ps.grad.InstitutionSector &lt; 3.5        to the left,  improve=0.9208234, (0 missing)
##       highest.cred.level        splits as  LLR-, improve=0.8777296, (0 missing)
##   Surrogate splits:
##       avg.cte.intensity &lt; 2.764464   to the right, agree=0.871, adj=0.235, (0 split)
## 
## Node number 534: 8 observations
##   predicted class=Meaningful emp SW     expected loss=0.375  P(node) =0.00166044
##     class counts:     5     3
##    probabilities: 0.625 0.375 
## 
## Node number 535: 76 observations
##   predicted class=No meaningful emp SW  expected loss=0.25  P(node) =0.01577418
##     class counts:    19    57
##    probabilities: 0.250 0.750 
## 
## Node number 610: 37 observations,    complexity param=0.001618123
##   predicted class=Meaningful emp SW     expected loss=0.4864865  P(node) =0.007679535
##     class counts:    19    18
##    probabilities: 0.514 0.486 
##   left son=1220 (8 obs) right son=1221 (29 obs)
##   Primary splits:
##       avg.wages.pct.state     &lt; 0.7339011  to the right, improve=2.6675210, (0 missing)
##       economic.status         splits as  LR, improve=1.2494490, (0 missing)
##       avg.cte.intensity       &lt; 0.09376571 to the right, improve=1.0817250, (0 missing)
##       total.cte.courses.taken &lt; 7.5        to the left,  improve=0.8960103, (0 missing)
##       avg.unemp.rate          &lt; 5.466667   to the left,  improve=0.8960103, (0 missing)
##   Surrogate splits:
##       avg.cte.intensity &lt; -0.995366  to the left,  agree=0.838, adj=0.25, (0 split)
##       avg.unemp.rate    &lt; 6.55       to the right, agree=0.838, adj=0.25, (0 split)
## 
## Node number 611: 22 observations
##   predicted class=No meaningful emp SW  expected loss=0.2272727  P(node) =0.00456621
##     class counts:     5    17
##    probabilities: 0.227 0.773 
## 
## Node number 1056: 23 observations
##   predicted class=Meaningful emp SW     expected loss=0.3478261  P(node) =0.004773765
##     class counts:    15     8
##    probabilities: 0.652 0.348 
## 
## Node number 1057: 134 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.4850746  P(node) =0.02781237
##     class counts:    65    69
##    probabilities: 0.485 0.515 
##   left son=2114 (16 obs) right son=2115 (118 obs)
##   Primary splits:
##       avg.wages.pct.state       &lt; 0.6396742  to the left,  improve=1.4890270, (0 missing)
##       avg.cte.intensity         &lt; 1.841712   to the right, improve=1.2817330, (0 missing)
##       total.cte.courses.taken   &lt; 2.5        to the right, improve=1.0807270, (0 missing)
##       avg.unemp.rate            &lt; 6.216667   to the right, improve=0.7760690, (0 missing)
##       ps.grad.InstitutionSector &lt; 2.5        to the right, improve=0.7402985, (0 missing)
## 
## Node number 1064: 16 observations
##   predicted class=Meaningful emp SW     expected loss=0.3125  P(node) =0.00332088
##     class counts:    11     5
##    probabilities: 0.688 0.312 
## 
## Node number 1065: 12 observations
##   predicted class=No meaningful emp SW  expected loss=0.4166667  P(node) =0.00249066
##     class counts:     5     7
##    probabilities: 0.417 0.583 
## 
## Node number 1066: 17 observations
##   predicted class=Meaningful emp SW     expected loss=0.4117647  P(node) =0.003528435
##     class counts:    10     7
##    probabilities: 0.588 0.412 
## 
## Node number 1067: 84 observations
##   predicted class=No meaningful emp SW  expected loss=0.3095238  P(node) =0.01743462
##     class counts:    26    58
##    probabilities: 0.310 0.690 
## 
## Node number 1220: 8 observations
##   predicted class=Meaningful emp SW     expected loss=0.125  P(node) =0.00166044
##     class counts:     7     1
##    probabilities: 0.875 0.125 
## 
## Node number 1221: 29 observations
##   predicted class=No meaningful emp SW  expected loss=0.4137931  P(node) =0.006019095
##     class counts:    12    17
##    probabilities: 0.414 0.586 
## 
## Node number 2114: 16 observations
##   predicted class=Meaningful emp SW     expected loss=0.3125  P(node) =0.00332088
##     class counts:    11     5
##    probabilities: 0.688 0.312 
## 
## Node number 2115: 118 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.4576271  P(node) =0.02449149
##     class counts:    54    64
##    probabilities: 0.458 0.542 
##   left son=4230 (103 obs) right son=4231 (15 obs)
##   Primary splits:
##       avg.wages.pct.state     &lt; 0.6534947  to the right, improve=2.2811260, (0 missing)
##       edr                     splits as  LLR, improve=1.3002980, (0 missing)
##       total.cte.courses.taken &lt; 2.5        to the right, improve=1.0798390, (0 missing)
##       avg.unemp.rate          &lt; 6.216667   to the right, improve=0.9803896, (0 missing)
##       avg.cte.intensity       &lt; -0.6168405 to the right, improve=0.8294573, (0 missing)
##   Surrogate splits:
##       avg.unemp.rate &lt; 3.45       to the right, agree=0.907, adj=0.267, (0 split)
## 
## Node number 4230: 103 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.4951456  P(node) =0.02137817
##     class counts:    51    52
##    probabilities: 0.495 0.505 
##   left son=8460 (94 obs) right son=8461 (9 obs)
##   Primary splits:
##       ps.grad.InstitutionSector &lt; 2.5        to the right, improve=1.4691410, (0 missing)
##       total.cte.courses.taken   &lt; 2.5        to the right, improve=1.0425140, (0 missing)
##       avg.cte.intensity         &lt; -0.7998252 to the right, improve=1.0425140, (0 missing)
##       avg.unemp.rate            &lt; 6.216667   to the right, improve=0.7213361, (0 missing)
##       avg.wages.pct.state       &lt; 0.7339011  to the left,  improve=0.6588361, (0 missing)
##   Surrogate splits:
##       highest.cred.level splits as  LRL-, agree=0.932, adj=0.222, (0 split)
##       pseo.participant   splits as  LR,   agree=0.922, adj=0.111, (0 split)
## 
## Node number 4231: 15 observations
##   predicted class=No meaningful emp SW  expected loss=0.2  P(node) =0.003113325
##     class counts:     3    12
##    probabilities: 0.200 0.800 
## 
## Node number 8460: 94 observations,    complexity param=0.001618123
##   predicted class=Meaningful emp SW     expected loss=0.4787234  P(node) =0.01951017
##     class counts:    49    45
##    probabilities: 0.521 0.479 
##   left son=16920 (86 obs) right son=16921 (8 obs)
##   Primary splits:
##       avg.cte.intensity   &lt; -0.7998252 to the right, improve=1.2869870, (0 missing)
##       avg.wages.pct.state &lt; 0.7339011  to the left,  improve=0.8393600, (0 missing)
##       MCA.R               &lt; 1.5        to the right, improve=0.7355296, (2 missing)
##       edr                 splits as  LRR, improve=0.6560031, (0 missing)
##       avg.unemp.rate      &lt; 6.216667   to the right, improve=0.5634979, (0 missing)
##   Surrogate splits:
##       avg.wages.pct.state &lt; 0.6547439  to the right, agree=0.936, adj=0.25, (0 split)
## 
## Node number 8461: 9 observations
##   predicted class=No meaningful emp SW  expected loss=0.2222222  P(node) =0.001867995
##     class counts:     2     7
##    probabilities: 0.222 0.778 
## 
## Node number 16920: 86 observations,    complexity param=0.001618123
##   predicted class=Meaningful emp SW     expected loss=0.4534884  P(node) =0.01784973
##     class counts:    47    39
##    probabilities: 0.547 0.453 
##   left son=33840 (36 obs) right son=33841 (50 obs)
##   Primary splits:
##       edr                 splits as  LRR, improve=0.5167959, (0 missing)
##       avg.unemp.rate      &lt; 6.216667   to the right, improve=0.4289920, (0 missing)
##       MCA.R               &lt; 1.5        to the right, improve=0.3852315, (1 missing)
##       SpecialEdStatus     splits as  RL, improve=0.3052469, (0 missing)
##       avg.wages.pct.state &lt; 0.6859187  to the left,  improve=0.3052469, (0 missing)
##   Surrogate splits:
##       avg.unemp.rate          &lt; 5.283333   to the right, agree=0.872, adj=0.694, (0 split)
##       avg.wages.pct.state     &lt; 0.7048179  to the right, agree=0.802, adj=0.528, (0 split)
##       avg.cte.intensity       &lt; 0.4162697  to the right, agree=0.709, adj=0.306, (0 split)
##       total.cte.courses.taken &lt; 9.5        to the right, agree=0.686, adj=0.250, (0 split)
##       economic.status         splits as  LR, agree=0.593, adj=0.028, (0 split)
## 
## Node number 16921: 8 observations
##   predicted class=No meaningful emp SW  expected loss=0.25  P(node) =0.00166044
##     class counts:     2     6
##    probabilities: 0.250 0.750 
## 
## Node number 33840: 36 observations,    complexity param=0.001618123
##   predicted class=Meaningful emp SW     expected loss=0.3888889  P(node) =0.00747198
##     class counts:    22    14
##    probabilities: 0.611 0.389 
##   left son=67680 (18 obs) right son=67681 (18 obs)
##   Primary splits:
##       MCA.R                   &lt; 1.5        to the right, improve=2.0000000, (0 missing)
##       total.cte.courses.taken &lt; 13.5       to the left,  improve=1.1468250, (0 missing)
##       avg.cte.intensity       &lt; 0.9588073  to the left,  improve=0.4274747, (0 missing)
##       highest.cred.level      splits as  L-R-, improve=0.3968254, (0 missing)
##       SpecialEdStatus         splits as  RL, improve=0.1850027, (0 missing)
##   Surrogate splits:
##       avg.unemp.rate          &lt; 5.316667   to the left,  agree=0.611, adj=0.222, (0 split)
##       avg.wages.pct.state     &lt; 0.7192246  to the left,  agree=0.611, adj=0.222, (0 split)
##       SpecialEdStatus         splits as  LR, agree=0.583, adj=0.167, (0 split)
##       total.cte.courses.taken &lt; 18.5       to the right, agree=0.583, adj=0.167, (0 split)
##       avg.cte.intensity       &lt; 0.290439   to the left,  agree=0.583, adj=0.167, (0 split)
## 
## Node number 33841: 50 observations,    complexity param=0.001618123
##   predicted class=Meaningful emp SW     expected loss=0.5  P(node) =0.01037775
##     class counts:    25    25
##    probabilities: 0.500 0.500 
##   left son=67682 (31 obs) right son=67683 (19 obs)
##   Primary splits:
##       total.cte.courses.taken &lt; 7.5        to the left,  improve=1.0611210, (0 missing)
##       avg.wages.pct.state     &lt; 0.676556   to the left,  improve=0.4010695, (0 missing)
##       SpecialEdStatus         splits as  RL, improve=0.3694581, (0 missing)
##       avg.unemp.rate          &lt; 5.233333   to the right, improve=0.2500000, (0 missing)
##       Gender                  splits as  LR, improve=0.2192982, (0 missing)
##   Surrogate splits:
##       avg.cte.intensity   &lt; 0.5977098  to the left,  agree=0.80, adj=0.474, (0 split)
##       avg.unemp.rate      &lt; 5.666667   to the left,  agree=0.66, adj=0.105, (0 split)
##       avg.wages.pct.state &lt; 0.6630404  to the right, agree=0.66, adj=0.105, (0 split)
## 
## Node number 67680: 18 observations
##   predicted class=Meaningful emp SW     expected loss=0.2222222  P(node) =0.00373599
##     class counts:    14     4
##    probabilities: 0.778 0.222 
## 
## Node number 67681: 18 observations
##   predicted class=No meaningful emp SW  expected loss=0.4444444  P(node) =0.00373599
##     class counts:     8    10
##    probabilities: 0.444 0.556 
## 
## Node number 67682: 31 observations,    complexity param=0.001618123
##   predicted class=Meaningful emp SW     expected loss=0.4193548  P(node) =0.006434205
##     class counts:    18    13
##    probabilities: 0.581 0.419 
##   left son=135364 (8 obs) right son=135365 (23 obs)
##   Primary splits:
##       total.cte.courses.taken &lt; 6.5        to the right, improve=1.8685130, (0 missing)
##       Gender                  splits as  LR, improve=0.9856631, (0 missing)
##       avg.wages.pct.state     &lt; 0.676556   to the left,  improve=0.4205837, (0 missing)
##       avg.cte.intensity       &lt; 0.2000262  to the left,  improve=0.3320683, (0 missing)
##       MCA.R                   &lt; 1.5        to the right, improve=0.3320683, (0 missing)
##   Surrogate splits:
##       avg.unemp.rate      &lt; 5.433333   to the right, agree=0.806, adj=0.250, (0 split)
##       avg.wages.pct.state &lt; 0.6625488  to the left,  agree=0.806, adj=0.250, (0 split)
##       avg.cte.intensity   &lt; -0.3734913 to the left,  agree=0.774, adj=0.125, (0 split)
## 
## Node number 67683: 19 observations
##   predicted class=No meaningful emp SW  expected loss=0.3684211  P(node) =0.003943545
##     class counts:     7    12
##    probabilities: 0.368 0.632 
## 
## Node number 135364: 8 observations
##   predicted class=Meaningful emp SW     expected loss=0.125  P(node) =0.00166044
##     class counts:     7     1
##    probabilities: 0.875 0.125 
## 
## Node number 135365: 23 observations,    complexity param=0.001618123
##   predicted class=No meaningful emp SW  expected loss=0.4782609  P(node) =0.004773765
##     class counts:    11    12
##    probabilities: 0.478 0.522 
##   left son=270730 (8 obs) right son=270731 (15 obs)
##   Primary splits:
##       Gender              splits as  LR, improve=1.8115940, (0 missing)
##       MCA.R               &lt; 1.5        to the right, improve=1.2782610, (0 missing)
##       avg.unemp.rate      &lt; 3.716667   to the left,  improve=1.1211180, (0 missing)
##       avg.wages.pct.state &lt; 0.676556   to the left,  improve=1.1211180, (0 missing)
##       highest.cred.level  splits as  L-R-, improve=0.5282609, (0 missing)
##   Surrogate splits:
##       avg.wages.pct.state &lt; 0.6887457  to the left,  agree=0.783, adj=0.375, (0 split)
##       avg.cte.intensity   &lt; 1.624113   to the right, agree=0.739, adj=0.250, (0 split)
##       edr                 splits as  -RL, agree=0.696, adj=0.125, (0 split)
##       MCA.R               &lt; 1.5        to the right, agree=0.696, adj=0.125, (0 split)
##       avg.unemp.rate      &lt; 3.716667   to the left,  agree=0.696, adj=0.125, (0 split)
## 
## Node number 270730: 8 observations
##   predicted class=Meaningful emp SW     expected loss=0.25  P(node) =0.00166044
##     class counts:     6     2
##    probabilities: 0.750 0.250 
## 
## Node number 270731: 15 observations
##   predicted class=No meaningful emp SW  expected loss=0.3333333  P(node) =0.003113325
##     class counts:     5    10
##    probabilities: 0.333 0.667</code></pre>
<pre class="r"><code>#Plot tree
rpart.plot(meaningful.emp.sw.grad.year.10.model.postprune)</code></pre>
<p><img src="analysis_local_employment_cart_files/figure-html/postpruning%20meaningful%20emp%20SW%20grad%20year%2010-1.png" width="672" /></p>
<pre class="r"><code># Examine the complexity plot
printcp(meaningful.emp.sw.grad.year.10.model.postprune)</code></pre>
<pre><code>## 
## Classification tree:
## rpart(formula = grad.year.10 ~ ., data = train, method = &quot;class&quot;, 
##     cp = 0)
## 
## Variables actually used in tree construction:
##  [1] avg.cte.intensity         avg.unemp.rate           
##  [3] avg.wages.pct.state       cte.achievement          
##  [5] economic.status           edr                      
##  [7] Gender                    highest.cred.level       
##  [9] MCA.M                     MCA.R                    
## [11] ps.grad.InstitutionSector pseo.participant         
## [13] RaceEthnicity             took.ACT                 
## [15] total.cte.courses.taken  
## 
## Root node error: 1236/4818 = 0.25654
## 
## n= 4818 
## 
##          CP nsplit rel error xerror     xstd
## 1 0.0016181      0   1.00000 1.0000 0.024526
## 2 0.0013484     44   0.91909 1.0477 0.024897</code></pre>
<pre class="r"><code>plotcp(meaningful.emp.sw.grad.year.10.model.postprune)</code></pre>
<p><img src="analysis_local_employment_cart_files/figure-html/postpruning%20meaningful%20emp%20SW%20grad%20year%2010-2.png" width="672" /></p>
<pre class="r"><code># Compute the accuracy of the pruned tree

test$pred &lt;- predict(meaningful.emp.sw.grad.year.10.model.postprune, test, type = &quot;class&quot;)

accuracy_postprun &lt;- mean(test$pred == test$grad.year.10)

accuracy_postprun</code></pre>
<pre><code>## [1] 0.7452785</code></pre>
<p><br></p>
<p>We still end up with a highly complex tree that is difficult to
interpret. Let’s check to see what variables are considered
important.</p>
<p>This model tells me that the MCA reading test, the CTE coursework,
the highest credential earned and the average wages play an important
role.</p>
<p><br></p>
<pre class="r"><code>meaningful.emp.sw.grad.year.10.model.postprune$variable.importance</code></pre>
<pre><code>##                              MCA.R                  avg.cte.intensity 
##                          38.286920                          31.335513 
##                 highest.cred.level                avg.wages.pct.state 
##                          16.878097                          15.946533 
##            total.cte.courses.taken                    cte.achievement 
##                          14.610469                          14.557123 
##                              MCA.M                     avg.unemp.rate 
##                          13.985674                          12.847621 
##                           took.ACT                             Gender 
##                          10.178321                           9.637503 
##                      RaceEthnicity          ps.grad.InstitutionSector 
##                           9.510691                           7.344185 
##                   pseo.participant                    SpecialEdStatus 
##                           6.430734                           2.970645 
##                    economic.status LimitedEnglishProficiencyIndicator 
##                           1.892261                           1.400728 
##                                edr 
##                           1.068560</code></pre>
<p><br></p>
<p>Now let’s compare the accuracy.</p>
<pre class="r"><code>data.frame(base_accuracy, accuracy_preprun, accuracy_postprun)</code></pre>
<pre><code>##   base_accuracy accuracy_preprun accuracy_postprun
## 1      0.696368        0.7491525         0.7452785</code></pre>
</div>
<div id="section-summary-2" class="section level3">
<h3>Summary</h3>
<p>Overall, the variables that were the most consistently important
throughout the analysis were the following;</p>
<ul>
<li>The average CTE intensity</li>
<li>MCA - reading</li>
<li>Average wages as a percent of state average</li>
<li>Total CTE courses taken</li>
<li>Highest credentials earned.</li>
</ul>
<p><br></p>
</div>
</div>
<div id="section-summary-across-time" class="section level2">
<h2>Summary across time</h2>
<ul>
<li>1 year after graduation
<ul>
<li>Took the ACT</li>
<li>CTE coursework</li>
<li>Special education status</li>
<li>MCA - reading score</li>
<li>Average wages as a percent of state average</li>
</ul></li>
<li>5 years after graduation
<ul>
<li>Post-secondary institution</li>
<li>Highest credentials earned</li>
<li>CTE coursework</li>
<li>High school county economics</li>
</ul></li>
<li>10 years after graduation
<ul>
<li>CTE coursework</li>
<li>MCA - reading score</li>
<li>Average wages as a percent of state average</li>
<li>Highest credentials earned</li>
</ul></li>
</ul>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("section-TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#section-TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
