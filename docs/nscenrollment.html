<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>National Student Clearinghouse - enrollment</title>

<script src="site_libs/header-attrs-2.14/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#section-TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#section-TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="section-TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">CTE impacts on migration trends in SW Minnesota</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Summary of results</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-gear"></span>
     
    Data prep and summaries
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="k12enrollment.html">K12Enrollment</a>
    </li>
    <li>
      <a href="k12orgs.html">K12Orgs</a>
    </li>
    <li>
      <a href="act.html">ACT</a>
    </li>
    <li>
      <a href="ap.html">AP</a>
    </li>
    <li>
      <a href="cteenrollment.html">CTEEnrollment</a>
    </li>
    <li>
      <a href="ctedemographics.html">CTEDemographics</a>
    </li>
    <li>
      <a href="cteintensity.html">CTEIntensity</a>
    </li>
    <li>
      <a href="assessments.html">Assessments</a>
    </li>
    <li>
      <a href="sat.html">SAT</a>
    </li>
    <li>
      <a href="nscenrollment.html">National Student Clearinghouse - enrollment</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="section-header">



<h1 class="title toc-ignore">National Student Clearinghouse -
enrollment</h1>

</div>


<p><br></p>
<div id="section-data-prep---nsc-enrollment" class="section level1">
<h1>Data prep - NSC enrollment</h1>
<p>Okay, lets check out the National Student Clearinghouse enrollment
data.</p>
<p><br></p>
<pre><code>## # A tibble: 6 × 7
##   PersonID EnrollmentBeginTimeID EnrollmentEndTi…¹ OPEID Insti…² Enrol…³ OPEID.6
##      &lt;int&gt;                 &lt;dbl&gt;             &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  
## 1       68              20070820          20071214 0025… Grace … L       002547 
## 2       68              20080827          20081218 0023… Univer… F       002371 
## 3       68              20090112          20090514 0023… Univer… F       002371 
## 4       68              20090909          20091216 0034… Univer… F       003469 
## 5       68              20110309          20110524 0125… Metrop… F       012586 
## 6       68              20110606          20110815 0125… Metrop… F       012586 
## # … with abbreviated variable names ¹​EnrollmentEndTimeID, ²​InstitutionName,
## #   ³​EnrollmentStatus</code></pre>
<pre><code>## [1] &quot;PersonID&quot;              &quot;EnrollmentBeginTimeID&quot; &quot;EnrollmentEndTimeID&quot;  
## [4] &quot;OPEID&quot;                 &quot;InstitutionName&quot;       &quot;EnrollmentStatus&quot;     
## [7] &quot;OPEID.6&quot;</code></pre>
<p><br></p>
<p>The dataset has 276,249 rows and 7 columns. Here are the columns and
their definitions.</p>
<ul>
<li>EnrollmentBeginTimeID: Begin date for the student’s period of
attendance.</li>
<li>EnrollmentEndTimeID: End date for the student’s period of
attendance.</li>
<li>OPEID: Office of Postsecondary Education (OPE)/FICE code of the
college that the student attended (Foreign Key to
IPEDSCharacteristics).</li>
<li>InstitutionName: Name of institution</li>
<li>EnrollmentStatus: The last enrollment status reported for the
student. This field will have ‘N/A’ or “NULL” if the reporting college
has not defined the student’s enrollment status as directory
information. Here are the code definitions;
<ul>
<li>F: Full-time</li>
<li>Q: Three-quarter time</li>
<li>H: Half-time</li>
<li>L: Less than half-time</li>
<li>A: Leave of absence</li>
<li>W: Withdrawn</li>
<li>D: Deceased</li>
</ul></li>
</ul>
<p>Essentially, this dataset provides semester-based information - each
observation is a semester/single period with the institutional
information and beginning and end time of that single period (usually a
semester). For example, if an individual attended South Dakota State
University, attended in a “typical” fashion (fall and spring semesters),
and graduated in 4 years, there would be 8 observations for that
PersonID - one observation per semester.</p>
<p>There are a few pieces of information that I want to consolidate from
this dataset;</p>
<ol style="list-style-type: decimal">
<li>Did the PersonID in the master dataset attend a college - yes or
no?</li>
<li>Did the PersonID attend college during high school (PSEO),
immediately after graduation or wait?</li>
<li>How many months did they attend college?</li>
<li>Did the PersonID attend multiple colleges - yes or no?</li>
<li>Did the PersonID attend a public, private not-for-profit, or private
for-profit college(s)?</li>
<li>Did the PersonID attend a 2-year institution - yes or no?</li>
<li>Did the PersonID attend a 4-year institution - yes or no?</li>
<li>At any point during their college career, did the PersonID attend a
college(s) inside or outside of the Southwest Region or outside the EDR
of their high school?</li>
</ol>
<p>The pieces of information missing in the original dataset is location
and type of institution attended.To do this we will need to join the
original dataset with an IPEDS dataset using opeid.</p>
<p>The IPEDS data and the NSC data will only match using the first 6
digits of the IPEDS OPEID values. So I will change that in the NSC data.
Then I can join.</p>
<p><br></p>
<pre><code>## # A tibble: 6 × 14
##   Perso…¹ Enrol…² Enrol…³ OPEID Insti…⁴ Enrol…⁵ OPEID.6 Unitid City  State  FIPS
##     &lt;int&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;   &lt;fct&gt;   &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;
## 1      68  2.01e7  2.01e7 0025… Grace … L       002547  181093 Omaha NE       31
## 2      68  2.01e7  2.01e7 0023… Univer… F       002371  174491 Sain… MN       27
## 3      68  2.01e7  2.01e7 0023… Univer… F       002371  174491 Sain… MN       27
## 4      68  2.01e7  2.01e7 0034… Univer… F       003469  219383 Siou… SD       46
## 5      68  2.01e7  2.01e7 0125… Metrop… F       012586  181303 Omaha NE       31
## 6      68  2.01e7  2.01e7 0125… Metrop… F       012586  181303 Omaha NE       31
## # … with 3 more variables: GeographicRegion &lt;dbl&gt;, CountyCode &lt;chr&gt;,
## #   InstitutionSector &lt;dbl&gt;, and abbreviated variable names ¹​PersonID,
## #   ²​EnrollmentBeginTimeID, ³​EnrollmentEndTimeID, ⁴​InstitutionName,
## #   ⁵​EnrollmentStatus</code></pre>
<pre><code>##  [1] &quot;PersonID&quot;              &quot;EnrollmentBeginTimeID&quot; &quot;EnrollmentEndTimeID&quot;  
##  [4] &quot;OPEID&quot;                 &quot;InstitutionName&quot;       &quot;EnrollmentStatus&quot;     
##  [7] &quot;OPEID.6&quot;               &quot;Unitid&quot;                &quot;City&quot;                 
## [10] &quot;State&quot;                 &quot;FIPS&quot;                  &quot;GeographicRegion&quot;     
## [13] &quot;CountyCode&quot;            &quot;InstitutionSector&quot;</code></pre>
<p><br></p>
<p>After joining these we now have 276,238 rows and 14 columns. This is
a few less than the original enrollment document due to a few OPEIDs not
aligning. But overall, the data now has the institution sector that the
individual attended as well as location.</p>
<p>First, we will create a dataset with a column confirming their
post-secondary attendance for each unique PersonID in the
nsc.enrollment.ipeds.</p>
<p><br></p>
<pre><code>## # A tibble: 6 × 2
##   PersonID attended.ps
##      &lt;int&gt; &lt;chr&gt;      
## 1       68 Yes        
## 2      161 Yes        
## 3      676 Yes        
## 4      758 Yes        
## 5      786 Yes        
## 6     1698 Yes</code></pre>
<pre><code>## [1] &quot;PersonID&quot;    &quot;attended.ps&quot;</code></pre>
<p><br></p>
<p>There are 35,056 rows and 2 columns in the dataset. The columns
provide the unique PersonID along with a newly created column confirming
that they attended post-secondary education.</p>
<p>Next we will extract the first month and year each PersonID attended
a post-secondary institution.</p>
<p><br></p>
<pre><code>## # A tibble: 6 × 2
##   PersonID first.attend.ps
##      &lt;int&gt; &lt;chr&gt;          
## 1       68 20070820       
## 2      161 20090908       
## 3      676 20090113       
## 4      758 20070827       
## 5      786 20100823       
## 6     1698 20070904</code></pre>
<pre><code>## [1] &quot;PersonID&quot;        &quot;first.attend.ps&quot;</code></pre>
<p><br></p>
<p>This dataset has 35,056 rows and 2 columns. Essentially, this datset
provides each unique PersonID with the earliest begin time for
post-secondary education.</p>
<p>Now we will extract the number of total months that each PersonID
attended a post-secondary institution.</p>
<p><br></p>
<pre><code>## # A tibble: 6 × 2
##   PersonID n.days.attend.ps
##      &lt;int&gt; &lt;drtn&gt;          
## 1       68 1129 days       
## 2      161  869 days       
## 3      676  122 days       
## 4      758  470 days       
## 5      786 1062 days       
## 6     1698  999 days</code></pre>
<pre><code>## [1] &quot;PersonID&quot;         &quot;n.days.attend.ps&quot;</code></pre>
<p><br></p>
<p>As expected, we have the same number of rows as the previous dataset
- 35,056 rows.</p>
<p>Here are the definitions of the institution sector;</p>
<ul>
<li>0 - Administrative Unit<br />
</li>
<li>1 - Public, 4-year or above<br />
</li>
<li>2 - Private not-for-profit, 4-year or above<br />
</li>
<li>3 - Private for-profit, 4-year or above<br />
</li>
<li>4 - Public, 2-year<br />
</li>
<li>5 - Private not-for-profit, 2-year<br />
</li>
<li>6 - Private for-profit, 2-year<br />
</li>
<li>7 - Public, less-than 2-year<br />
</li>
<li>8 - Private not-for-profit, less-than 2-year<br />
</li>
<li>9 - Private for-profit, less-than 2-year<br />
</li>
<li>99 - Sector unknown (not active)</li>
</ul>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("section-TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#section-TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
